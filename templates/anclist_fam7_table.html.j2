{# 
  Generated by JinjaGenerator for template 'templm/anclist_fam7_table'
    at 2025-10-26T20:25:17.100572

  Used macros:
  - fam7_somebody1(xx, yy, lexa, lexb, sss, ttt)
  - fam7_marriage(xx, lexa, lexb, sss)
  - fam7_somebody(xx, lexa, lexb, sss)
  - fam7_cousin(curlev, maxlev, lexa, lexb, sss)
  - fam7_2nd_cousin(curlev, maxlev, lexa, lexb, sss)
  - fam7_children(curlev, maxlev, lexa, lexb, sss)
  - fam7_nephew(curlev, maxlev, lexa, lexb, sss)
  - fam7()

  Used includes:
  - raw include

  Used variables:
  - bvar.birth_symbol (x2)
  - bvar.death_symbol (x2)
  - xx.is_male (x4)
  - xx.is_female (x4)
  - xx.yy_date.year (x3)
  - xx.yy_date.prec (x2)
  - xx.computable_death_age (x1)
  - xx.death_age (x1)
  - xx.computable_age (x1)
  - xx.age (x1)
  - xx.yy_date.month (x3)
  - xx.yy_date.day (x3)
  - xx.on_yy_date (x1)
  - xx.yy_place (x1)
  - xx (x2)
  - xx.is_restricted (x2)
  - xx.index (x6)
  - xx.occupation (x2)
  - xx.sex (x3)
  - xx.has_sosa (x4)
  - xx.has_families (x2)
  - xx.is_dead (x1)
  - sss (x4)
  - death_symbol (x4)
  - birth_symbol (x3)
  - lxbdy (x10)
  - lby (x12)
  - cancel_links (x2)
  - lxr (x8)
  - lxyo (x3)
  - browsing_with_sosa_ref (x2)
  - evar.image (x4)
  - evar.v (x1)
  - l1i (x5)
  - sosa_ref.index (x3)
  - l1s (x2)
  - ldy (x2)
  - marriage_date.year (x3)
  - marriage_date.month (x3)
  - marriage_date.day (x3)
  - lxmy (x10)
  - on_marriage_date (x1)
  - marriage_place (x1)
  - are_married (x1)
  - are_divorced (x1)
  - are_separated (x1)
  - spouse (x1)
  - nb_children (x4)
  - empty_sorted_list (x1)
  - birth_date.year (x3)
  - is_dead (x1)
  - death_date.year (x3)
  - is_male (x1)
  - is_female (x1)
  - index (x1)
  - has_parents (x6)
  - father.index (x1)
  - father.has_parents (x2)
  - father.father.index (x1)
  - father.mother.index (x1)
  - mother.index (x1)
  - mother.has_parents (x2)
  - mother.father.index (x1)
  - mother.mother.index (x1)
  - lt1 (x1)
  - reset_count (x1)
  - count (x1)
#}
<!-- $Id: templm/anclist_fam7_table.txt v7.0 2014/11/12 14:33:31 $ -->
{% with %}
    {% set birth_symbol = (bvar.birth_symbol) if (( bvar.birth_symbol != "" )) else ("&deg;") %}
    {% with %}
        {% set death_symbol = (bvar.death_symbol) if (( bvar.death_symbol != "" )) else ("&dagger;") %}
        {% macro fam7_somebody1(xx, yy, lexa, lexb, sss, ttt) %}
            {% with %}
                {% set lxr = (a_of_b((_("lexa", variant='0')) if (xx.is_male) else ((_("lexa", variant='1')) if (xx.is_female) else (_("lexa", variant='2'))), (_("lexb", variant='0')) if (( sss == 0 )) else ((_("lexb", variant='1')) if (( sss == 1 )) else (_("lexb", variant='2'))))) if (( "lexb" != "" )) else ((_("lexa", variant='0')) if (xx.is_male) else ((_("lexa", variant='1')) if (xx.is_female) else (_("lexa", variant='2')))) %}
                {% with %}
                    {% set lxbdy = ((xx.yy_date.year) if (( xx.yy_date.year > 0 ))) if (( ( xx.yy_date.year != "" ) and ( ( xx.yy_date.prec != "|" ) and ( xx.yy_date.prec != ".." ) ) )) else ("9999") %}
                    {% with %}
                        {% set lxyo = ("<span class="nobr xs">"death_symbol" "xx.death_age"</span>
                                                ") if (( ( "yy" == "death" ) and xx.computable_death_age ))("<span class="nobr xs">"birth_symbol" "xx.age"</span>
                                                ") if (( ( "yy" == "birth" ) and xx.computable_age )) %}{{ add_in_sorted_list(lxbdy(("00") if (( xx.yy_date.month == "" )) else (("0") if (( xx.yy_date.month < 10 )))xx.yy_date.month("00") if (( xx.yy_date.day == "" )) else (("0") if (( xx.yy_date.day < 10 )))xx.yy_date.day) if (( lxbdy != 9999 )) else ("9999"), ((( lxbdy - lby )) if (( lxbdy >= lby )) else (("-"( lby - lxbdy )) if (( lby > lxbdy )))) if (( ( lxbdy != 9999 ) and ( lby != 9999 ) )), ("1") if (( "yy" == "birth" )) else ("3"), xx.on_yy_date, xx.yy_place, "ttt", xx, (lxrlxyo) if (( cancel_links or xx.is_restricted )) else (("<a href=""
   "
   /
   "
   "
   m="RLM"
   et="S"
   spouse="on"
   image="evar.image"
   i1="l1i"
   i2="xx.index"
   t2="lxr"
   i3="sosa_ref.index"
   t3="sosa_1"
   i4="l1i"
   t4="l1s"
   ">"lxrlxyo"</a>") if (browsing_with_sosa_ref) else ("<a href=""
   "
   /
   "
   "
   em="R"
   ei="xx.index"
   spouse="on"
   et="S"
   image="evar.image"
   i="l1i"
   ">"lxrlxyo"</a>")), xx.occupation, xx.index, (("fam7_before") if (( lxbdy < lby )) else (("fam7_after") if (( lxbdy > ldy )) else ("fam7_yy"xx.sex))) if (( lxbdy != 9999 )) else ("fam7_no_date"), "."xx.has_sosa, ("fam7_him_her") if (( "lexa" == "him/her" )), "li_"xx.sex" li_"xx.has_familiesxx.has_sosa) }}
                    {% endwith %}
                {% endwith %}
            {% endwith %}
        {% endmacro %}
        {% macro fam7_marriage(xx, lexa, lexb, sss) %}
            {% with %}
                {% set lxr = (a_of_b((_("lexa", variant='0')) if (xx.is_male) else ((_("lexa", variant='1')) if (xx.is_female) else (_("lexa", variant='2'))), (_("lexb", variant='0')) if (( sss == 0 )) else ((_("lexb", variant='1')) if (( sss == 1 )) else (_("lexb", variant='2'))))) if (( "lexb" != "" )) else ((_("lexa", variant='0')) if (xx.is_male) else ((_("lexa", variant='1')) if (xx.is_female) else (_("lexa", variant='2')))) %}
                {% with %}
                    {% set lxmy = (marriage_date.year) if (( ( marriage_date.year != "" ) and ( marriage_date.year > 0 ) )) else ("9999") %}{{ add_in_sorted_list(lxmy(("00") if (( marriage_date.month == "" )) else (("0") if (( marriage_date.month < 10 )))marriage_date.month("00") if (( marriage_date.day == "" )) else (("0") if (( marriage_date.day < 10 )))marriage_date.day) if (( lxmy != 9999 )) else ("9999"), ((( lxmy - lby )) if (( lxmy >= lby )) else (("-"( lby - lxmy )) if (( lby > lxmy )))) if (( ( lxmy != 9999 ) and ( lby != 9999 ) )), "2", on_marriage_date, marriage_place, ("&amp;") if (are_married) else ("-")(")(") if (are_divorced) else (("|") if (are_separated)), xx"<br> &amp; "spouse, (lxr) if (( cancel_links or xx.is_restricted )) else (("<a href=""
   "
   /
   "
   "
   m="RLM"
   et="S"
   spouse="on"
   image="evar.image"
   i1="sosa_ref.index"
   i2="xx.index"
   t2="lxr"
   i3="l1i"
   t3="l1s"
   i4="sosa_ref.index"
   t4="sosa_1"
   ">"lxr"</a>") if (browsing_with_sosa_ref) else ("<a href=""
   "
   /
   "
   "
   em="R"
   ei="xx.index"
   spouse="on"
   et="S"
   image="evar.image"
   i="l1i"
   ">"lxr"</a>")), xx.occupation, xx.index, (("fam7_before") if (( lxmy < lby )) else (("fam7_after") if (( lxmy > ldy )) else ("fam7_marriage"))) if (( lxmy != 9999 )) else ("fam7_no_date"), "."xx.has_sosa, ("fam7_him_her") if (( "lexa" == "him/her" )), "li_"xx.sex" li_"xx.has_familiesxx.has_sosa, ) }}
                {% endwith %}
            {% endwith %}
        {% endmacro %}
        {% macro fam7_somebody(xx, lexa, lexb, sss) %}
            {{ fam7_somebody1("xx", "birth", "lexa", "lexb", "sss", birth_symbol) }}
            {% if xx.is_dead %}{{ fam7_somebody1("xx", "death", "lexa", "lexb", "sss", death_symbol) }}{% endif %}
        {% endmacro %}
        {% macro fam7_cousin(curlev, maxlev, lexa, lexb, sss) %}
            {% if ( nb_children > 0 ) %}{# foreach not implemented yet #}{% endif %}{% endmacro %}{% macro fam7_2nd_cousin(curlev, maxlev, lexa, lexb, sss) %}{% if ( nb_children > 0 ) %}{# foreach not implemented yet #}{% endif %}{% endmacro %}{% macro fam7_children(curlev, maxlev, lexa, lexb, sss) %}{% if ( nb_children > 0 ) %}{# foreach not implemented yet #}{% endif %}{% endmacro %}{% macro fam7_nephew(curlev, maxlev, lexa, lexb, sss) %}{% if ( nb_children > 0 ) %}{# foreach not implemented yet #}{% endif %}{% endmacro %}{% macro fam7() %}{% with %}{% set lv7 = min(evar.v, 4) %}{{ empty_sorted_list }}{# foreach not implemented yet #}
            {% endwith %}
        {% endmacro %}
        {% with %}
            {% set lby = (birth_date.year) if (( ( birth_date.year != "" ) and ( birth_date.year > 0 ) )) else ("9999") %}
            {% with %}
                {% set ldy = (death_date.year) if (( is_dead and ( ( death_date.year != "" ) and ( death_date.year > 0 ) ) )) else ("9999") %}
                {% with %}
                    {% set l1s = (_("him/her", variant='0')) if (is_male) else ((_("him/her", variant='1')) if (is_female) else ("0")) %}
                    {% with %}
                        {% set l1i = index %}
                        {% with %}
                            {% set l2i = (father.index) if (has_parents) %}
                            {% with %}
                                {% set l3i = (mother.index) if (has_parents) %}
                                {% with %}
                                    {% set l4i = (father.father.index) if (( has_parents and father.has_parents )) %}
                                    {% with %}
                                        {% set l5i = (father.mother.index) if (( has_parents and father.has_parents )) %}
                                        {% with %}
                                            {% set l6i = (mother.father.index) if (( has_parents and mother.has_parents )) %}
                                            {% with %}
                                                {% set l7i = (mother.mother.index) if (( has_parents and mother.has_parents )) %}
                                                {% with %}
                                                    {% set lt1 = "° "_("birth")"
                                                                                                            &amp; "_("marriage/marriages", variant='0')"
                                                                                                            &amp;)( "_("divorce")"
                                                                                                            "death_symbol" "_("death")"
                                                                                                        " %}{{ fam7() }}
                                                    <table summary="family life dates" class="fam7_table">
                                                        <colgroup>
                                                            <col width="35" />
                                                            <col width="10" />
                                                            <col width="300" />
                                                            <col width="30" />
                                                            <col width="300" />
                                                            <col width="300" />
                                                            <col width="300" />
                                                        </colgroup>
                                                        <thead>
                                                            <tr>
                                                                <th>{{ _("years old") }}</th>
                                                                <th>{{ _("date/dates", variant='0') }}</th>
                                                                <th>{{ _("place/places", variant='0') }}</th>
                                                                <th>
                                                                    <abbr title="{{ lt1 }}">{{ birth_symbol }}&amp;{{ death_symbol }}</abbr>
                                                                </th>
                                                                <th>{{ _("person/persons", variant='0') }}</th>
                                                                <th>{{ _("relationship", variant='0') }}</th>
                                                                <th>{{ _("occupation/occupations", variant='0') }}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            {{ reset_count }}{# foreach not implemented yet #}
                                                            <tr>
                                                                <td colspan="7">{{ _("total") |capitalize }} : {{ count }} [person/persons]1@(c)</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                {% endwith %}
                                            {% endwith %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endwith %}
                            {% endwith %}
                        {% endwith %}
                    {% endwith %}
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endwith %}
{% endwith %}

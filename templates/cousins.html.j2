{# 
  Generated by JinjaGenerator for template 'cousins'
    at 2025-10-26T20:24:37.234978

  Used macros:
  - cousin_lex(vvv, www)
  - tt()
  - tturl()
  - on_side(xxx)
  - url(xxx, yyy)
  - add_to_sorted_list(xxx, ccc)

  Used includes:
  - css
  - hed
  - perso_utils
  - menubar
  - trl
  - copyr
  - js

  Used variables:
  - lang (x1)
  - evar.v1 (x8)
  - evar.v2 (x13)
  - evar.wide (x1)
  - evar.image (x2)
  - evar.spouse (x5)
  - evar.long (x4)
  - public_name (x2)
  - first_name (x1)
  - qualifier (x2)
  - sp (x1)
  - surname (x1)
  - body_prop (x1)
  - message_to_wizard (x1)
  - first_name_key (x1)
  - surname_key (x1)
  - occ (x4)
  - xxx.first_name_key (x2)
  - xxx.surname_key (x2)
  - xxx.occ (x4)
  - xxx (x1)
  - xxx.dates (x1)
  - xxx.index (x1)
  - my_first_name_key (x4)
  - my_surname_key (x4)
  - my_occ (x2)
  - yyy.first_name_key (x1)
  - yyy.surname_key (x1)
  - yyy.occ (x1)
  - empty_sorted_list (x1)
  - ccc (x1)
  - sex (x1)
  - self (x2)
  - self.index (x1)
  - self.father (x1)
  - self.mother (x1)
  - has_parents (x1)
  - father.has_children (x1)
  - mother.has_children (x1)
  - reset_count (x2)
  - reset_count1 (x1)
  - reset_count2 (x1)
  - count (x6)
  - index (x1)
  - access (x2)
  - count2 (x1)
  - query_time (x1)
#}
<!DOCTYPE html>
<html lang="{{ lang }}">
    <head>
        <!-- $Id: cousins.txt v7.1 23/11/2023 21:01:47 $ -->
        <!-- Copyright (c) 1998-2007 INRIA -->
        {% macro cousin_lex(vvv, www) %}
            {{ _("cousins.vvv.www", variant='1') |capitalize }}
        {% endmacro %}
        {% macro tt() %}
            {{ clean_html_tags(a_of_b_gr_eq_lev(cousin_lex(evar.v1, evar.v2) , (public_name) if (( public_name != "" )) else (first_name)(" "qualifier) if (( qualifier != "" ))spsurname)) }}
        {% endmacro %}
        {% macro tturl() %}
            {{ url_encode(tt() ) }}
        {% endmacro %}
        <title>{{ tt() }}</title>
        <meta name="robots" content="none">
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon"
              href="{{ url_for('static', path='images/favicon_gwd.png') }}">
        {% include 'css.html.j2' %}
    </head>
    <body {{ body_prop }}>
        {% include 'hed.html.j2' %}
        {{ message_to_wizard }}
        <div class="container{% if ( evar.wide == "on" ) %}-fluid{% endif %}">
            {% include 'perso_utils.html.j2' %}
            {% include 'menubar.html.j2' %}
            <div class="alert alert-warning pl-5" role="alert">{{ _("select person to compute relationship") |capitalize }}</div>
            {% macro on_side(xxx) %}
                {{ _("on %s's side:::xxx") |capitalize }}
            {% endmacro %}
            {% with %}
                {% set my_first_name_key = first_name_key %}
                {% with %}
                    {% set my_surname_key = surname_key %}
                    {% with %}
                        {% set my_occ = occ %}
                        {% macro url(xxx, yyy) %}
                            <a href="/m=RL{% if ( "xxx" == "ancestor" ) %}&p={{ xxx.first_name_key }}&n={{ xxx.surname_key }}{% if ( xxx.occ != 0 ) %}&oc={{ xxx.occ }}{% endif %}{% else %}{% if ( "xxx" == "descendant" ) %}&p={{ my_first_name_key }}&n={{ my_surname_key }}{% if ( occ != 0 ) %}&oc={{ my_occ }}{% endif %}{% else %}{% if ( "xxx" == "child" ) %}&p={{ yyy.first_name_key }}&n={{ yyy.surname_key }}{% if ( occ != 0 ) %}&oc={{ yyy.occ }}{% endif %}{% endif %}{% endif %}{% endif %}&p1={{ my_first_name_key }}&n1={{ my_surname_key }}{% if ( occ != 0 ) %}&oc1={{ my_occ }}{% endif %}&{% if ( ( "xxx" == "ancestor" ) or ( ( "xxx" == "descendant" ) or ( "xxx" == "child" ) ) ) %}l{% else %}b{% endif %}1={{ evar.v1 }}&p2={{ xxx.first_name_key }}&n2={{ xxx.surname_key }}{% if ( xxx.occ != 0 ) %}&oc2={{ xxx.occ }}{% endif %}&{% if ( ( "xxx" == "ancestor" ) or ( ( "xxx" == "descendant" ) or ( "xxx" == "child" ) ) ) %}l{% else %}b{% endif %}2={{ evar.v2 }}{% if ( evar.image == "off" ) %}&image=off;{% endif %}{% if ( evar.spouse != "" ) %}&spouse={{ evar.spouse }}{% endif %}{% if ( evar.long != "" ) %}&long={{ evar.long }}{% endif %}">{{ xxx }} {{ xxx.dates }}</a>
                            {% if ( ( evar.spouse == "on" ) and ( "xxx" != "ancestor" ) ) %}{# foreach not implemented yet #}{% endif %}
                        {% endmacro %}
                        {{ empty_sorted_list }}
                        {% macro add_to_sorted_list(xxx, ccc) %}
                            {{ add_in_sorted_list("&i"( ccc + 1) "="xxx.index) }}
                        {% endmacro %}
                        <h3>
                            {% if ( ( evar.v1 == 0 ) and ( evar.v2 == 0 ) ) %}
                                {% if ( sex == 0 ) %}
                                    {{ _("him/her", variant='0') |capitalize }}
                                {% else %}
                                    {{ _("him/her", variant='1') |capitalize }}
                                {% endif %}
                            {% else %}
                                <h3>
                                    {{ a_of_b(cousin_lex(evar.v1, evar.v2) , self) }}
                                {% endif %}
                            </h3>
                            {% if ( ( evar.v1 == 1 ) and ( evar.v2 == 1 ) ) %}
                                {% if has_parents %}
                                    {% with %}
                                        {% set my_index = self.index %}
                                        {% with %}
                                            {% set my_father = self.father %}
                                            {% with %}
                                                {% set my_mother = self.mother %}
                                                {% if father.has_children %}
                                                    <ul>
                                                        {# foreach not implemented yet #}{# foreach not implemented yet #}
                                                    </ul>
                                                {% endif %}
                                                {% if mother.has_children %}
                                                    <ul>
                                                        {# foreach not implemented yet #}
                                                    </ul>
                                                {% endif %}
                                            {% endwith %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endif %}
                            {% else %}
                                {% if ( evar.v1 == 0 ) %}
                                    {% if ( ( evar.v2 == 0 ) or ( evar.v2 == "" ) ) %}
                                        <a href="/m=RL&p1={{ my_first_name_key }}&n1={{ my_surname_key }}&b1=2&p2={{ my_first_name_key }}&n2={{ my_surname_key }}&b2=2{% if ( evar.image == "off" ) %}&image=off;{% endif %}{% if ( evar.spouse != "" ) %}&spouse={{ evar.spouse }}{% endif %}{% if ( evar.long != "" ) %}&long={{ evar.long }}{% endif %}">{{ self }}</a>
                                    {% else %}
                                        {{ reset_count }}
                                        <ul>
                                            {# foreach not implemented yet #}
                                        </ul>
                                    {% endif %}
                                {% else %}
                                    {% if ( evar.v2 == 0 ) %}
                                        {{ reset_count }}{{ reset_count1 }}{{ reset_count2 }}
                                        <ul>
                                            {# foreach not implemented yet #}
                                        </ul>
                                    {% else %}
                                        That should not happen!
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                            {% if ( ( count != "" ) and ( count > 1 ) ) %}
                                <a id="RLM"
                                   href="/m=RLM&spouse=on&i1={{ index }}{# foreach not implemented yet #}&tt={{ tt_url() }}"><span class="d-inline-block fa-flip-vertical"><i class="fa fa-diagram-project fa-rotate-270 mr-1"></i></span> Graphe RLM</a>
                                {% if ( ( evar.v2 == 0 ) or ( evar.v2 == "" ) ) %}
                                    <a id="asc"
                                       class="ml-3"
                                       href="/m=A&t=T&{{ access }}&spouse=on&v={{ evar.v1 + 1 }}"><i class="fa fa-sitemap fa-rotate-180 fa-fw mr-1"></i>Graphe ASC.</a>
                                {% endif %}
                                {% if ( ( evar.v1 == 0 ) and ( evar.v2 > 0 ) ) %}
                                    <a id="desc"
                                       class="ml-3"
                                       href="/m=D&t=T&{{ access }}&spouse=on&v={{ evar.v2 }}"><i class="fa fa-sitemap fa-fw mr-1"></i>Graphe DESC.</a>
                                {% endif %}
                            {% endif %}
                            <div class="my-3">
                                Total{{ _(":") }}
                                {% if ( evar.v2 == 0 ) %}
                                    {{ count - count2 }}
                                {% else %}
                                    {{ count }}
                                {% endif %}
                                {% if ( ( count == 0 ) or ( count == 1 ) ) %}
                                    {{ _("person/persons", variant='0') }}
                                {% else %}
                                    {{ _("person/persons", variant='1') }}
                                {% endif %}
                                .
                            </div>
                            {% include 'trl.html.j2' %}
                            {% include 'copyr.html.j2' %}
                        </div>
                        {% include 'js.html.j2' %}
                        {{ query_time }}
                    </body>
                </html>
            {% endwith %}
        {% endwith %}
    {% endwith %}

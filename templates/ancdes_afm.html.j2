{# 
  Generated by JinjaGenerator for template 'templm/ancdes_afm'
    at 2025-10-26T20:25:15.974258

  Used macros:
  - stat_a1()
  - stat_a2()
  - anc_a()
  - des_a1(curlev, maxlev)
  - des_a2(curlev, maxlev)

  Used includes:
  - ancdes_stat

  Used variables:
  - l1 (x2)
  - count (x5)
  - evar.m (x2)
  - empty_sorted_list (x1)
  - reset_count (x1)
  - birth_date.year (x4)
  - birth_date.prec (x4)
  - has_parents (x4)
  - father.birth_date.year (x4)
  - father.birth_date.prec (x4)
  - father.index (x1)
  - mother.birth_date.year (x4)
  - mother.birth_date.prec (x4)
  - mother.index (x1)
  - l_aby (x10)
  - l_fby (x4)
  - incr_count (x4)
  - l_age (x4)
  - l_mby (x4)
  - index (x2)
#}
<!-- $Id: templm/ancdes_afm.txt v7.0 2014/11/24 16:28:06 $ -->
{% include 'ancdes_stat.html.j2' %}
{% macro stat_a1() %}
    {% with %}
        {% set l_max_width = "180" %}
        {% with %}
            {% set l1 = _("age")|capitalize" ("_("father/mother", variant='0')", "_("father/mother", variant='1')")" %}
            <div class="s1 bcbg2">
                <span class="s2">{{ l1 }}</span>
                <span class="s3">{{ count }}Â {{ _("date/dates", variant='1') }}</span>
            </div>
            <div class="s1 bcbg1" style="height:8.5em;">
                <span class="sn4" style="top:1em;">70</span>
                <span class="sn4" style="top:2em;">60</span>
                <span class="sn4" style="top:3em;">50</span>
                <span class="sn4" style="top:4em;">40</span>
                <span class="sn4" style="top:5em;">30</span>
                <span class="sn4" style="top:6em;">20</span>
                <span class="sn4" style="top:7em;">10</span>
                {{ stat1(1, "sn", "bottom", l1) }}
            </div>
        {% endwith %}
    {% endwith %}
{% endmacro %}
{% macro stat_a2() %}
    <table class="title" width="100%">
        <tr>
            {% if ( evar.m == "A" ) %}<td>{{ _("generation/generations", variant='0') |capitalize }}</td>{% endif %}
            <td align="center">
                {{ _("age") |capitalize }} ({{ _("father/mother", variant='0') }}, {{ _("father/mother", variant='1') }})
            </td>
            <td align="right">{{ _("date of birth") |capitalize }}</td>
        </tr>
    </table>
{% endmacro %}
{% macro anc_a() %}
    {{ empty_sorted_list }}{{ reset_count }}{# foreach not implemented yet #}{{ stat_a1() }}
    <div class="stat2 bcbg1">{{ stat_a2() }}{# foreach not implemented yet #}</div>
{% endmacro %}
{% macro des_a1(curlev, maxlev) %}
    {% with %}
        {% set l_aby = ("0") if (( ( birth_date.year == "" ) or ( ( birth_date.prec == ".." ) or ( birth_date.prec == "|" ) ) )) else (birth_date.year) %}
        {% with %}
            {% set l_fby = (("9999") if (( ( father.birth_date.year == "" ) or ( ( father.birth_date.prec == ".." ) or ( father.birth_date.prec == "|" ) ) )) else (father.birth_date.year)) if (has_parents) else ("9999") %}
            {% with %}
                {% set l_mby = (("9999") if (( ( mother.birth_date.year == "" ) or ( ( mother.birth_date.prec == ".." ) or ( mother.birth_date.prec == "|" ) ) )) else (mother.birth_date.year)) if (has_parents) else ("9999") %}
                {% if ( l_aby >= l_fby ) %}
                    {{ incr_count }}
                    {% with %}
                        {% set l_age = ( ( l_aby - l_fby ) / 10 ) %}{{ add_in_sorted_list(0, l_age, father.index, count) }}
                    {% endwith %}
                {% endif %}
                {% if ( l_aby >= l_mby ) %}
                    {{ incr_count }}
                    {% with %}
                        {% set l_age = ( ( l_aby - l_mby ) / 10 ) %}{{ add_in_sorted_list(1, l_age, mother.index, count) }}
                    {% endwith %}
                {% endif %}
                {# foreach not implemented yet #}{% endwith %}{% endwith %}{% endwith %}{% endmacro %}{% macro des_a2(curlev, maxlev) %}{% with %}{% set l_aby = ("0") if (( ( birth_date.year == "" ) or ( ( birth_date.prec == ".." ) or ( birth_date.prec == "|" ) ) )) else (birth_date.year) %}{% with %}{% set l_fby = (("9999") if (( ( father.birth_date.year == "" ) or ( ( father.birth_date.prec == ".." ) or ( father.birth_date.prec == "|" ) ) )) else (father.birth_date.year)) if (has_parents) else ("9999") %}{% with %}{% set l_mby = (("9999") if (( ( mother.birth_date.year == "" ) or ( ( mother.birth_date.prec == ".." ) or ( mother.birth_date.prec == "|" ) ) )) else (mother.birth_date.year)) if (has_parents) else ("9999") %}{% if ( l_aby >= l_fby ) %}{{ incr_count }}{% with %}{% set l_age = ( l_aby - l_fby ) %}{{ add_in_sorted_list(l_aby, l_age, 0, index, count) }}{% endwith %}{% endif %}{% if ( l_aby >= l_mby ) %}{{ incr_count }}{% with %}{% set l_age = ( l_aby - l_mby ) %}{{ add_in_sorted_list(l_aby, l_age, 1, index, count) }}{% endwith %}{% endif %}{# foreach not implemented yet #}
            {% endwith %}
        {% endwith %}
    {% endwith %}
{% endmacro %}
{{ togen() }}
{% if ( evar.m == "A" ) %}
    {{ anc_a() }}
{% else %}
    {{ des_a() }}
{% endif %}

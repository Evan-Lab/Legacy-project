{# 
  Generated by JinjaGenerator for template 'templm/ancsosa_tab'
    at 2025-10-26T20:25:18.457211

  Used macros:
  - tothegen(xx)
  - thegen(xx)
  - togena(xx)
  - gen(xx)
  - letter(xx)
  - link(aaa, xxx, nnn)
  - link2(xxx, nnn)
  - my_link(aaa, xxx, rrr, nnn)
  - living_interval_dates(xxx, yyy)
  - ancestor_missing_birth(xx)
  - ancestor_missing_death(xx)
  - display_missing_ancestor_info(xx)
  - somebody_long_info(xx)
  - somebody_extra_info(xx)
  - somebody(xx)
  - somebody_spouse_parent(xx)
  - image_sosa(xxx, yyy)
  - display_sosa(xx)
  - married_to(is_male, date_place)
  - link3(aa, xx)
  - link_dates1(xx)
  - link_marriage1(yy)
  - link_parents()
  - imgtdz(xx)
  - info3(xx)
  - link_rel(xx)
  - symbol2(xx)
  - symbol1(xx)
  - nb_fam(xx)
  - male_line(xx, z1)
  - female_line(xx, z1)
  - month(mmm)
  - day(ddd)
  - dprec(ddd)
  - addlist(xxx)
  - one_line(z1)
  - child_notes(spec)
  - long_display_notes()
  - long_display_ancestor_personal()
  - child_long_info(spec)
  - long_display_ancestor_families()
  - dates_in_interval(xx)
  - implex()
  - table_row()
  - table_family()
  - table_ancestor_to_somebody()
  - table_double()
  - date_prec_year(xx)
  - csv_row(xx)

  Used includes:
  - css
  - hed
  - perso_utils
  - menubar
  - buttons
  - table_utils
  - raw include
  - perso_short
  - miss_evt
  - trl
  - copyr
  - js

  Used variables:
  - lang (x1)
  - e.t (x25)
  - e.xx (x5)
  - e.only (x6)
  - e.v (x12)
  - e.evt (x3)
  - e.cgl (x4)
  - e.i1 (x1)
  - e.p1 (x1)
  - e.after (x10)
  - e.before (x10)
  - e.birth (x6)
  - e.death (x6)
  - e.spouse (x4)
  - e.rel (x1)
  - e.im (x2)
  - e.image (x3)
  - e.rev (x1)
  - e.src (x14)
  - e.notes (x17)
  - e.siblings (x2)
  - e.inline (x12)
  - e.num (x5)
  - e.sosab (x4)
  - e.marr (x7)
  - e.marr_date (x7)
  - e.marr_place (x7)
  - e.hl (x6)
  - e.repeat (x2)
  - e.nowrap (x1)
  - e.ns (x2)
  - e.fn (x1)
  - e.tt (x1)
  - e.px (x2)
  - e.child (x1)
  - e.age (x1)
  - e.occu (x1)
  - e.templ (x1)
  - e.al (x1)
  - e.oc (x2)
  - e.csv (x1)
  - xx (x13)
  - xx.has_birth_date (x5)
  - xx.has_birth_place (x6)
  - xx.slash_birth_date (x2)
  - xx.birth_place (x3)
  - xx.has_baptism_date (x5)
  - xx.has_baptism_place (x6)
  - xx.slash_baptism_date (x2)
  - xx.baptism_place (x3)
  - xx.is_dead (x3)
  - xx.has_death_date (x3)
  - xx.slash_death_date (x2)
  - xx.has_death_place (x4)
  - xx.death_place (x3)
  - xx.is_buried (x2)
  - xx.has_burial_date (x3)
  - xx.slash_burial_date (x2)
  - xx.has_burial_place (x4)
  - xx.burial_place (x3)
  - xx.is_cremated (x2)
  - xx.has_cremation_date (x2)
  - xx.slash_cremation_date (x1)
  - xx.has_cremation_place (x2)
  - xx.cremation_place (x2)
  - xx.has_families (x1)
  - xx.has_parents (x2)
  - xx.first_name (x1)
  - xx.surname (x1)
  - xx.has_aliases (x1)
  - xx.sosa_in_list (x1)
  - xx.has_nobility_titles (x2)
  - xx.is_male (x4)
  - xx.is_female (x2)
  - xx.on_birth_date (x1)
  - xx.on_baptism_date (x1)
  - xx.died (x1)
  - xx.on_death_date (x1)
  - xx.on_burial_date (x1)
  - xx.on_cremation_date (x1)
  - xx.computable_death_age (x2)
  - xx.death_age (x2)
  - xx.has_occupation (x2)
  - xx.occupation (x2)
  - xx.has_relations (x1)
  - xx.access (x3)
  - xx.is_restricted (x1)
  - xx.index (x4)
  - xx.has_sosa (x2)
  - xx.sosa_link (x1)
  - xx.sosa (x1)
  - xx.birth_date.year (x7)
  - xx.baptism_date.year (x7)
  - xx.death_date.year (x7)
  - xx.burial_date.year (x7)
  - xx.has_image (x1)
  - xx.image_url (x1)
  - xx.nobility_title (x1)
  - xx.computable_age (x1)
  - xx.age (x1)
  - xx.has_consanguinity (x1)
  - xx.consanguinity (x1)
  - xx.has_siblings (x1)
  - xx.same (x2)
  - xx.nb_families (x3)
  - xx.nb_children (x1)
  - xx.cremated_date.year (x6)
  - public_name (x4)
  - first_name (x2)
  - qualifier (x4)
  - sp (x31)
  - surname (x2)
  - max_anc_level (x5)
  - nb_gen (x5)
  - body_prop (x1)
  - message_to_wizard (x1)
  - cancel_links (x28)
  - bvar.birth_symbol (x2)
  - bvar.death_symbol (x2)
  - bvar.display_sosa (x1)
  - bvar.show_consang (x1)
  - xxx (x3)
  - xxx.access (x1)
  - xxx.title (x1)
  - xxx.dates (x1)
  - rrr (x1)
  - nl (x2)
  - spouse.xx.access (x1)
  - spouse.xx (x1)
  - spouse.is_restricted (x1)
  - spouse.index (x1)
  - spouse.xx.has_nobility_titles (x1)
  - spouse.xx.nobility_title.ident_key (x1)
  - spouse.xx.nobility_title.place_key (x1)
  - spouse.xx.nobility_title (x1)
  - spouse.xx.dates (x1)
  - spouse.xx.sosa_in_list (x3)
  - spouse.surname (x1)
  - spouse.first_name (x1)
  - spouse (x1)
  - sosa_ref.first_name_key_strip (x1)
  - sosa_ref.surname_key_strip (x1)
  - are_married (x3)
  - are_not_married (x7)
  - are_engaged (x2)
  - is_no_sexes_check (x2)
  - is_no_mention (x2)
  - wizard (x9)
  - ltmp (x1)
  - birth_symbol (x1)
  - lazy_force (x8)
  - lazy_printed (x2)
  - l1 (x2)
  - death_symbol (x1)
  - l2 (x1)
  - family.index (x3)
  - left (x4)
  - index (x4)
  - ancestor.has_linked_page.MARRIAGEA (x1)
  - ancestor.spouse.has_linked_page.MARRIAGEA (x1)
  - ancestor.is_male (x3)
  - ancestor.is_female (x2)
  - ancestor.same (x6)
  - ancestor.father_sosa (x6)
  - ancestor.anc_sosa (x10)
  - ancestor.has_parents (x4)
  - ancestor.first_name (x8)
  - ancestor.surname (x3)
  - ancestor.index (x7)
  - ancestor (x11)
  - ancestor.marriage_date.year (x1)
  - ancestor.anc_sosa.v (x7)
  - ancestor.mother_sosa (x2)
  - ancestor.has_notes (x9)
  - ancestor.has_event (x4)
  - ancestor.has_sources (x3)
  - ancestor.notes (x2)
  - ancestor.same.hexa (x1)
  - ancestor.same.octal (x1)
  - ancestor.nb_families (x9)
  - ancestor.occ (x3)
  - ancestor.access (x2)
  - ancestor.anc_sosa.hexa (x1)
  - ancestor.anc_sosa.octal (x1)
  - ancestor.has_psources (x8)
  - ancestor.psources (x1)
  - ancestor.title (x2)
  - ancestor.has_image (x1)
  - ancestor.image_url (x2)
  - ancestor.has_families (x3)
  - ancestor.nb_children (x1)
  - ancestor.computable_death_age (x1)
  - ancestor.death_age (x1)
  - ancestor.computable_age (x1)
  - ancestor.age (x1)
  - ancestor.has_occupation (x1)
  - ancestor.occupation (x1)
  - marriage_date.prec (x1)
  - on_marriage_date (x1)
  - marriage_place (x2)
  - yy (x2)
  - nb_children (x5)
  - slash_marriage_date (x1)
  - level (x3)
  - l_v (x6)
  - ltap (x1)
  - lai (x1)
  - manitou (x1)
  - self (x5)
  - v0 (x7)
  - mmm.month (x4)
  - mmm.prec (x1)
  - ddd.day (x4)
  - ddd.prec (x3)
  - empty_sorted_list (x3)
  - child.sosa_in_list (x4)
  - child.has_sources (x5)
  - child.has_notes (x5)
  - child.has_event (x7)
  - child.notes (x2)
  - child.access (x1)
  - child.child_name (x1)
  - child.is_restricted (x1)
  - child.index (x1)
  - child_cnt (x4)
  - incr_count (x4)
  - prefix_base_password (x2)
  - pvar[1].mark_descendants (x1)
  - pvar[1] (x1)
  - pvar[1].dates (x1)
  - count (x9)
  - xx_date.prec (x1)
  - xx_date.year (x1)
  - dp (x5)
  - dates (x1)
  - only (x2)
  - p_of_index[1] (x1)
  - p_of_index[1].mark_descendants (x1)
  - reset_count (x10)
  - first_name_key (x2)
  - surname_key (x2)
  - nb_ind (x3)
  - item[1] (x2)
  - query_time (x1)
#}
<!-- $Id: ancsosa.txt v7.1 04/10/2024 23:03:26 $ -->
<!-- Copyright (c) 1998-2007 INRIA -->
<!DOCTYPE html>
<html lang="{{ lang }}"
      {% if ( ( e.t == "Z" ) or ( e.t == "Y" ) ) %}id="scrollfix"{% endif %}>
    <head>
        {% macro tothegen(xx) %}
            {{ _("upto the %s generation:::xx") }}
        {% endmacro %}
        {% macro thegen(xx) %}
            {{ _("the %s generation:::xx") }}
        {% endmacro %}
        {% macro togena(xx) %}
            {% if ( xx == 0 ) %}
                {{ _("specify::generation/generations", variant='0') }}
            {% else %}
                {% if ( xx == 1 ) %}
                    {{ _("to the parents") }}
                {% else %}
                    {% if ( xx == 2 ) %}
                        {{ _("to the grandparents") }}
                    {% else %}
                        {% if ( xx == 3 ) %}
                            {{ _("to the great-grandparents") }}
                        {% else %}
                            {{ tothegen(nth(_("nth (generation)") , xx)) }}
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endif %}
        {% endmacro %}
        {% macro gen(xx) %}
            {% if ( e.xx == 0 ) %}
                {{ _("specify::generation/generations", variant='0') |capitalize }}
            {% else %}
                {% if ( e.xx == 1 ) %}
                    {{ _("parents") }}
                {% else %}
                    {% if ( e.xx == 2 ) %}
                        {{ _("grand-parents") }}
                    {% else %}
                        {% if ( e.xx == 3 ) %}
                            {{ _("great-grand-parents") }}
                        {% else %}
                            {{ thegen(nth(_("nth (generation)") , e.xx)) }}
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endif %}
        {% endmacro %}
        <title>
            {% if ( e.t == "D" ) %}
                {{ _("ancestor/ancestors", variant='1') |capitalize }} ... {{ _("up to") }} ...
            {% else %}
                {% if ( ( e.t == "N" ) and ( e.only == "on" ) ) %}
                    {{ _("generation/generations", variant='0') |capitalize }} {{ e.v }}
                {% else %}
                    {{ a_of_b(((_("missing events") |capitalize) if (( e.evt == "on" )) else (_("missing ancestors")|capitalize)) if (( e.t == "M" )) else (_("ancestor/ancestors", variant='1')|capitalize"
                    "), (public_name) if (( public_name != "" )) else (first_name)(" "qualifier) if (( qualifier != "" ))spsurname) }}
                    {% if ( ( e.cgl == "on" ) and ( e.t != "N" ) ) %}
                        {% with %}
                            {% set nb_gen = min(e.v, max_anc_level) %}{{ sp }}{{ togena(nb_gen) }}.
                        {% endwith %}
                    {% endif %}
                {% endif %}
            {% endif %}
        </title>
        <meta name="robots" content="none">
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon"
              href="{{ url_for('static', path='images/favicon_gwd.png') }}">
        {% include 'css.html.j2' %}
    </head>
    <body {{ body_prop }} id="ancsosa">
        {% include 'hed.html.j2' %}
        {% include 'perso_utils.html.j2' %}
        {{ message_to_wizard }}
        <div class="container-fluid{% if ( e.t == "Z" ) %} ml-2{% endif %}">
            {% if ( not cancel_links ) %}
                {% include 'menubar.html.j2' %}
            {% endif %}
            {% include 'buttons.html.j2' %}
            {% with %}
                {% set birth_symbol = (bvar.birth_symbol) if (( bvar.birth_symbol != "" )) else ("&deg;") %}
                {% with %}
                    {% set death_symbol = (bvar.death_symbol) if (( bvar.death_symbol != "" )) else ("&dagger;") %}
                    {% with %}
                        {% set l_up = ("1") if (( ( e.i1 != "" ) or ( e.p1 != "" ) )) %}
                        {% macro letter(xx) %}
                            {{ nth("/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y/z
                                                        ", "xx") }}
                        {% endmacro %}
                        {% macro link(aaa, xxx, nnn) %}
                            {% if ( e.cgl == "on" ) %}
                                xxx
                            {% else %}
                                <a id="i_nnn" href="/aaa">xxx</a>
                            {% endif %}
                        {% endmacro %}
                        {% macro link2(xxx, nnn) %}
                            {% if ( e.cgl == "on" ) %}
                                {{ xxx }}
                            {% else %}
                                <a id="innn" href="/{{ xxx.access }}">{{ xxx }}</a>
                            {% endif %}
                            {{ xxx.title }}{{ xxx.dates }}
                        {% endmacro %}
                        {% macro my_link(aaa, xxx, rrr, nnn) %}
                            {% if ( ( e.cgl == "on" ) or rrr ) %}
                                xxx
                            {% else %}
                                <a id="innn" href="/aaa">xxx</a>
                            {% endif %}
                        {% endmacro %}
                        {% macro living_interval_dates(xxx, yyy) %}
                            {% if ( ( e.after != "" ) and ( e.before != "" ) ) %}
                                ,{{ sp }}{{ _("living between %s and %s:::xxx:yyy") }}
                            {% else %}
                                {% if ( e.before != "" ) %}
                                    ,{{ sp }}{{ _("living before %s:::yyy") }}
                                {% else %}
                                    {% if ( e.after != "" ) %}
                                        ,{{ sp }}{{ _("living after %s:::xxx") }}
                                    {% else %}
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endmacro %}
                        {% macro ancestor_missing_birth(xx) %}
                            {% if ( xx.has_birth_date or xx.has_birth_place ) %}
                                {% if xx.has_birth_date %}{{ xx.slash_birth_date }}{% endif %}
                                {% if xx.has_birth_place %}- {{ xx.birth_place }}{% endif %}
                            {% else %}
                                {% if ( xx.has_baptism_date or xx.has_baptism_place ) %}
                                    {% if xx.has_baptism_date %}{{ xx.slash_baptism_date }}{% endif %}
                                    {% if xx.has_baptism_place %}- {{ xx.baptism_place }}{% endif %}
                                {% else %}
                                    &nbsp;
                                {% endif %}
                            {% endif %}
                        {% endmacro %}
                        {% macro ancestor_missing_death(xx) %}
                            {% if xx.is_dead %}
                                {% if xx.has_death_date %}{{ xx.slash_death_date }}{% endif %}
                                {% if xx.has_death_place %}- {{ xx.death_place }}{% endif %}
                            {% else %}
                                {% if xx.is_buried %}
                                    {% if xx.has_burial_date %}{{ xx.slash_burial_date }}{% endif %}
                                    {% if xx.has_burial_place %}- {{ xx.burial_place }}{% endif %}
                                {% else %}
                                    {% if xx.is_cremated %}
                                        {% if xx.has_cremation_date %}{{ xx.slash_cremation_date }}{% endif %}
                                        {% if xx.has_cremation_place %}- {{ xx.cremation_place }}{% endif %}
                                    {% else %}
                                        &nbsp;
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endmacro %}
                        {% macro display_missing_ancestor_info(xx) %}
                            {% if ( e.birth == "on" ) %}<td>{{ ancestor_missing_birth("xx") }}</td>{% endif %}
                            {% if ( e.death == "on" ) %}<td>{{ ancestor_missing_death("xx") }}</td>{% endif %}
                            {% if ( e.spouse == "on" ) %}
                                <td>
                                    {% if xx.has_families %}
                                        {% if ( ( not xx.has_parents ) and ( ( xx.first_name != "?" ) and ( xx.surname != "?" ) ) ) %}
                                            {# foreach not implemented yet #}
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        {% endmacro %}
                        {% macro somebody_long_info(xx) %}
                            {% if xx.has_aliases %}{# foreach not implemented yet #}{% endif %}{% if ( ( ( "xx" == "ancestor" ) or ( xx.sosa_in_list == "" ) ) and xx.has_nobility_titles ) %}<em>{# foreach not implemented yet #}</em>
                            {% endif %}
                            {% if ( xx.has_birth_date or xx.has_birth_place ) %}
                                ,
                                {% if xx.is_male %}
                                    {{ _("born", variant='0') }}
                                {% else %}
                                    {% if xx.is_female %}
                                        {{ _("born", variant='1') }}
                                    {% else %}
                                        {{ _("born", variant='2') }}
                                    {% endif %}
                                {% endif %}
                                {% if xx.has_birth_date %}{{ xx.on_birth_date }}{% endif %}
                                {% if xx.has_birth_place %}, {{ xx.birth_place }}{% endif %}
                            {% endif %}
                            {% if ( xx.has_baptism_date or xx.has_baptism_place ) %}
                                ,
                                {% if xx.is_male %}
                                    {{ _("baptized", variant='0') }}
                                {% else %}
                                    {% if xx.is_female %}
                                        {{ _("baptized", variant='1') }}
                                    {% else %}
                                        {{ _("baptized", variant='2') }}
                                    {% endif %}
                                {% endif %}
                                {% if xx.has_baptism_date %}{{ xx.on_baptism_date }}{% endif %}
                                {% if xx.has_baptism_place %}, {{ xx.baptism_place }}{% endif %}
                            {% endif %}
                            {% if xx.is_dead %}
                                , {{ xx.died }}
                                {% if xx.has_death_date %}{{ xx.on_death_date }}{% endif %}
                                {% if xx.has_death_place %}, {{ xx.death_place }}{% endif %}
                            {% endif %}
                            {% if xx.is_buried %}
                                ,
                                {% if xx.is_male %}
                                    {{ _("buried", variant='0') }}
                                {% else %}
                                    {{ _("buried", variant='1') }}
                                {% endif %}
                                {% if xx.has_burial_date %}{{ xx.on_burial_date }}{% endif %}
                                {% if xx.has_burial_place %}, {{ xx.burial_place }}{% endif %}
                                {{ nl }}
                            {% endif %}
                            {% if xx.is_cremated %}
                                ,
                                {% if xx.is_male %}
                                    {{ _("cremated", variant='0') }}
                                {% else %}
                                    {{ _("cremated", variant='1') }}
                                {% endif %}
                                {% if xx.has_cremation_date %}{{ xx.on_cremation_date }}{% endif %}
                                {% if xx.has_cremation_place %}, {{ xx.cremation_place }}{% endif %}
                                {{ nl }}
                            {% endif %}
                            {% if xx.computable_death_age %}{{ sp }}({{ _("aged") }} {{ xx.death_age }}){% endif %}
                        {% endmacro %}
                        {% macro somebody_extra_info(xx) %}
                            {% if xx.has_occupation %}, {{ xx.occupation }}{% endif %}
                            {% if ( ( e.rel == "on" ) and xx.has_relations ) %}
                                {# foreach not implemented yet #}{# foreach not implemented yet #}
                            {% endif %}
                        {% endmacro %}
                        {% macro somebody(xx) %}
                            <b>{{ my_link(xx.access, xx, xx.is_restricted, xx.index) }}</b>{{ somebody_long_info("xx") }}{{ somebody_extra_info("xx") }}
                        {% endmacro %}
                        {% macro somebody_spouse_parent(xx) %}
                            <b>{{ my_link(spouse.xx.access, spouse.xx, spouse.is_restricted, spouse.index) }}</b>
                            {% if spouse.xx.has_nobility_titles %}
                                ,
                                <a href="/m=TT&sm=S&t={{ spouse.xx.nobility_title.ident_key }}&p={{ spouse.xx.nobility_title.place_key }}"><em>{{ spouse.xx.nobility_title }}</em></a>
                            {% endif %}
                            {{ spouse.xx.dates }}
                            {% if ( spouse.xx.sosa_in_list != "" ) %}
                                {{ sp }}({{ _("see") }} <a href="#{{ spouse.xx.sosa_in_list }}"><b>{{ spouse.xx.sosa_in_list }}</b></a>)
                            {% endif %}
                        {% endmacro %}
                        {% macro image_sosa(xxx, yyy) %}
                            <img src="{{ url_for('static', path='images/sosa.png') }}"
                                 style="border: none"
                                 alt="sosa"
                                 title="{{ _("direct ancestor of %s:::xxx") }}, {{ _("Sosa") |capitalize }} yyy">
                        {% endmacro %}
                        {% macro display_sosa(xx) %}
                            {% if ( xx.has_sosa and ( bvar.display_sosa == "yes" ) ) %}
                                {% if ( not cancel_links ) %}<a href="/{{ xx.sosa_link }}">{% endif %}
                                    {{ image_sosa(sosa_ref.first_name_key_stripspsosa_ref.surname_key_strip, xx.sosa) }}
                                    {% if ( not cancel_links ) %}</a>{% endif %}
                                {{ sp }}
                            {% endif %}
                        {% endmacro %}
                        {% macro married_to(is_male, date_place) %}
                            {% if ( "is_male" == 1 ) %}
                                {% if are_married %}
                                    {{ _("married%t to:::date_place", variant='0') }}
                                {% else %}
                                    {% if are_not_married %}
                                        {{ _("relationship%t to:::date_place", variant='0') }}
                                    {% else %}
                                        {% if are_engaged %}
                                            {{ _("engaged%t to:::date_place", variant='0') }}
                                        {% else %}
                                            {% if is_no_sexes_check %}
                                                {{ _("relationship%t to:::date_place", variant='0') }}
                                            {% else %}
                                                {% if is_no_mention %}date_place {{ _("with") }}{% endif %}
                                            {% endif %}
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            {% else %}
                                {% if are_married %}
                                    {{ _("married%t to:::date_place", variant='1') }}
                                {% else %}
                                    {% if are_not_married %}
                                        {{ _("relationship%t to:::date_place", variant='1') }}
                                    {% else %}
                                        {% if are_engaged %}
                                            {{ _("engaged%t to:::date_place", variant='1') }}
                                        {% else %}
                                            {% if is_no_sexes_check %}
                                                {{ _("relationship%t to:::date_place", variant='1') }}
                                            {% else %}
                                                {% if is_no_mention %}date_place {{ _("with") }}{% endif %}
                                            {% endif %}
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endmacro %}
                        {% with %}
                            {% set lai = "alt=""_("image/images", variant='0')""" %}
                            {% with %}
                                {% set ltap = (" title=""_("add::parents")|capitalize"" ") if (( wizard and ( not cancel_links ) )) %}
                                {% with %}
                                    {% set ltmf = (" title=""_("modify::family/families", variant='0')|capitalize"" ") if (( wizard and ( not cancel_links ) )) %}
                                    {% with %}
                                        {% set ltmp = (" title=""_("modify::person/persons", variant='0')|capitalize"" ") if (( wizard and ( not cancel_links ) )) %}
                                        {% macro link3(aa, xx) %}
                                            {% if cancel_links %}
                                                xx
                                            {% else %}
                                                <a href="/aa"
                                                   aria-describedby="person-details"
                                                   aria-label="{{ _("navigation") |capitalize }} xx">xx</a>
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro link_dates1(xx) %}
                                            {{ sp }}
                                            {% if ( wizard and ( not cancel_links ) ) %}
                                                <a id="mi{{ xx.index }}"
                                                   class="date table_big_anchor"
                                                   href="#mi{{ xx.index }}"
                                                   {{ ltmp }}
                                                   onclick="window.open('/m=MOD_IND&i={{ xx.index }}');"
                                                   aria-labelledby="individual-form">
                                                {% endif %}
                                                {{ lazy_print(birth_symbol) }}
                                                {% if ( xx.has_birth_date or xx.has_baptism_date ) %}
                                                    {% if ( xx.birth_date.year != "" ) %}
                                                        <span class="text-monospace">{{ lazy_force }}</span>{{ xx.slash_birth_date }}
                                                    {% else %}
                                                        {% if ( xx.baptism_date.year != "" ) %}
                                                            <span class="text-monospace">{{ lazy_force }}</span>{{ xx.slash_baptism_date }}
                                                        {% endif %}
                                                    {% endif %}
                                                {% endif %}
                                                {% if ( xx.has_birth_place or xx.has_baptism_place ) %}
                                                    {{ sp }}{{ lazy_force }}
                                                    {% if xx.has_birth_place %}
                                                        {{ xx.birth_place }}
                                                    {% else %}
                                                        {% if xx.has_baptism_place %}{{ xx.baptism_place }}{% endif %}
                                                    {% endif %}
                                                {% endif %}
                                                {% with %}
                                                    {% set l1 = (" <br>") if (lazy_printed) %}
                                                    {% if xx.is_dead %}
                                                        {{ l1 }}{{ lazy_print(death_symbol) }}
                                                        {% if ( xx.has_death_date or xx.has_burial_date ) %}
                                                            {% if ( xx.death_date.year != "" ) %}
                                                                <span class="text-monospace">{{ lazy_force }}</span>{{ xx.slash_death_date }}
                                                            {% else %}
                                                                {% if ( xx.burial_date.year != "" ) %}
                                                                    <span class="text-monospace">{{ lazy_force }}</span>{{ xx.slash_burial_date }}
                                                                {% endif %}
                                                            {% endif %}
                                                        {% endif %}
                                                        {% if ( xx.has_death_place or xx.has_burial_place ) %}
                                                            {{ sp }}{{ lazy_force }}
                                                            {% if xx.has_death_place %}
                                                                {{ xx.death_place }}
                                                            {% else %}
                                                                {% if xx.has_burial_place %}{{ xx.burial_place }}{% endif %}
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endif %}
                                                    {% with %}
                                                        {% set l2 = (" ") if (lazy_printed) else (lazy_force) %}
                                                        {% if ( wizard and ( not cancel_links ) ) %}
                                                            {% if ( ( l1 == "" ) and ( l2 == "" ) ) %}-{% endif %}
                                                        </a>
                                                    {% endif %}
                                                {% endwith %}
                                            {% endwith %}
                                        {% endmacro %}
                                        {% macro link_marriage1(yy) %}
                                            {% if ( wizard and ( not cancel_links ) ) %}
                                                <a id="mf{{ family.index }}"
                                                   class="date p_{{ left }}"
                                                   href="#mf{{ family.index }}"
                                                   onclick="window.open('/m=MOD_FAM&i={{ family.index }}&ip={{ index }}');">
                                                {% endif %}
                                                <div class="sure_dates{{ ancestor.has_linked_page.MARRIAGEA }}{{ ancestor.spouse.has_linked_page.MARRIAGEA }}{% if ( ( ( marriage_date.prec != "" ) or ( ( on_marriage_date == "" ) or ( marriage_place == "" ) ) ) and ( are_married or are_not_married ) ) %} not_sure_dates{% endif %}"
                                                     title="{% if ( wizard and ( not cancel_links ) ) %}{{ _("modify::family/families", variant='0') |capitalize }}{% endif %}{% if ( ( yy == 0 ) and ( ( spouse.surname != "?" ) and ( spouse.first_name != "?" ) ) ) %}&#010; {% if are_not_married %}({{ _("not married") |capitalize }})&#010;{% endif %}{% if ancestor.is_male %}{{ _("him/her", variant='0') |capitalize }} {% if are_not_married %}{{ _("with") }}{% else %}{{ _("married%t to:::", variant='0') }}{% endif %}{% else %}{% if ancestor.is_female %}{{ _("him/her", variant='1') |capitalize }} {% if are_not_married %}{{ _("with") }}{% else %}{{ _("married%t to:::", variant='1') }}{% endif %}{% endif %}{% endif %} {{ spouse }}&#010; {% if ( nb_children > 0 ) %}{{ nb_children }}{% endif %}{% if ( nb_children == 0 ) %}{{ _("no descendants") |capitalize }}{% else %}{% if ( nb_children > 1 ) %}{{ _("child/children", variant='1') }}{% else %}{{ _("child/children", variant='0') }}{% endif %}{% endif %}{% endif %}"
                                                     {% if ( yy == 0 ) %} style="color:{% if ( ancestor.same != "" ) %}#fff069c9;{% else %}{% if ancestor.is_male %}blue;{% else %}{% if ancestor.is_female %}red;{% endif %}
                                                     {% endif %}
                                                     font-size:small
                                                     {% endif %}
                                                     "
                                                     {% endif %}>
                                                    {{ nb_children }}· {{ slash_marriage_date }} {{ marriage_place }}
                                                    {% if are_not_married %}–{% endif %}
                                                </div>
                                                {% if ( wizard and ( not cancel_links ) ) %}</a>{% endif %}
                                        {% endmacro %}
                                        {% macro link_parents() %}
                                            {% if ( ( e.only != "on" ) and ( ( ancestor.father_sosa != "" ) and ( level <= l_v ) ) ) %}
                                                {% if ( not cancel_links ) %}
                                                    <a href="#i{{ ancestor.father_sosa }}"
                                                       title="{{ _("father/mother", variant='0') }} : {{ 1000sep(ancestor.father_sosa) }}">
                                                    {% endif %}
                                                    <strong>{{ ancestor.anc_sosa }}</strong>
                                                    {% if ( not cancel_links ) %}</a>{% endif %}
                                            {% else %}
                                                {% if ( wizard and ( ( not ancestor.has_parents ) and ( ( ancestor.first_name != "?" ) and ( ancestor.surname != "?" ) ) ) ) %}
                                                    {% if ( not cancel_links ) %}
                                                        <a class="text-danger"
                                                           href="#mi{{ ancestor.index }}"
                                                           onclick="window.open('/m=ADD_PAR&ip={{ ancestor.index }}');"
                                                           {{ ltap }}>
                                                        {% endif %}
                                                        <strong>{{ ancestor.anc_sosa }}</strong>
                                                        {% if ( not cancel_links ) %}</a>{% endif %}
                                                {% else %}
                                                    <strong>{{ ancestor.anc_sosa }}</strong>
                                                {% endif %}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro imgtdz(xx) %}
                                            {% if ( ( e.im != 0 ) and ( ( e.image != "off" ) and xx.has_image ) ) %}
                                                <img class="imgtdz img-fluid w-50"
                                                     src="{{ xx.image_url }}"
                                                     {{ lai }}
                                                     title="{{ xx }}">
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro info3(xx) %}
                                            {% if xx.has_nobility_titles %}<div class="font-italic">{{ xx.nobility_title }}</div>{% endif %}
                                            <div class="small">
                                                {% if xx.has_occupation %}<div class="highlight1" aria-label="occupation">{{ xx.occupation }}</div>{% endif %}
                                                {% if xx.computable_age %}<div>{{ _("age") }} : {{ xx.age }}</div>{% endif %}
                                                {% if xx.computable_death_age %}<div aria-label="{{ _("death age") |capitalize }}">{{ xx.death_age }}</div>{% endif %}
                                                {% if ( xx.has_consanguinity and ( ( bvar.show_consang != "no" ) or manitou ) ) %}
                                                    <div aria-label="Consanguinity">{{ xx.consanguinity }}</div>
                                                {% endif %}
                                            </div>
                                        {% endmacro %}
                                        {% macro link_rel(xx) %}
                                            {% if cancel_links %}
                                                ==
                                            {% else %}
                                                <a href="/em=R&ei={{ ancestor.index }}&m=NG&select={{ index }}&n=1&t=PN&et=A"
                                                   title="{{ ancestor }} …{{ _("relationship") }}… {{ self }}">==</a>
                                            {% endif %}
                                            <br>
                                            {% if cancel_links %}
                                                {{ 1000sep(xx) }}
                                            {% else %}
                                                {% if ( ( xx < ( 2 ^ ( l_v + 1 ) ) ) and ( xx >= ( 2 ^ v0 ) ) ) %}
                                                    <a href="#ixx" title="{{ _("sosa lower implex") }}">{{ 1000sep(xx) }}</a>
                                                {% endif %}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro symbol2(xx) %}
                                            {% if xx.has_siblings %}
                                                &diams;
                                            {% else %}
                                                {% if xx.has_parents %}
                                                    &loz;
                                                {% else %}
                                                    -
                                                {% endif %}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro symbol1(xx) %}
                                            {% if xx.has_sosa %}
                                                <span class="color_sosa text-no-wrap">{{ symbol2("xx") }}</span>
                                            {% else %}
                                                {{ symbol2("xx") }}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro nb_fam(xx) %}
                                            {% if ( xx.same == "" ) %}
                                                {% if ( not cancel_links ) %}
                                                    <a href="/m=A&t=X&i={{ index }}&i1={{ ancestor.index }}&l={{ level }}&gen=1{% if ( e.image != "" ) %}&image={{ e.image }}{% endif %}"
                                                       title="{{ _("only") |capitalize }} {{ _("ancestor/ancestors", variant='1') }} {{ _("up to") }} {{ ancestor }}">
                                                    {% endif %}
                                                    <br>
                                                    {{ symbol1("xx") }}
                                                    {% if ( not cancel_links ) %}</a>{% endif %}
                                                {% if ( xx.nb_families > 1 ) %}
                                                    <div class="small">
                                                        <span title="{{ xx.nb_families }} {{ _("relation/relations", variant='1') }}">{{ xx.nb_families }} &</span>
                                                        <span title="{{ _("number of children") |capitalize }}">{{ xx.nb_children }}<i class="fa fa-child fa-sm ml-1"></i></span>
                                                    </div>
                                                {% endif %}
                                            {% else %}
                                                <br>
                                                {{ link_rel(xx.same) }}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro male_line(xx, z1) %}
                                            <td class="align-middle text-center" role="cell">{{ link_parents() }}{{ nb_fam("xx") }}</td>
                                            <td class="align-middle text-center z1"
                                                role="cell"
                                                aria-describedby="him-name-occupation-age-cell">
                                                {{ imgtdz("xx") }}
                                                <div>{{ link3(xx.access, xx) }}</div>
                                                {{ info3("xx") }}
                                            </td>
                                            <td class="align-middle text-left table_big_cell" role="cell">{{ link_dates1("xx") }}</td>
                                        {% endmacro %}
                                        {% macro female_line(xx, z1) %}
                                            <td class="align-middle text-left  table_big_cell" role="cell">{{ link_dates1("xx") }}</td>
                                            <td class="align-middle text-center z1"
                                                role="cell"
                                                aria-describedby="her-name-occupation-age-cell">
                                                {{ imgtdz("xx") }}
                                                <div>{{ link3(xx.access, xx) }}</div>
                                                {{ info3("xx") }}
                                            </td>
                                            <td class="align-middle text-center ">{{ link_parents() }}{{ nb_fam("xx") }}</td>
                                        {% endmacro %}
                                        {% macro month(mmm) %}
                                            {% if ( mmm.month == "" ) %}
                                                {% if ( mmm.prec == "&gt;" ) %}
                                                    12
                                                {% else %}
                                                    00
                                                {% endif %}
                                            {% else %}
                                                {% if ( mmm.month < 10 ) %}
                                                    0{{ mmm.month }}
                                                {% else %}
                                                    {{ mmm.month }}
                                                {% endif %}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro day(ddd) %}
                                            {% if ( ddd.day == "" ) %}
                                                {% if ( ddd.prec == "&gt;" ) %}
                                                    32
                                                {% else %}
                                                    00
                                                {% endif %}
                                            {% else %}
                                                {% if ( ddd.day < 10 ) %}
                                                    0{{ ddd.day }}
                                                {% else %}
                                                    {{ ddd.day }}
                                                {% endif %}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro dprec(ddd) %}
                                            {% if ( ddd.prec == "&lt;" ) %}
                                                2
                                            {% else %}
                                                {% if ( ddd.prec == "&gt;" ) %}
                                                    2
                                                {% else %}
                                                    2
                                                {% endif %}
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro addlist(xxx) %}
                                            {{ add_in_sorted_list(("-") if (( e.rev == 1 ))ancestor.marriage_date.year, month("ancestor.marriage_date"), day("ancestor.marriage_date"), dprec("ancestor.marriage_date"), link_marriage1(xxx)) }}
                                        {% endmacro %}
                                        {% macro one_line(z1) %}
                                            {% if ( ( ancestor.anc_sosa.v % 2 ) == 0 ) %}
                                                <tr id="i{{ ancestor.anc_sosa.v }}" role="row">
                                                    {{ male_line('ancestor', 'z1') }}
                                                    <td class="align-middle text-left" role="cell">
                                                    {% endif %}
                                                    {% if ( ancestor.same == "" ) %}{# foreach not implemented yet #}{% endif %}{% if ( ( ancestor.anc_sosa.v % 2 ) == 1 ) %}{# foreach not implemented yet #}{{ empty_sorted_list }}
                                                    </td>
                                                    {{ female_line('ancestor', 'z1') }}
                                                </tr>
                                            {% endif %}
                                        {% endmacro %}
                                        {% macro child_notes(spec) %}
                                            {% if ( ( child.sosa_in_list == "" ) and ( ( ( e.src == "on" ) and child.has_sources ) or ( ( e.notes == "on" ) and ( child.has_notes or child.has_event ) ) ) ) %}
                                                <dt>
                                                    <a href="#{{ ancestor.anc_sosa.v }}"
                                                       name="notes-{{ ancestor.anc_sosa.v }}{% if ( "spec" != "" ) %}-spec{% endif %}{{ letter(child_cnt) }}"><b>{{ ancestor.anc_sosa }}
                                                        {% if ( "spec" != "" ) %}-spec{% endif %}
                                                        {{ letter(child_cnt) }}</b></a>:
                                                    </dt>
                                                    <dd>
                                                        {% if ( ( e.notes == "on" ) and ( child.has_notes or child.has_event ) ) %}
                                                            <table>
                                                                <tr>
                                                                    <td>
                                                                        {{ child.notes }}
                                                                        {% if child.has_event %}
                                                                            <table>
                                                                                {# foreach not implemented yet #}
                                                                            </table>
                                                                        {% endif %}
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <br>
                                                        {% endif %}
                                                        {% if ( ( e.src == "on" ) and child.has_sources ) %}
                                                            <em style="font-size:80%">{{ _("source/sources", variant='1') |capitalize }}:
                                                                <br>
                                                                {# foreach not implemented yet #}</em>
                                                                <br>
                                                            {% endif %}
                                                        </dd>
                                                    {% endif %}
                                                {% endmacro %}
                                                {% macro long_display_notes() %}
                                                    <h3>
                                                        {% if ( e.notes == "on" ) %}
                                                            {{ _("note/notes", variant='1') |capitalize }}
                                                        {% else %}
                                                            {{ _("source/sources", variant='1') |capitalize }}
                                                        {% endif %}
                                                        <a name="ns">&nbsp;</a>
                                                    </h3>
                                                    <dl>
                                                        {# foreach not implemented yet #}
                                                    </dl>
                                                {% endmacro %}
                                                {% macro long_display_ancestor_personal() %}
                                                    {{ somebody("ancestor") }}.
                                                    {% if ( ( e.only != "on" ) and ( ancestor.father_sosa != "" ) ) %}
                                                        {{ _("parents") |capitalize }}:{{ sp }}<b><a href="#{{ ancestor.father_sosa }}">{{ ancestor.father_sosa }}</a></b>{{ sp }}{{ _("and") }}{{ sp }}<b><a href="#{{ ancestor.mother_sosa }}">{{ ancestor.mother_sosa }}</a></b>.
                                                    {% endif %}
                                                    {% if ( e.siblings == "on" ) %}{# foreach not implemented yet #}{% endif %}
                                                    {% if ( ( ( e.notes == "on" ) and ( ( ancestor.has_notes or ancestor.has_event ) and ( e.inline == "on" ) ) ) or ( ( e.src == "on" ) and ( ancestor.has_sources and ( e.inline == "on" ) ) ) ) %}
                                                        <p class="asc_notes_src_inline">
                                                            {% if ( ( e.notes == "on" ) and ( ancestor.has_notes or ancestor.has_event ) ) %}
                                                                {{ _("note/notes", variant='0') |capitalize }} : {{ clean_comment_tags(ancestor.notes) }}
                                                                <br>
                                                                {% if ancestor.has_event %}
                                                                    <table>
                                                                        {# foreach not implemented yet #}
                                                                    </table>
                                                                {% endif %}
                                                                <br>
                                                            {% endif %}
                                                            {% if ( ( e.src == "on" ) and ancestor.has_sources ) %}
                                                                <em>
                                                                    {{ _("source/sources", variant='1') |capitalize }} :
                                                                    {# foreach not implemented yet #}</em>
                                                                {% endif %}
                                                            </p>
                                                        {% endif %}
                                                        {% if ( ( ( ( e.notes == "on" ) and ( ancestor.has_notes or ancestor.has_event ) ) or ( ( e.src == "on" ) and ancestor.has_sources ) ) and ( e.inline != "on" ) ) %}
                                                            {% if ( e.notes == "on" ) %}
                                                                [{{ _("note/notes", variant='0') |capitalize }}{{ sp }}
                                                            {% else %}
                                                                [{{ _("source/sources", variant='1') |capitalize }}{{ sp }}
                                                            {% endif %}
                                                            <b><a href="#notes-{{ ancestor.anc_sosa.v }}">{{ ancestor.anc_sosa }}</a></b>].
                                                        {% endif %}
                                                    {% endmacro %}
                                                    {% macro child_long_info(spec) %}
                                                        <b>{{ my_link(child.access, child.child_name, child.is_restricted, child.index) }}</b>{{ somebody_long_info("child") }}
                                                        {% if ( child.sosa_in_list != "" ) %}
                                                            .
                                                            {% if ( e.only != "on" ) %}
                                                                {{ _("see") |capitalize }}{{ sp }}<a href="#{{ child.sosa_in_list }}"><b>{{ child.sosa_in_list }}</b></a>.
                                                            {% endif %}
                                                        {% else %}
                                                            {{ somebody_extra_info("child") }}.
                                                            {# foreach not implemented yet #}
                                                            {% if ( ( ( e.notes == "on" ) and ( ( child.has_notes or child.has_event ) and ( e.inline == "on" ) ) ) or ( ( e.src == "on" ) and ( child.has_sources and ( e.inline == "on" ) ) ) ) %}
                                                                <p class="asc_notes_src_inline">
                                                                    {% if ( ( e.notes == "on" ) and ( child.has_notes or child.has_event ) ) %}
                                                                        {{ _("note/notes", variant='0') |capitalize }} : {{ clean_comment_tags(child.notes) }}
                                                                        <br>
                                                                        {% if child.has_event %}
                                                                            <table>
                                                                                {# foreach not implemented yet #}
                                                                            </table>
                                                                        {% endif %}
                                                                        <br>
                                                                    {% endif %}
                                                                    {% if ( ( e.src == "on" ) and child.has_sources ) %}
                                                                        <em>
                                                                            {{ _("source/sources", variant='1') |capitalize }} :
                                                                            {# foreach not implemented yet #}</em>
                                                                        {% endif %}
                                                                    </p>
                                                                {% endif %}
                                                                {% if ( ( ( ( e.notes == "on" ) and ( child.has_notes or child.has_event ) ) or ( ( e.src == "on" ) and child.has_sources ) ) and ( e.inline != "on" ) ) %}
                                                                    {% if ( e.notes == "on" ) %}
                                                                        [{{ _("note/notes", variant='0') |capitalize }}{{ sp }}
                                                                    {% else %}
                                                                        [{{ _("source/sources", variant='1') |capitalize }}{{ sp }}
                                                                    {% endif %}
                                                                    <b>
                                                                        <a href="#notes-{{ ancestor.anc_sosa.v }}{% if ( "spec" != "" ) %}-spec{% endif %}{{ letter(child_cnt) }}">
                                                                            {{ ancestor.anc_sosa }}
                                                                            {% if ( "spec" != "" ) %}-spec{% endif %}
                                                                        {{ letter(child_cnt) }}</a>
                                                                    </b>].
                                                                {% endif %}
                                                            {% endif %}
                                                        {% endmacro %}
                                                        {% macro long_display_ancestor_families() %}
                                                            {% if ancestor.is_male %}
                                                                ...
                                                                {# foreach not implemented yet #}{% else %}{# foreach not implemented yet #}{% if ( e.siblings == "on" ) %}{# foreach not implemented yet #}{# foreach not implemented yet #}
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endmacro %}
                                                    {% macro dates_in_interval(xx) %}
                                                        {% if ( ( ( e.after != "" ) and ( ( ( xx.birth_date.year == "" ) and ( ( xx.baptism_date.year == "" ) and ( ( xx.death_date.year == "" ) and ( ( xx.burial_date.year == "" ) and ( xx.cremated_date.year == "" ) ) ) ) ) or ( ( ( xx.birth_date.year != "" ) and ( xx.birth_date.year < e.after ) ) or ( ( ( xx.baptism_date.year != "" ) and ( xx.baptism_date.year < e.after ) ) or ( ( ( xx.death_date.year != "" ) and ( xx.death_date.year < e.after ) ) or ( ( ( xx.burial_date.year != "" ) and ( xx.burial_date.year < e.after ) ) or ( ( xx.cremated_date.year != "" ) and ( xx.cremated_date.year < e.after ) ) ) ) ) ) ) ) or ( ( e.before != "" ) and ( ( ( xx.birth_date.year == "" ) and ( ( xx.baptism_date.year == "" ) and ( ( xx.death_date.year == "" ) and ( ( xx.burial_date.year == "" ) and ( xx.cremated_date.year == "" ) ) ) ) ) or ( ( ( xx.birth_date.year != "" ) and ( xx.birth_date.year > e.before ) ) or ( ( ( xx.baptism_date.year != "" ) and ( xx.baptism_date.year > e.before ) ) or ( ( ( xx.death_date.year != "" ) and ( xx.death_date.year > e.before ) ) or ( ( ( xx.burial_date.year != "" ) and ( xx.burial_date.year > e.before ) ) or ( ( xx.cremated_date.year != "" ) and ( xx.cremated_date.year > e.before ) ) ) ) ) ) ) ) ) %}
                                                            false
                                                        {% else %}
                                                            true
                                                        {% endif %}
                                                    {% endmacro %}
                                                    {% macro implex() %}
                                                        {% if ( e.num != "on" ) %}<br>{% endif %}
                                                        {% if ( not cancel_links ) %}
                                                            <a class="text-center"
                                                               href="/em=R&ei={{ index }}&i={{ ancestor.index }}&et=M"
                                                               title="{{ ancestor }} ({{ _("implex/implexes", variant='0') }}){{ _(":") }} {{ _("relationship link between") }} {{ self }}">
                                                            {% endif %}
                                                            ==
                                                            {% if ( not cancel_links ) %}</a>{% endif %}
                                                        {% if ( e.num == "on" ) %}
                                                            <br>
                                                        {% else %}
                                                            {{ sp }}
                                                        {% endif %}
                                                        <span {% if ( not ancestor.has_parents ) %}class="text-danger"{% endif %}>
                                                            {% if ( e.sosab == 16 ) %}
                                                                {{ ancestor.same.hexa }}
                                                            {% else %}
                                                                {% if ( e.sosab == 8 ) %}
                                                                    {{ ancestor.same.octal }}
                                                                {% else %}
                                                                    {{ ancestor.same }}
                                                                {% endif %}
                                                            {% endif %}
                                                        </span>
                                                    {% endmacro %}
                                                    {% include 'table_utils.html.j2' %}
                                                    {% macro table_row() %}
                                                        {{ lazy_force }}
                                                        {% if ( ( level != 0 ) and ( ( ancestor.same == "" ) and ( ( ancestor.first_name != "?" ) and ( ancestor.surname != "?" ) ) ) ) %}
                                                            {{ incr_count }}
                                                        {% endif %}
                                                        {% if ( e.num == "on" ) %}
                                                            <td class="align-middle text-center{% if ( ancestor.anc_sosa != 1 ) %} table_big_cell{% endif %} lh_implex{% if ancestor.has_parents %} text-alert{% endif %}"
                                                                {% if ( ( ancestor.nb_families > 1 ) and ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( e.marr_place == "on" ) ) ) ) %} rowspan="{{ ancestor.nb_families }}"{% endif %}>
                                                                {% if ( ( ancestor.anc_sosa != 1 ) and ( not cancel_links ) ) %}
                                                                    {% if ancestor.has_parents %}
                                                                        <a class="table_big_anchor"
                                                                           title="{{ _("navigation") |capitalize }} {{ _("with") }} {{ ancestor }}{% if ( ( ancestor.occ != "" ) and ( ancestor.occ != 0 ) ) %} ({{ ancestor.occ }}){% endif %}"
                                                                           {{ sp }}
                                                                           href="{{ prefix_base_password }}{{ ancestor.access }}{# foreach not implemented yet #}">
                                                                        {% else %}
                                                                            <a class="table_big_anchor text-danger{% if ( e.hl == 1 ) %} bg-ly-incomplete{% endif %}"
                                                                               title="{{ a_of_b(_("add::parents") |capitalize, ancestor) }}"
                                                                               {{ sp }}
                                                                               href="{{ prefix_base_password }}m=ADD_PAR&ip={{ ancestor.index }}">
                                                                            {% endif %}
                                                                        {% endif %}
                                                                        {% if ( e.sosab == 16 ) %}
                                                                            {{ ancestor.anc_sosa.hexa }}
                                                                        {% else %}
                                                                            {% if ( e.sosab == 8 ) %}
                                                                                {{ ancestor.anc_sosa.octal }}
                                                                            {% else %}
                                                                                {{ ancestor.anc_sosa }}
                                                                            {% endif %}
                                                                        {% endif %}
                                                                        {% if ( ( ancestor.anc_sosa != 1 ) and ( not cancel_links ) ) %}</a>{% endif %}
                                                                    {% if ( ( ancestor.same != "" ) and ( ( e.repeat == "on" ) and ( e.num == "on" ) ) ) %}{{ implex() }}{% endif %}
                                                                </td>
                                                            {% endif %}
                                                            <td {% if ( ( ancestor.nb_families > 1 ) and ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( e.marr_place == "on" ) ) ) ) %} rowspan="{{ ancestor.nb_families }}"{% endif %}{{ sp }}class="align-middle{% if ( e.nowrap == "on" ) %} text-nowrap{% endif %} pl-2{% if ( e.ns == 1 ) %}{% if ancestor.has_notes %} note{% if ancestor.has_psources %}source{% endif %}{% else %}{% if ancestor.has_psources %} source{% endif %}{% endif %}{% endif %}{% if ( ( e.hl == 1 ) and ( ( "?" is_substr ancestor ) or ( ( ancestor.first_name == "N." ) or ( ( ancestor.first_name == "Nn" ) or ( ( ancestor.first_name == "Xx" ) or ( ( ancestor.first_name == "Yy" ) or ( ancestor.first_name == "Xy" ) ) ) ) ) ) ) %} bg-ly-incomplete{% endif %}"{{ sp }}{% if ( ( e.ns == 1 ) and ( ancestor.has_notes or ancestor.has_psources ) ) %} tabindex="0" title="{{ _("click") |capitalize }} {{ _("notes sources show help") }}{{ sp }}{% if ancestor.has_notes %}{{ _("note/notes", variant='1') }}{% if ancestor.has_psources %} {{ _("and") }} {{ _("source/sources", variant='1') }}{% endif %}{% else %}{% if ancestor.has_psources %}{{ _("source/sources", variant='1') }}{% endif %}{% endif %}." {{ popover_params("right") }}data-content='{% if ancestor.has_notes %}{{ clean_comment_tags(ancestor.notes) }}{% endif %}{% if ancestor.has_psources %}{% if ancestor.has_notes %}<hr>
                                                            {% endif %}
                                                            {{ capitalize(ancestor.psources) }}
                                                        {% endif %}
                                                        ' data-title="
                                                        {% if ancestor.has_notes %}
                                                            {{ _("note/notes", variant='1') |capitalize }}
                                                            {% if ancestor.has_psources %}{{ _("and") }} {{ _("source/sources", variant='1') }}{% endif %}
                                                        {% else %}
                                                            {% if ancestor.has_psources %}{{ _("source/sources", variant='1') |capitalize }}{% endif %}
                                                        {% endif %}
                                                        "
                                                    {% endif %}
                                                    >
                                                    <div class="d-flex justify-content-between">
                                                        <div class="align-self-center">
                                                            {{ image_MF("ancestor") }}{{ link(ancestor.access, (ancestor.first_name" "ancestor.surname) if (( e.fn == 1 )) else (ancestor), ancestor.index) }}
                                                            {% if ( ( e.tt == 1 ) and ( ancestor.title != "" ) ) %}, {{ ancestor.title }}{% endif %}
                                                            {% if ( ( ancestor.same != "" ) and ( ( e.repeat == "on" ) and ( e.num != "on" ) ) ) %}{{ implex() }}{% endif %}
                                                        </div>
                                                        {% if ( ( e.im == "" ) and ancestor.has_image ) %}
                                                            {% if ( not cancel_links ) %}<a href="{{ ancestor.image_url }}" target="_blank" title="TEST">{% endif %}
                                                                <img src="{{ ancestor.image_url }}"
                                                                     class="rounded align-self-center ml-1 table-img-max-width"
                                                                     height="{% if ( e.px != "" ) %}{{ e.px }}{% else %}60{% endif %}"
                                                                     alt="{{ ancestor }}">
                                                                {% if ( not cancel_links ) %}</a>{% endif %}
                                                        {% endif %}
                                                    </div>
                                                </td>
                                                {{ date_popup('ancestor', 'birth', '0') }}{{ place_popup('ancestor', 'birth', '0') }}{{ date_popup('ancestor', 'baptism', '0') }}{{ place_popup('ancestor', 'baptism', '0') }}
                                                {% if ( e.marr == "on" ) %}
                                                    {% if ( ( ancestor == self ) and ( not ancestor.has_families ) ) %}
                                                        <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>
                                                    {% endif %}
                                                    {# foreach not implemented yet #}{% endif %}{% if ( e.marr_date == "on" ) %}{% if ( ( ancestor == self ) and ( not ancestor.has_families ) ) %}<td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>{% endif %}{# foreach not implemented yet #}{% endif %}{% if ( e.marr_place == "on" ) %}{% if ( ( ancestor == self ) and ( not ancestor.has_families ) ) %}<td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>{% endif %}{# foreach not implemented yet #}
                                                {% endif %}
                                                {% if ( e.child == "on" ) %}
                                                    {% if ( ancestor.nb_families == 0 ) %}
                                                        <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>
                                                    {% else %}
                                                        {% if ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( e.marr_place == "on" ) ) ) %}
                                                            {# foreach not implemented yet #}
                                                        {% else %}
                                                            <td>{{ ancestor.nb_children }}</td>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endif %}
                                                {{ date_popup('ancestor', 'death', '0') }}{{ place_popup('ancestor', 'death', '0') }}{{ date_popup('ancestor', 'burial', '0') }}{{ place_popup('ancestor', 'burial', '0') }}
                                                {% if ( e.age == "on" ) %}
                                                    <td class="align-middle text-center"
                                                        {% if ( ( ancestor.nb_families > 1 ) and ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( e.marr_place == "on" ) ) ) ) %} rowspan="{{ ancestor.nb_families }}"{% endif %}>
                                                        {% if ancestor.computable_death_age %}{{ ancestor.death_age }}{% endif %}
                                                        {% if ancestor.computable_age %}{{ ancestor.age }}{% endif %}
                                                    </td>
                                                {% endif %}
                                                {% if ( e.occu == "on" ) %}
                                                    <td class="align-middle"
                                                        {% if ( ( ancestor.nb_families > 1 ) and ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( e.marr_place == "on" ) ) ) ) %} rowspan="{{ ancestor.nb_families }}"{% endif %}>
                                                        {% if ancestor.has_occupation %}
                                                            {{ ancestor.occupation }}
                                                        {% else %}
                                                            &nbsp;
                                                        {% endif %}
                                                    </td>
                                                {% endif %}
                                            {% endmacro %}
                                            {% macro table_family() %}
                                                {% if ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( e.marr_place == "on" ) ) ) %}
                                                    {# foreach not implemented yet #}{% endif %}{% endmacro %}{% macro table_ancestor_to_somebody() %}{{ pvar[1].mark_descendants }}{# foreach not implemented yet #}{% endmacro %}{% macro table_double() %}{# foreach not implemented yet #}<tfoot>
                                                    <tr>
                                                        <td colspan="7" align="center">
                                                            {{ _("total") |capitalize }}{{ _(":") }} {{ count }}/{{ ( 2 ^ ( l_v + 1 ) ) - ( 2 ^ v0 ) }} [ancestor/ancestors]1@(c)
                                                            .
                                                        </td>
                                                    </tr>
                                                </tfoot>
                                            {% endmacro %}
                                            {% macro date_prec_year(xx) %}
                                                {% with %}
                                                    {% set dp = xx_date.prec %}
                                                    {% if ( ( dp == "<" ) or ( dp == "ca " ) ) %}
                                                        /
                                                    {% else %}
                                                        {% if ( dp == "?" ) %}?{% endif %}
                                                    {% endif %}
                                                    {{ xx_date.year }}
                                                    {% if ( ( dp == ">" ) or ( dp == "ca " ) ) %}/{% endif %}
                                                {% endwith %}
                                            {% endmacro %}
                                            {% macro csv_row(xx) %}
                                                {# foreach not implemented yet #}
                                            {% endmacro %}
                                            {% if ( e.templ != "templm" ) %}
                                                <h1 class="h3 mt-3{% if ( not cancel_links ) %} ml-2{% endif %}">
                                                    {{ a_of_b(((_("missing events") |capitalize) if (( e.evt == "on" )) else (_("missing ancestors")|capitalize)) if (( e.t == "M" )) else (_("ancestor/ancestors", variant='1')|capitalize), (public_name) if (( public_name != "" )) else (first_name)(" <em>"qualifier"</em>") if (( qualifier != "" ))spsurnamedates) }}{{ sp }}
                                                    {% if ( ( v0 == 1 ) and ( only == 0 ) ) %}
                                                        {{ togena(e.v) }}
                                                    {% else %}
                                                        {% if ( ( v0 > 1 ) and ( ( v0 < l_v ) and ( only == 0 ) ) ) %}{{ fromthenth(v0) }}{% endif %}
                                                        {{ sp }}{{ tothenthgen(l_v) }}
                                                    {% endif %}
                                                    {% if ( e.t == "D" ) %}
                                                        {{ _("up to") }} {{ p_of_index[1] }}
                                                        {% if ( e.v > 4 ) %}{{ togena(e.v) }}{% endif %}
                                                    {% endif %}
                                                    {% if ( e.t == "X" ) %}
                                                        <div class="ml-3">{{ _("only") }} {{ _("up to") }} {{ pvar[1] }} {{ pvar[1].dates }}</div>
                                                    {% endif %}
                                                </h1>
                                            {% endif %}
                                            {% if ( e.t == "P" ) %}
                                                {% include 'perso_short.html.j2' %}
                                            {% else %}
                                                {% if ( ( e.t == "N" ) and ( e.only == "on" ) ) %}
                                                    {{ reset_count }}{# foreach not implemented yet #}
                                                    <p>{{ _("total") |capitalize }}{{ _(":") }} {{ count }} [person/persons]0@(c)</p>
                                                {% else %}
                                                    {% if ( e.t == "N" ) %}
                                                        {% with %}
                                                            {% set nb_gen = min(e.v, max_anc_level) %}
                                                            <p>{{ togena(nb_gen) }}.</p>
                                                            {{ reset_count }}{# foreach not implemented yet #}
                                                            <p>{{ _("total") |capitalize }}{{ _(":") }} 1+{{ count }} [ancestor/ancestors]1@(c)</p>
                                                        {% endwith %}
                                                    {% else %}
                                                        {% if ( ( e.t == "M" ) and ( e.evt == "on" ) ) %}
                                                            {% include 'miss_evt.html.j2' %}
                                                        {% else %}
                                                            {% if ( ( e.t == "M" ) and ( e.al == "on" ) ) %}
                                                                {% with %}
                                                                    {% set nb_gen = min(e.v, max_anc_level) %}
                                                                    <div class="ml-2">{{ togena(nb_gen) }}{{ living_interval_dates(e.after, e.before) }}.</div>
                                                                    <div>
                                                                        <table>
                                                                            <tr>
                                                                                <td>
                                                                                    <b>{{ _("sort by/generation/alphabetic order", variant='0') |capitalize }}</b>
                                                                                </td>
                                                                                <td>
                                                                                    <img src="{{ url_for('static', path='images/picto_branch.png') }}">
                                                                                </td>
                                                                                <td>
                                                                                    <a href="/m=A&p={{ first_name_key }}&n={{ surname_key }}&oc={{ e.oc }}&t={{ e.t }}&v={{ e.v }}&birth={{ e.birth }}&death={{ e.death }}&spouse={{ e.spouse }}&al=">{{ _("sort by/generation/alphabetic order", variant='1') }}
                                                                                    </a>
                                                                                </td>
                                                                                <td>
                                                                                    <img src="{{ url_for('static', path='images/picto_alphabetic_order.png') }}">
                                                                                </td>
                                                                                <td>{{ _("sort by/generation/alphabetic order", variant='2') }}</td>
                                                                            </tr>
                                                                        </table>
                                                                    </div>
                                                                    {{ empty_sorted_list }}{{ reset_count }}{# foreach not implemented yet #}
                                                                    {% with %}
                                                                        {% set nb_ind = 0 %}{{ reset_count }}
                                                                        {% if ( nb_ind > 100 ) %}<p>{# foreach not implemented yet #}</p>{% endif %}
                                                                        <ul class="missing_ancestors_sort">
                                                                            {% if ( nb_ind <= 100 ) %}
                                                                                <li>
                                                                                    <a name="a_{{ hexa(initial(item[1]) ) }}">{{ initial(item[1]) }}</a>
                                                                                    <table class="table table-sm w-auto asc-desc-table">
                                                                                        <tr>
                                                                                            <th width="20%">{{ _("person/persons", variant='0') |capitalize }}</th>
                                                                                            {% if ( e.birth == "on" ) %}
                                                                                                <th {% if ( e.death == "on" ) %}width="30%"{% else %}width="60%"{% endif %}>
                                                                                                    {{ _("birth date and birth place") |capitalize }}
                                                                                                </th>
                                                                                            {% endif %}
                                                                                            {% if ( e.death == "on" ) %}
                                                                                                <th {% if ( e.birth == "on" ) %}width="30%"{% else %}width="60%"{% endif %}>
                                                                                                    {{ _("death date and death place") |capitalize }}
                                                                                                </th>
                                                                                            {% endif %}
                                                                                            <th width="10%">{{ _("missing parents") |capitalize }}</th>
                                                                                            <th width="10%">{{ _("missing spouse") |capitalize }}</th>
                                                                                        </tr>
                                                                                    {% endif %}
                                                                                    {# foreach not implemented yet #}
                                                                                    {% if ( nb_ind <= 100 ) %}
                                                                                    </table>
                                                                                </li>
                                                                            {% endif %}
                                                                        </ul>
                                                                        <p style="clear:both;">
                                                                            {{ _("total") |capitalize }}{{ _(":") }} {{ count }} [person/persons]
                                                                            @(c)].
                                                                        </p>
                                                                    {% endwith %}
                                                                {% endwith %}
                                                            {% else %}
                                                                {% if ( e.t == "M" ) %}
                                                                    {% with %}
                                                                        {% set nb_gen = min(e.v, max_anc_level) %}
                                                                        <p>{{ togena(nb_gen) }}{{ living_interval_dates(e.after, e.before) }}</p>
                                                                        <table class="display_search">
                                                                            <tr>
                                                                                <td>
                                                                                    <b>{{ _("sort by/generation/alphabetic order", variant='0') |capitalize }}</b>
                                                                                </td>
                                                                                <td>
                                                                                    <img src="{{ url_for('static', path='images/picto_branch.png') }}">
                                                                                </td>
                                                                                <td>{{ _("sort by/generation/alphabetic order", variant='1') }}</td>
                                                                                <td>
                                                                                    <img src="{{ url_for('static', path='images/picto_alphabetic_order.png') }}">
                                                                                </td>
                                                                                <td>
                                                                                    <a href="/m=A&p={{ first_name_key }}&n={{ surname_key }}&oc={{ e.oc }}&t={{ e.t }}&v={{ e.v }}&birth={{ e.birth }}&death={{ e.death }}&spouse={{ e.spouse }}&al=on">
                                                                                        {{ _("sort by/generation/alphabetic order", variant='2') }}
                                                                                    </a>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        {{ reset_count }}
                                                                        <table class="table table-sm w-auto asc-desc-table">
                                                                            <tr class="align-middle">
                                                                                <th>{{ _("missing sosa") |capitalize }}</th>
                                                                                <th>{{ _("missing parents") |capitalize }}</th>
                                                                                <th>{{ _("missing spouse") |capitalize }}</th>
                                                                                <th>{{ _("person/persons", variant='0') |capitalize }}</th>
                                                                                {% if ( e.birth == "on" ) %}
                                                                                    <th>{{ _("birth date and birth place") |capitalize }}</th>
                                                                                    {{ incr_count }}
                                                                                {% endif %}
                                                                                {% if ( e.death == "on" ) %}
                                                                                    <th>{{ _("death date and death place") |capitalize }}</th>
                                                                                    {{ incr_count }}
                                                                                {% endif %}
                                                                                {% if ( e.spouse == "on" ) %}
                                                                                    <th>{{ _("spouse/spouses", variant='1') |capitalize }}</th>
                                                                                    {{ incr_count }}
                                                                                {% endif %}
                                                                            </tr>
                                                                            {% with %}
                                                                                {% set nb_col = 4 %}{{ reset_count }}{# foreach not implemented yet #}
                                                                            </table>
                                                                            <p>{{ _("total") |capitalize }}{{ _(":") }} {{ count }} [person/persons]1@(c)</p>
                                                                        {% endwith %}
                                                                    {% endwith %}
                                                                {% else %}
                                                                    {% if ( ( e.t == "G" ) and ( e.only == "on" ) ) %}
                                                                        {% if ( ( ( e.notes == "on" ) or ( e.src == "on" ) ) and ( e.inline != "on" ) ) %}
                                                                            <div>
                                                                                {{ _("see") |capitalize }}: <a href="#asc">{{ _("ancestor/ancestors", variant='1') |capitalize }}</a>{{ sp }}
                                                                                {% if ( ( ( e.notes == "on" ) or ( e.src == "on" ) ) and ( e.inline != "on" ) ) %}
                                                                                    | <a href="#ns">{{ _("note/notes", variant='1') |capitalize }}</a>
                                                                                {% endif %}
                                                                            </div>
                                                                        {% endif %}
                                                                        {% if ( e.v != 0 ) %}
                                                                            <h3>
                                                                                <em>{{ capitalize(gen("v") ) }}.</em>
                                                                                <a name="asc">&nbsp;</a>
                                                                            </h3>
                                                                        {% endif %}
                                                                        {# foreach not implemented yet #}
                                                                        {% if ( ( ( e.notes == "on" ) or ( e.src == "on" ) ) and ( e.inline != "on" ) ) %}
                                                                            <p>
                                                                                <hr>
                                                                            </p>
                                                                            <p>{{ long_display_notes() }}</p>
                                                                        {% endif %}
                                                                    {% else %}
                                                                        {% if ( e.t == "G" ) %}
                                                                            {% if ( ( ( e.notes == "on" ) or ( e.src == "on" ) ) and ( e.inline != "on" ) ) %}
                                                                                <div>
                                                                                    {{ _("see") |capitalize }}: <a href="#asc">{{ _("ancestor/ancestors", variant='1') |capitalize }}</a>{{ sp }}
                                                                                    {% if ( ( ( e.notes == "on" ) or ( e.src == "on" ) ) and ( e.inline != "on" ) ) %}
                                                                                        | <a href="#ns">{{ _("note/notes", variant='1') |capitalize }}</a>
                                                                                    {% endif %}
                                                                                </div>
                                                                            {% endif %}
                                                                            {% with %}
                                                                                {% set nb_gen = min(e.v, max_anc_level) %}
                                                                                <p>
                                                                                    {{ togena(nb_gen) }}.
                                                                                    <a name="asc">&nbsp;</a>
                                                                                </p>
                                                                                {# foreach not implemented yet #}
                                                                                {% if ( ( ( e.notes == "on" ) or ( e.src == "on" ) ) and ( e.inline != "on" ) ) %}
                                                                                    <p>
                                                                                        <hr>
                                                                                    </p>
                                                                                    <p>{{ long_display_notes() }}</p>
                                                                                {% endif %}
                                                                            {% endwith %}
                                                                        {% else %}
                                                                            {% if ( e.t == "D" ) %}
                                                                                {{ p_of_index[1].mark_descendants }}
                                                                                <ul>
                                                                                    {# foreach not implemented yet #}
                                                                                </ul>
                                                                            {% else %}
                                                                                {% if ( ( e.t == "X" ) or ( e.t == "Y" ) ) %}
                                                                                    {{ empty_sorted_list }}{{ reset_count }}
                                                                                    <table class="table table-hover asc-desc-table{% if ( not cancel_links ) %} ml-2{% endif %}">
                                                                                        <col width="4%" />
                                                                                        <col width="18%" />
                                                                                        <col width="18%" align="{{ left }}" />
                                                                                        <col width="" align="{{ left }}" />
                                                                                        <col width="18%" align="{{ left }}" />
                                                                                        <col width="18%" />
                                                                                        <col width="4%" />
                                                                                        {% if ( e.t == "X" ) %}
                                                                                            {{ table_ancestor_to_somebody() }}
                                                                                        {% else %}
                                                                                            {{ table_double() }}
                                                                                        {% endif %}
                                                                                    </table>
                                                                                {% else %}
                                                                                    {% if ( e.t == "Z" ) %}
                                                                                        {% if ( e.csv != 1 ) %}
                                                                                            {{ reset_count }}
                                                                                            <table id="anctable"
                                                                                                   class="table table-hover table-sm w-auto asc-desc-table mt-2"
                                                                                                   aria-labelledby="{{ _("table") }}-{{ _("ancestor") }}">
                                                                                                {{ table_header() }}
                                                                                                <tbody>
                                                                                                    {% with %}
                                                                                                        {% set nb_col = 0 %}{{ reset_count }}{# foreach not implemented yet #}
                                                                                                    </tbody>
                                                                                                </table>
                                                                                                <div class="mt-1">
                                                                                                    {{ _("total") |capitalize }}{{ _(":") }} 1+{{ count }}/{{ ( 2 ^ ( l_v + 1 ) ) - ( 2 ^ v0 ) }} [person/persons]1@(c)
                                                                                                    .
                                                                                                </div>
                                                                                            {% endwith %}
                                                                                        {% else %}
                                                                                            <div class="mt-2">
                                                                                                {{ _("Sosa") }};{{ _("first name/first names", variant='1') }};{{ _("surname/surnames", variant='0') }};occ;{{ _("title/titles", variant='0') }};{{ _("birth") }}_{{ _("year/month/day", variant='2') }};{{ _("birth") }}_{{ _("year/month/day", variant='1') }};{{ _("birth") }}_{{ _("year/month/day", variant='0') }};{{ _("birth") }}_{{ _("place/places", variant='0') }};{{ _("death") }}_{{ _("year/month/day", variant='2') }};{{ _("death") }}_{{ _("year/month/day", variant='1') }};{{ _("death") }}_{{ _("year/month/day", variant='0') }};{{ _("death") }}_{{ _("place/places", variant='0') }};{{ _("occupation/occupations", variant='1') }};{{ _("first name/first names", variant='0') }}_{{ _("spouse/spouses", variant='0') }};{{ _("surname/surnames", variant='0') }}_{{ _("spouse/spouses", variant='0') }};occ_{{ _("spouse/spouses", variant='0') }};{{ _("marriage/marriages", variant='0') }}_{{ _("year/month/day", variant='2') }};{{ _("marriage/marriages", variant='0') }}_{{ _("year/month/day", variant='1') }};{{ _("marriage/marriages", variant='0') }}_{{ _("year/month/day", variant='0') }};{{ _("marriage/marriages", variant='0') }}_{{ _("place/places", variant='0') }};{{ _("nb children") }};family_count;family_index
                                                                                                <br>
                                                                                                {{ reset_count }}{# foreach not implemented yet #}
                                                                                            </div>
                                                                                        {% endif %}
                                                                                    {% endif %}
                                                                                {% endif %}
                                                                            {% endif %}
                                                                        {% endif %}
                                                                    {% endif %}
                                                                {% endif %}
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endif %}
                                                {% endif %}
                                            {% endif %}
                                            {% include 'trl.html.j2' %}
                                            {% include 'copyr.html.j2' %}
                                        </div>
                                        {% include 'js.html.j2' %}
                                        {{ query_time }}
                                    </body>
                                </html>
                            {% endwith %}
                        {% endwith %}
                    {% endwith %}
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endwith %}

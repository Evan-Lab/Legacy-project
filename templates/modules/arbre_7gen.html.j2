{# 
  Generated by JinjaGenerator for template 'modules/arbre_7gen'
    at 2025-10-26T15:16:08.603952

  Used macros:
  - descendants(curlev, maxlev, f_cnt)
  - tothegen(xx)
  - one_ancestor(xx, coln, bull)
  - one_heading(xx, coln, bull)
  - short_display_person_v(xx)

  Used includes:
  None

  Used variables:
  - has_families (x3)
  - f_cnt (x2)
  - cancel_links (x3)
  - access (x1)
  - first_name (x2)
  - dates (x1)
  - xx.dates (x2)
  - xx.access (x2)
  - xx (x5)
  - xx.index (x1)
  - xx.is_restricted (x1)
  - xx.title (x1)
  - central_index (x1)
  - has_parents (x2)
  - has_children (x1)
  - gpcol (x2)
  - sbcol (x2)
  - self (x1)
  - chcol (x2)
  - father.has_parents (x1)
  - father.father.has_parents (x1)
  - father.mother.has_parents (x1)
  - mother.has_parents (x1)
  - mother.father.has_parents (x1)
  - mother.mother.has_parents (x1)
  - has_siblings (x1)
#}
<!-- $Id: modules/arbre_7gen.txt v7.0 27/06/2018 18:47:46 $ -->
{% macro descendants(curlev, maxlev, f_cnt) %}
    <ul>
        {% if has_families %}
            {# foreach not implemented yet #}
        {% else %}
            <li>
                {% if ( f_cnt > 0 ) %}x{{ f_cnt }}&nbsp;{% endif %}
                {% if ( not cancel_links ) %}
                    <a href="/{{ access }}">{{ first_name }}</a>
                {% else %}
                    {{ first_name }}
                {% endif %}
                {{ dates }}
            </li>
        {% endif %}
    </ul>
{% endmacro %}
{% macro tothegen(xx) %}
    {{ _(upto the %s generation:::xx) |capitalize }}
{% endmacro %}
{% macro one_ancestor(xx, coln, bull) %}
    <tr>
        <td colspan="coln" align="right" valign="middle">
            {{ xx.dates }}&nbsp;
            {% if ( not cancel_links ) %}
                <a href="/{{ xx.access }}">{{ xx }}</a>
            {% else %}
                {{ xx }}
            {% endif %}
        </td>
        <td width=1></td>
        <td width=1 align=center valign=middle>
            <b><small>bull</small></b>
        </td>
    </tr>
{% endmacro %}
{% macro one_heading(xx, coln, bull) %}
    <td colspan=coln align=right valign=middle>
        <span class="highlight_hg"><b>{{ capitalize(_(xx) ) }}</b></span>
        <small>bull</small>
    </td>
{% endmacro %}
{% macro short_display_person_v(xx) %}
    {{ display_sosa("xx") }}
    {% if ( xx.index == central_index ) %}
        <b>{{ xx }}</b>
    {% else %}
        {% if ( cancel_links or xx.is_restricted ) %}
            {{ xx }}
        {% else %}
            <a href="/{{ xx.access }}">{{ xx }}</a>
        {% endif %}
    {% endif %}
    {{ xx.title }}{{ xx.dates }}
{% endmacro %}
{% if ( has_parents or has_children ) %}
    {% with %}
        {% set gpcol = "40%" %}
        {% with %}
            {% set sbcol = "20%" %}
            {% with %}
                {% set chcol = "40%" %}
                <h2>{{ _(preview family tree) |capitalize }}</h2>
                <table style="border:0;width:100%;cellspacing:0;cellpading:0">
                    <tr>
                        <td style="width:{{ gpcol }}">
                            <table style="width:100%;border:0;cellspacing:0;cellpading:0">
                                <tr>
                                    <td style="width:41%"></td>
                                    <td style="width:41%"></td>
                                    <td style="width:1"></td>
                                    <td style="width:5"></td>
                                    <td style="width:1"></td>
                                    <td style="width:9%"></td>
                                    <td style="width:1"></td>
                                    <td style="width:5"></td>
                                    <td style="width:1"></td>
                                    <td style="width:9%"></td>
                                    <td style="width:1"></td>
                                    <td style="width:5"></td>
                                    <td style="width:1"></td>
                                    <td style="width:5"></td>
                                </tr>
                                <tr>{{ one_heading('the parents', 10, '&#x25CF;') }}</tr>
                                <tr>{{ one_heading('the grandparents', 6, '&#x25C7;') }}</tr>
                                <tr>{{ one_heading('the great-grandparents', 2, '&#x25A0;') }}</tr>
                            </table>
                        </td>
                        <td style="width:{{ sbcol }}">
                            <table style="border:0;width:100%;cellspacing:0;cellpading:0">
                                <tr>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr>
                                    <td style="text-align:center;valign:middle">
                                        <b>{{ self }}</b>
                                    </td>
                                </tr>
                                {% if has_families %}{# foreach not implemented yet #}{% endif %}
                                <tr>
                                    <td style="text-align:center;valign:bottom;width:100%">
                                        <span class="highlight_hg"><b>{{ _(siblings) |capitalize }}</b></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="text-align:center;valign:bottom;width:100%">
                                        <span class="highlight_hg"><b>|</b></span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td style="width:{{ chcol }}">
                            <table style="border:0;width:100%;cellspacing:0;cellpading:0">
                                <tr>
                                    <ul>
                                        <li>
                                            <span class="highlight_hg"><b>{{ _(the children) |capitalize }}</b></span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span class="highlight_hg"><b>{{ _(the grandchildren) |capitalize }}</b></span>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span class="highlight_hg"><b>{{ _(the great-grandchildren) |capitalize }}</b></span>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
                <table style="width:100%;border:0;cellspacing:0;cellpading:0">
                    <tr>
                        <td style="width={{ gpcol }}">
                            {% if has_parents %}
                                <table style="width:100%;border:0;cellspacing:0;cellpading:0">
                                    <tr>
                                        <td style="width:41%"></td>
                                        <td style="width:41%"></td>
                                        <td style="width:1"></td>
                                        <td style="width:5"></td>
                                        <td style="width:1"></td>
                                        <td style="width:9%"></td>
                                        <td style="width:1"></td>
                                        <td style="width:5"></td>
                                        <td style="width:1"></td>
                                        <td style="width:9%"></td>
                                        <td style="width:1"></td>
                                        <td style="width:5"></td>
                                        <td style="width:1"></td>
                                        <td style="width:5"></td>
                                    </tr>
                                    {% if father.has_parents %}
                                        {% if father.father.has_parents %}
                                            {{ one_ancestor('father.father.father', 2, '&#x25A0;') }}{{ one_ancestor('father.father.mother', 2, '&#x25A0;') }}
                                        {% endif %}
                                        {{ one_ancestor('father.father', 6, '&#x25C7;') }}
                                        {% if father.mother.has_parents %}
                                            {{ one_ancestor('father.mother.father', 2, '&#x25A0;') }}{{ one_ancestor('father.mother.mother', 2, '&#x25A0;') }}
                                        {% endif %}
                                        {{ one_ancestor('father.mother', 6, '&#x25C7;') }}
                                    {% endif %}
                                    {{ one_ancestor('father', 10, '&#x25CF;') }}{{ one_ancestor('mother', 10, '&#x25CF;') }}
                                    {% if mother.has_parents %}
                                        {{ one_ancestor('mother.father', 6, '&#x25C7;') }}
                                        {% if mother.father.has_parents %}
                                            {{ one_ancestor('mother.father.father', 2, '&#x25A0;') }}{{ one_ancestor('mother.father.mother', 2, '&#x25A0;') }}
                                        {% endif %}
                                        {{ one_ancestor('mother.mother', 6, '&#x25C7;') }}
                                        {% if mother.mother.has_parents %}
                                            {{ one_ancestor('mother.mother.father', 2, '&#x25A0;') }}{{ one_ancestor('mother.mother.mother', 2, '&#x25A0;') }}
                                        {% endif %}
                                    {% endif %}
                                </table>
                            {% endif %}
                        </td>
                        <td style="width:{{ sbcol }};text-align:center">
                            <table style="width:100%;border:0;cellspacing:0;cellpadding:0">
                                {% if has_siblings %}
                                    <tr>
                                        <td style="width:1"></td>
                                        <td style="align:center;valign:middle">
                                            <b>|</b>
                                        </td>
                                        <td style="width:1"></td>
                                    </tr>
                                    {# foreach not implemented yet #}
                                {% endif %}
                            </table>
                        </td>
                        <td style="width:{{ chcol }}">
                            {% with %}
                                {% set maxlev = "2" %}
                                {% if has_families %}{# foreach not implemented yet #}{% endif %}
                            </td>
                        </tr>
                    </table>
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endwith %}
{% endif %}

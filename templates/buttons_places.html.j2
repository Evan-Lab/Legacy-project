{# 
  Generated by JinjaGenerator for template 'buttons_places'
    at 2025-10-29T22:34:56.694287

  Used macros:
  None

  Used includes:
  None

  Used variables:
  - action (x1)
  - e.lang (x2)
  - e.up (x2)
  - e.a_sort (x2)
  - e.keep (x4)
  - e.display (x1)
  - default_lang (x1)
  - cgi (x1)
  - bname_token (x1)
  - evar.k (x3)
  - evar.bi (x4)
  - evar.ba (x4)
  - evar.ma (x4)
  - evar.de (x4)
  - evar.bu (x4)
  - evar.word (x2)
  - evar.lower (x2)
  - evar.any (x2)
  - evar.max_rlm_nbr (x2)
  - evar.display (x1)
  - bvar.max_rlm_nbr (x2)
  - url_set.k (x1)
  - sp (x4)
  - ekeep (x6)
#}

<!-- $Id: buttons_places.txt v7.1 12/01/2023 18:54:37 $ -->
<!-- Copyright (c) 1998-2007 INRIA -->
<form class="form-group mx-1"
      name="evt_url"
      method="get"
      action="{{ action }}">
    <input type="hidden" name="m" value="PPS">
    {% if e.lang != default_lang %}<input type="hidden" name="lang" value="{{ e.lang }}">{% endif %}
    {% if cgi %}<input type="hidden" name="b" value="{{ bname_token }}">{% endif %}
    <div class="form-inline">
        <label class="sr-only" for="k">{{ _('place/places', variant='0') |capitalize }} (k)</label>
        <input type="search"
               class="form-control col-4 ml-2"
               name="k"
               id="k"
               value="{{ evar.k }}"
               placeholder="{% if evar.k != "" %}{{ evar.k }}{% else %}{{ _('place/places', variant='0') |capitalize }}{% endif %}">
    </div>
    <div class="form-inline mt-1">
        <div class="form-group w-100">
            <span>{{ _('event/events', variant='1') |capitalize }}{{ _(":") }}</span>
            <div class="custom-control custom-checkbox ml-2">
                <input type="checkbox"
                       class="custom-control-input"
                       name="bi"
                       onclick="test_all()"
                       id="bi"
                       value="on"
                       {% if evar.bi != "" and evar.bi == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("birth place") |capitalize }}"
                       for="bi">{{ _("birth") |capitalize }}</label>
            </div>
            <div class="custom-control custom-checkbox ml-2">
                <input type="checkbox"
                       class="custom-control-input"
                       name="ba"
                       onclick="test_all()"
                       id="ba"
                       value="on"
                       {% if evar.ba != "" and evar.ba == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("baptism place") |capitalize }}"
                       for="ba">{{ _("baptism") |capitalize }}</label>
            </div>
            <div class="custom-control custom-checkbox ml-2">
                <input type="checkbox"
                       class="custom-control-input"
                       name="ma"
                       onclick="test_all()"
                       id="ma"
                       value="on"
                       {% if evar.ma != "" and evar.ma == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("marriage place") |capitalize }}"
                       for="ma">{{ _('marriage/marriages', variant='0') |capitalize }}</label>
            </div>
            <div class="custom-control custom-checkbox ml-2">
                <input type="checkbox"
                       class="custom-control-input"
                       name="de"
                       onclick="test_all()"
                       id="de"
                       value="on"
                       {% if evar.de != "" and evar.de == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("death place") |capitalize }}"
                       for="de">{{ _("death") |capitalize }}</label>
            </div>
            <div class="custom-control custom-checkbox ml-2">
                <input type="checkbox"
                       class="custom-control-input"
                       name="bu"
                       onclick="test_all()"
                       id="bu"
                       value="on"
                       {% if evar.bu != "" and evar.bu == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("burial place") |capitalize }}"
                       for="bu">{{ _("burial") |capitalize }}</label>
            </div>
            <div class="custom-control custom-checkbox ml-4">
                <input type="checkbox"
                       class="custom-control-input"
                       name="all"
                       id="all"
                       value="on"
                       {% if evar.bi != "" and evar.bi == "on" and evar.ba != "" and evar.ba == "on" and evar.ma != "" and evar.ma == "on" and evar.de != "" and evar.de == "on" and evar.bu != "" and evar.bu == "on" %} checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("all") |capitalize }}"
                       for="all">{{ _("all") |capitalize }}</label>
            </div>
        </div>
        <div class="form-group">
            <span>{{ _("matching") |capitalize }}{{ _(":") }}</span>
            <div class="custom-control custom-checkbox ml-4">
                <input type="checkbox"
                       class="custom-control-input"
                       name="word"
                       id="word"
                       value="on"
                       {% if evar.word != "" and evar.word == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("word match title") |capitalize }}"
                       for="word">{{ _("word match") |capitalize }}</label>
            </div>
            <div class="custom-control custom-checkbox ml-4">
                <input type="checkbox"
                       class="custom-control-input"
                       name="lower"
                       id="lower"
                       value="on"
                       {% if evar.lower != "" and evar.lower == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("case-hlp") |capitalize }}"
                       for="lower">{{ _("case") |capitalize }}</label>
            </div>
            <div class="custom-control custom-checkbox ml-4">
                <input type="checkbox"
                       class="custom-control-input"
                       name="any"
                       id="any"
                       value="on"
                       {% if evar.any != "" and evar.any == "on" %}checked{% endif %}>
                <label class="custom-control-label"
                       title="{{ _("any place title") |capitalize }}"
                       for="any">{{ _("any place") |capitalize }}</label>
            </div>
            <input type="text"
                   class=" ml-4"
                   size="2"
                   name="max_rlm_nbr"
                   id="max_rlm_nbr"
                   placeholder="{% if evar.max_rlm_nbr != "" %}"
                   "
                   {{ evar.max_rlm_nbr }}
                   "
                   {% else %}
                   {% if bvar.max_rlm_nbr != "" %}"{{ bvar.max_rlm_nbr }}" {% else %}"80"{% endif %}
                   {% endif %}>
            <label class="label ml-1" title="{{ _("max nbr title") |capitalize }}">{{ _("max nbr") |capitalize }}</label>
            {% if evar.display == "long" %}<input type="hidden" name="display" id="display" value="long">{% endif %}
            <button type="submit"
                    class="btn btn-primary btn-sm ml-4"
                    title="{{ _('search/case sensitive', variant='0') |capitalize }} {{ _('surname/surnames', variant='1') }} / {{ _('place/places', variant='1') }} {{ _("and") }} {{ _('event/events', variant='1') }}">
                <i class="fa fa-magnifying-glass mr-2"></i>Search
            </button>
        </div>
    </div>
</form>
<div class="d-flex">
    <div>
        <a href="{{ url_set.k }}" title="{{ _("all the places") |capitalize }}">{{ _("all the places") |capitalize }}</a>
    </div>
    <div class="ml-4">
        <a role="button"
           class="ml-auto"
           href="{{ url_set("f_sort/up/a_sort", "on/"+("on") if (e.up != "on")) }}"
           {{ sp }}
           title="{{ _('sort by/branch/alphabetic order', variant='0') |capitalize }} {{ _("frequency") }}">
            <i class="fas fa-arrow-down-{% if e.up != "on" %}9-1{% else %}1-9{% endif %}{{ sp }}fa-lg"></i></a><a role="button"
   class="ml-auto"
   href="{{ url_set("a_sort/f_sort/up", ("on") if (e.a_sort != "on")) }}"
   {{ sp }}
   title="{{ _('sort by/branch/alphabetic order', variant='0') |capitalize }} {{ _('sort by/branch/alphabetic order', variant='2') }}">
                <i class="fas fa-arrow-down-{% if e.a_sort != "on" %}a-z{% else %}z-a{% endif %}{{ sp }}fa-lg"></i></a>
            {% with %}
                {% set ekeep = ("1") if (e.keep == "") else (e.keep) %}
                {% if e.display != "long" %}
                    <span class="ml-2 mr-2" title="{{ _("place filter") |capitalize }}">{{ _("filter") |capitalize }}{{ _(":") }}</span>
                    <a role="button"
                       class="btn-link ml-auto {% if ekeep == "" or ekeep < 2 %}disabled text-muted{% endif %}"
                       href="{{ url_set("keep", (ekeep - 1) if (ekeep != "") else ("1")) }}"
                       title="{{ _("place filter") |capitalize }}">
                        <i class="fas fa-minus fa-lg"></i>
                    </a>
                    <span title="{{ _("place filter") |capitalize }}">
                        {% if e.keep == "" %}
                            1
                        {% else %}
                            {{ e.keep }}
                        {% endif %}
                    </span>
                    <a role="button"
                       class="ml-auto"
                       href="{{ url_set("keep", (ekeep + 1) if (ekeep != "") else ("1")) }}"
                       title="{{ _("place filter") |capitalize }}">
                        <i class="fas fa-plus fa-lg"></i>
                    </a>
                {% endif %}
            </div>
        </div>
        <script>
            function toggle(btn, state) {
                if (state) {
                    document.getElementById(btn).setAttribute("value", "on");
                    document.getElementById(btn).checked = true;
                } else {
                    document.getElementById(btn).setAttribute("value", "");
                    document.getElementById(btn).checked = false;
                };
            };

            function test_all() {
                var bi = document.getElementById("bi").checked;
                var bp = document.getElementById("ba").checked;
                var ma = document.getElementById("ma").checked;
                var de = document.getElementById("de").checked;
                var bu = document.getElementById("bu").checked;
                var state = bi && bp && ma && de && bp;
                document.getElementById("all").checked = state;
            };
            document.getElementById("all").onclick = function() {
                var state = document.getElementById("all").checked;
                toggle("bi", state);
                toggle("ba", state);
                toggle("ma", state);
                toggle("de", state);
                toggle("bu", state);
            };
        </script>
    {% endwith %}

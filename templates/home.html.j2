{# 
  Generated by JinjaGenerator for template 'home'
    at 2025-10-29T22:35:01.778138

  Used macros:
  - display_sosa_ref(xx)
  - get_random(xxx)
  - dice()

  Used includes:
  None

  Used variables:
  - sosa_ref.access (x1)
  - sosa_ref (x2)
  - random.init (x2)
  - random.xxx (x1)
  - random[6] (x1)
  - nb_persons.v (x3)
  - cancel_links (x1)
  - e.templ (x1)
  - e.i (x2)
  - e.p (x1)
  - e.n (x1)
  - e.m (x4)
  - referer (x2)
  - predictable_mode (x2)
  - rng (x2)
  - random_index (x2)
  - b.hide_querytime_bugs (x1)
  - b.alt_serv_base (x3)
  - b.alt_serv_adr (x4)
  - roglo (x2)
  - wizard (x3)
  - cgi (x1)
  - friend (x1)
  - sp (x1)
  - hidden (x1)
  - browsing_with_sosa_ref (x2)
#}

<!-- $Id: home.txt v7.1 07/09/2023 00:49:55 $ -->
{% macro display_sosa_ref(xx) %}
    {{ _("sosa reference") |capitalize }}{{ _(":") }}
    <a href="/{{ sosa_ref.access }}">{{ sosa_ref }}</a>
{% endmacro %}
{% macro get_random(xxx) %}
    {{ random.init }}{{ random.xxx }}
{% endmacro %}
{% macro dice() %}
    {{ random.init }}{{ nth("one/two/three/four/five/six", random[6]) }}
{% endmacro %}
{% with %}
    {% set random_index = (get_random(nb_persons.v)) if (nb_persons.v != 0) %}
    {% if not cancel_links and e.templ == "" %}
        <div class="d-flex flex-column fix_top fix_left home-xs">
            <a tabindex="1"
               role="button"
               class="btn btn-sm btn-link p-0 border-0"
               href="/"
               title="{{ _("home") |capitalize }}">
                <i class="fa fa-house fa-fw fa-xs" aria-hidden="true"></i><i class="sr-only">{{ _("home") |capitalize }}</i></a>
            {% if referer != "" %}
                <a tabindex="2"
                   role="button"
                   class="btn btn-sm btn-link p-0 border-0"
                   href="{{ referer }}"
                   title="{{ _("back") |capitalize }}"><i class="fa fa-arrow-left-long fa-fw fa-xs fa-icon" aria-hidden="true"></i><span class="sr-only">{{ _("back") |capitalize }}</span></a>
            {% endif %}
            <a tabindex="3"
               role="button"
               class="btn btn-sm btn-link p-0 border-0"
               data-toggle="modal"
               data-target="#searchmodal"
               accesskey="S"
               title="{{ _('search/case sensitive', variant='0') |capitalize }}"><i class="fa fa-magnifying-glass fa-fw fa-xs" aria-hidden="true"></i><span class="sr-only">{{ _('search/case sensitive', variant='0') |capitalize }}</span></a>
            {% with %}
                {% set rng = ("1") if (e.i != "" or e.p != "" or e.n != "" and e.m != "S" and e.m != "L" and e.m != "" and not "_FAM" in e.m) %}
                {% if nb_persons.v != 0 and not predictable_mode %}
                    <a role="button"
                       class="btn btn-sm btn-link p-0 border-0 fa-icon"
                       href="{% if rng == 1 %}{{ url_set("i/p/n/oc/file", random_index) }}{% else %}/i={{ random_index }}{% endif %}"
                       title="{{ _("random individual") |capitalize }}{% if rng == 1 %} ({{ _("stay on the current tool") }}){% endif %}"><i class="fa fa-dice-{{ dice() }} fa-fw fa-xs" aria-hidden="true"></i><span class="sr-only">{{ _("random individual") |capitalize }}</span></a>
                {% endif %}
                {% if b.hide_querytime_bugs != "yes" and not predictable_mode %}
                    <div class="btn btn-sm p-0 border-0" id="q_time">
                        <i class="fa fa-hourglass-half fa-fw fa-xs p-0"></i>
                    </div>
                    <div class="btn btn-sm p-0 border-0 d-none" id="nb_errors">
                        <i class="fa fa-bug fa-fw fa-xs p-0"></i>
                    </div>
                {% endif %}
                {% if b.alt_serv_base != "" and not roglo or roglo and wizard and not cgi %}
                    <a role="button"
                       class="btn btn-sm btn-link p-0 border-0 fa-icon"
                       href="{% if b.alt_serv_adr != "" %}{{ b.alt_serv_adr }}{% endif %}{{ b.alt_serv_base }}?w={% if wizard %}w{% else %}{% if friend %}f{% endif %}{% endif %}{# foreach not implemented yet #}"
                       title="{{ _('go to alt base', variant='0') |capitalize }}{{ sp }}{% if b.alt_serv_adr != "" %}{{ b.alt_serv_adr }}{% endif %}{{ b.alt_serv_base }}?… {% if e.i != "" %}{{ _('go to alt base', variant='1') }}{% endif %}">
                        <i class="fa fa-arrow-right{% if wizard %} text-success{% endif %} fa-fw fa-xs p-0"></i>
                    </a>
                {% endif %}
            </div>
            <div class="modal"
                 id="searchmodal"
                 role="dialog"
                 aria-labelledby="searchpopup"
                 aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-body" id="ModalSearch">
                            <form id="collapse_search" method="get" action="/">
                                {{ hidden }}
                                <input type="hidden" name="m" value="S">
                                <div class="d-flex flex-column flex-md-row justify-content-center">
                                    <h3 class="rounded modal-title my-2 ml-3 ml-md-0 text-md-center w-md-50 align-self-md-center"
                                        id="searchpopup">
                                        {{ _('search/case sensitive', variant='0') |capitalize }} {{ _('person/persons', variant='0') }}
                                    </h3>
                                    <div class="col-12 col-md-8 mt-2 mt-md-0">
                                        {% if browsing_with_sosa_ref %}<h5 class="ml-1">{{ display_sosa_ref(sosa_ref) }}</h5>{% endif %}
                                        <label class="sr-only" for="pn">Search person name</label>
                                        <input type="search"
                                               id="fullname"
                                               class="form-control form-control-lg no-clear-button mb-2"
                                               name="pn"
                                               placeholder="{{ _('search/case sensitive', variant='0') |capitalize }} {{ _('person/persons', variant='0') }}, {{ _('surname/surnames', variant='0') }}, {{ _("public name") }}, {{ _("alias") }}{% if browsing_with_sosa_ref %}, {{ _("n° Sosa") }}{% endif %} {{ _("or") }} {{ _('key', variant='0') }}"
                                               autofocus
                                               tabindex="4">
                                        <label class="sr-only" for="n">Search public name</label>
                                        <input type="search"
                                               id="n"
                                               class="form-control form-control-lg no-clear-button"
                                               name="n"
                                               placeholder="{{ _('surname/surnames', variant='0') |capitalize }}"
                                               tabindex="5">
                                        <label class="sr-only" for="p">Search firstname</label>
                                        <input type="search"
                                               id="p"
                                               class="form-control form-control-lg no-clear-button mt-2"
                                               name="p"
                                               placeholder="{{ _('first name/first names', variant='0') |capitalize }}"
                                               tabindex="6">
                                        <div class="d-flex align-items-center ml-2 flex-nowrap">
                                            <div class="form-check form-check-inline"
                                                 data-toggle="tooltip"
                                                 data-placement="bottom"
                                                 title="{{ _("all-hlp") |capitalize }}">
                                                <input class="form-check-input"
                                                       type="checkbox"
                                                       name="p_all"
                                                       id="p_all"
                                                       value="on">
                                                <label class="form-check-label" for="p_all">{{ _("all") |capitalize }}</label>
                                            </div>
                                            <div class="form-check form-check-inline"
                                                 data-toggle="tooltip"
                                                 data-placement="bottom"
                                                 title="{{ _("order-hlp") |capitalize }}">
                                                <input class="form-check-input"
                                                       type="checkbox"
                                                       name="p_order"
                                                       id="p_order"
                                                       value="on">
                                                <label class="form-check-label" for="p_order">{{ _("order") |capitalize }}</label>
                                            </div>
                                            <div class="form-check form-check-inline"
                                                 data-toggle="tooltip"
                                                 data-placement="bottom"
                                                 title="{{ _("exact-hlp") |capitalize }}">
                                                <input class="form-check-input"
                                                       type="checkbox"
                                                       name="p_exact"
                                                       id="p_exact"
                                                       value="on">
                                                <label class="form-check-label" for="p_exact">{{ _("exact") |capitalize }}</label>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-outline-primary mx-3 mx-md-0 mt-4 my-2 mt-md-0"
                                            type="submit"
                                            title="{{ _('search/case sensitive', variant='0') |capitalize }}">
                                        <i class="fa fa-magnifying-glass fa-lg mt-2 mt-md-0 mx-4 mx-md-2"></i> {{ _('search/case sensitive', variant='0') |capitalize }}
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        {% endwith %}
    {% endif %}
{% endwith %}

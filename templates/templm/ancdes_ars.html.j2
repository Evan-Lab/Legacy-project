{# 
  Generated by JinjaGenerator for template 'templm/ancdes_ars'
    at 2025-10-26T15:16:14.151348

  Used macros:
  - tf1_ars(xx)
  - anc_ars(m_bt, m_bf, m_dt, m_df, f_bt, f_bf, f_dt, f_df)
  - des_ars(curlev, maxlev, m_bt, m_bf, m_dt, m_df, f_bt, f_bf, f_dt, f_df)
  - ars()

  Used includes:
  None

  Used variables:
  - index (x4)
  - browsing_with_sosa_ref (x1)
  - sosa_ref.index (x1)
  - evar.ff (x2)
  - evar.ic (x2)
  - evar.fs (x2)
  - evar.width (x2)
  - evar.height (x2)
  - evar.red (x2)
  - evar.green (x2)
  - evar.blue (x2)
  - evar.mbt (x2)
  - evar.mdt (x2)
  - evar.fbt (x2)
  - evar.fdt (x2)
  - evar.mbf (x2)
  - evar.mdf (x2)
  - evar.fbf (x2)
  - evar.fdf (x2)
  - evar.m (x3)
  - width (x3)
  - height (x3)
  - reset_count (x1)
  - empty_sorted_list (x1)
  - incr_count (x1)
  - l_v (x3)
  - curlev (x3)
  - death_date.year (x2)
  - death_date.day (x2)
  - death_date.month (x2)
  - birth_date.year (x2)
  - birth_date.day (x2)
  - birth_date.month (x2)
  - sex (x3)
  - lev (x2)
  - m_bf (x1)
  - m_df (x1)
  - aad (x2)
  - f_bf (x1)
  - f_df (x1)
  - ff (x2)
  - action (x1)
  - hidden (x1)
  - access_by_key (x1)
  - first_name_key_val (x1)
  - surname_key_val (x1)
  - occ (x2)
  - ic (x1)
  - fs (x1)
  - red (x1)
  - green (x1)
  - blue (x1)
  - mbt (x3)
  - mbf (x4)
  - fbt (x3)
  - fbf (x4)
  - mdt (x3)
  - mdf (x4)
  - fdt (x3)
  - fdf (x4)
  - ambf (x1)
  - amdf (x1)
  - afbf (x1)
  - afdf (x1)
#}
<!-- $Id: templm/ancdes_ars.txt v7.0 2014/11/24 17:55:26 $ -->
{% with %}
    {% set rlm2 = "i2="index"&t2=0" %}
    {% with %}
        {% set rlm3 = ("i3="sosa_ref.index"&t3=sosa_1") if (browsing_with_sosa_ref) %}
        {% with %}
            {% set ff = (evar.ff) if (( evar.ff != "" )) else ("arial") %}
            {% with %}
                {% set ic = (evar.ic) if (( evar.ic >= 0 )) else ("400") %}
                {% with %}
                    {% set fs = (evar.fs) if (( evar.fs >= 0 )) else ("3") %}
                    {% with %}
                        {% set width = (evar.width) if (( evar.width >= 0 )) else ("2048") %}
                        {% with %}
                            {% set height = (evar.height) if (( evar.height >= 0 )) else ("1536") %}
                            {% with %}
                                {% set lx = ( width / 35 ) %}
                                {% with %}
                                    {% set tx = ( height / 13 ) %}
                                    {% with %}
                                        {% set red = (evar.red) if (( evar.red >= 0 )) else ("10") %}
                                        {% with %}
                                            {% set green = (evar.green) if (( evar.green >= 0 )) else ("10") %}
                                            {% with %}
                                                {% set blue = (evar.blue) if (( evar.blue >= 0 )) else ("10") %}
                                                {% with %}
                                                    {% set mbt = (evar.mbt) if (( evar.mbt != "" )) %}
                                                    {% with %}
                                                        {% set mdt = (evar.mdt) if (( evar.mdt != "" )) %}
                                                        {% with %}
                                                            {% set fbt = (evar.fbt) if (( evar.fbt != "" )) %}
                                                            {% with %}
                                                                {% set fdt = (evar.fdt) if (( evar.fdt != "" )) %}
                                                                {% with %}
                                                                    {% set mbf = (evar.mbf) if (( evar.mbf != "" )) else ("first_name") %}
                                                                    {% with %}
                                                                        {% set mdf = (evar.mdf) if (( evar.mdf != "" )) else ("occupation") %}
                                                                        {% with %}
                                                                            {% set fbf = (evar.fbf) if (( evar.fbf != "" )) else ("surname") %}
                                                                            {% with %}
                                                                                {% set fdf = (evar.fdf) if (( evar.fdf != "" )) else ("dates") %}
                                                                                {% macro tf1_ars(xx) %}
                                                                                    <option value="evar.none"
                                                                                            {% if ( "xx" == "evar.none" ) %}selected="selected"{% endif %}>
                                                                                        -
                                                                                    </option>
                                                                                    <option value="first_name"
                                                                                            {% if ( "xx" == "first_name" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(first name/first names, variant='0') }}
                                                                                    </option>
                                                                                    <option value="surname"
                                                                                            {% if ( "xx" == "surname" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(surname/surnames, variant='0') }}
                                                                                    </option>
                                                                                    <option value="occupation"
                                                                                            {% if ( "xx" == "occupation" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(occupation/occupations, variant='0') }}
                                                                                    </option>
                                                                                    <option value="dates"
                                                                                            {% if ( "xx" == "dates" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(date/dates, variant='1') }}
                                                                                    </option>
                                                                                    <option value="birth_date.year"
                                                                                            {% if ( "xx" == "birth_date.year" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(birth) }} {{ _(year/month/day, variant='0') }}
                                                                                    </option>
                                                                                    <option value="birth_place"
                                                                                            {% if ( "xx" == "birth_place" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(birth) }} {{ _(place/places, variant='0') }}
                                                                                    </option>
                                                                                    <option value="death_date.year"
                                                                                            {% if ( "xx" == "death_date.year" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(death) }} {{ _(year/month/day, variant='0') }}
                                                                                    </option>
                                                                                    <option value="death_place"
                                                                                            {% if ( "xx" == "death_place" ) %}selected="selected"{% endif %}>
                                                                                        {{ _(death) }} {{ _(place/places, variant='0') }}
                                                                                    </option>
                                                                                {% endmacro %}
                                                                                {% macro anc_ars(m_bt, m_bf, m_dt, m_df, f_bt, f_bf, f_dt, f_df) %}
                                                                                    {{ reset_count }}{{ empty_sorted_list }}{# foreach not implemented yet #}{% endmacro %}{% macro des_ars(curlev, maxlev, m_bt, m_bf, m_dt, m_df, f_bt, f_bf, f_dt, f_df) %}{{ incr_count }}{% with %}{% set lev = ( ( l_v - curlev ) + 1 ) %}{% with %}{% set aad = (( ( death_date.year - birth_date.year ) * 2 )) if (( death_date.year > birth_date.year )) else ("0") %}{% if ( sex == 0 ) %}{{ add_in_sorted_list(lev, index, sex, birth_date.day, birth_date.month, death_date.day, death_date.month, "m_bt", m_bf, "m_dt", m_df, aad, curlev) }}{% else %}{{ add_in_sorted_list(lev, index, sex, birth_date.day, birth_date.month, death_date.day, death_date.month, "f_bt", f_bf, "f_dt", f_df, aad, curlev) }}{% endif %}{# foreach not implemented yet #}
                                                                                {% endwith %}
                                                                            {% endwith %}
                                                                        {% endmacro %}
                                                                        {% macro ars() %}
                                                                            <div class="stat_ars bcbg1"
                                                                                 style="width:{{ width }}px;
                                                                                        height:{{ height }}px;
                                                                                        font-family:{{ ff }}">
                                                                                {# foreach not implemented yet #}
                                                                            </div>
                                                                            <form id="form_ars" name="form_ars" method="get" action="{{ action }}">
                                                                                <p>
                                                                                    {{ hidden }}
                                                                                    <input type="hidden" name="m" value="{{ evar.m }}" />
                                                                                    {% if ( evar.m == "A" ) %}
                                                                                        <input type="hidden" name="t" value="F" />
                                                                                        <input type="hidden" name="tf1" value="ars" />
                                                                                    {% else %}
                                                                                        <input type="hidden" name="t" value="L" />
                                                                                        <input type="hidden" name="tl1" value="ars" />
                                                                                    {% endif %}
                                                                                    {% if access_by_key %}
                                                                                        <input type="hidden" name="p" value="{{ first_name_key_val }}" />
                                                                                        <input type="hidden" name="n" value="{{ surname_key_val }}" />
                                                                                        {% if ( occ != "0" ) %}<input type="hidden" name="oc" value="{{ occ }}" />{% endif %}
                                                                                    {% else %}
                                                                                        <input type="hidden" name="i" value="{{ index }}" />
                                                                                    {% endif %}
                                                                                </p>
                                                                                <fieldset>
                                                                                    <legend>
                                                                                        <input type="submit" value="Ok" />
                                                                                    </legend>
                                                                                    <ul>
                                                                                        <li>
                                                                                            <label>
                                                                                                {{ _(generation/generations, variant='0') |capitalize }}
                                                                                                <input name="v" value="{{ l_v }}" class="number" />
                                                                                            </label>
                                                                                        </li>
                                                                                        <li>
                                                                                            <label>
                                                                                                Initial count
                                                                                                <input name="ic" value="{{ ic }}" class="number" />
                                                                                            </label>
                                                                                        </li>
                                                                                        <li>
                                                                                            <label>
                                                                                                Font family
                                                                                                <input name="ff" value="{{ ff }}" />
                                                                                            </label>
                                                                                        </li>
                                                                                        <li>
                                                                                            <label>
                                                                                                Font size
                                                                                                <input name="fs" value="{{ fs }}" class="number" />
                                                                                            </label>
                                                                                        </li>
                                                                                        <li></li>
                                                                                        <li>
                                                                                            <label>
                                                                                                Width
                                                                                                <input name="width" value="{{ width }}" class="number" />
                                                                                                px
                                                                                            </label>
                                                                                            <label>
                                                                                                Height
                                                                                                <input name="height" value="{{ height }}" class="number" />
                                                                                                px
                                                                                            </label>
                                                                                        </li>
                                                                                        <li>
                                                                                            <label style="background-color:red">
                                                                                                R
                                                                                                <input name="red" value="{{ red }}" class="number" />
                                                                                            </label>
                                                                                            <label style="background-color:green">
                                                                                                G
                                                                                                <input name="green" value="{{ green }}" class="number" />
                                                                                            </label>
                                                                                            <label style="background-color:blue">
                                                                                                B
                                                                                                <input name="blue" value="{{ blue }}" class="number" />
                                                                                            </label>
                                                                                        </li>
                                                                                        <ul>
                                                                                            <table border>
                                                                                                <tr>
                                                                                                    <th class="bcbg1" colspan="2">{{ _(M/F, variant='0') |capitalize }}</th>
                                                                                                    <th class="bcbg1" colspan="2">{{ _(M/F, variant='1') |capitalize }}</th>
                                                                                                </tr>
                                                                                                <th class="bcbg1">{{ _(birth) }}</th>
                                                                                                <td>
                                                                                                    <label>
                                                                                                        {{ _(text) }}
                                                                                                        <input name="mbt" value="{{ mbt }}" />
                                                                                                    </label>
                                                                                                    <select name="mbf">{{ tf1_ars(mbf) }}</select>
                                                                                                </td>
                                                                                                <th class="bcbg1">{{ _(birth) }}</th>
                                                                                                <td>
                                                                                                    <label>
                                                                                                        {{ _(text) }}
                                                                                                        <input name="fbt" value="{{ fbt }}" />
                                                                                                    </label>
                                                                                                    <select name="fbf">{{ tf1_ars(fbf) }}</select>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr>
                                                                                                <th class="bcbg1">{{ _(death) }}</th>
                                                                                                <td>
                                                                                                    <label>
                                                                                                        {{ _(text) }}
                                                                                                        <input name="mdt" value="{{ mdt }}" />
                                                                                                    </label>
                                                                                                    <select name="mdf">{{ tf1_ars(mdf) }}</select>
                                                                                                </td>
                                                                                                <th class="bcbg1">{{ _(death) }}</th>
                                                                                                <td>
                                                                                                    <label>
                                                                                                        {{ _(text) }}
                                                                                                        <input name="fdt" value="{{ fdt }}" />
                                                                                                    </label>
                                                                                                    <select name="fdf">{{ tf1_ars(fdf) }}</select>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </fieldset>
                                                                                </form>
                                                                            {% endmacro %}
                                                                            {% if ( evar.m == "A" ) %}
                                                                                {% with %}
                                                                                    {% set ambf = ("ancestor.") if (( mbf != "evar.none" ))mbf %}
                                                                                    {% with %}
                                                                                        {% set amdf = ("ancestor.") if (( mdf != "evar.none" ))mdf %}
                                                                                        {% with %}
                                                                                            {% set afbf = ("ancestor.") if (( fbf != "evar.none" ))fbf %}
                                                                                            {% with %}
                                                                                                {% set afdf = ("ancestor.") if (( fdf != "evar.none" ))fdf %}{{ anc_ars(mbt, ambf, mdt, amdf, fbt, afbf, fdt, afdf) }}
                                                                                            {% endwith %}
                                                                                        {% endwith %}
                                                                                    {% endwith %}
                                                                                {% endwith %}
                                                                            {% else %}
                                                                                {{ des_ars(0, l_v, mbt, mbf, mdt, mdf, fbt, fbf, fdt, fdf) }}
                                                                            {% endif %}
                                                                            {{ ars() }}
                                                                        {% endwith %}
                                                                    {% endwith %}
                                                                {% endwith %}
                                                            {% endwith %}
                                                        {% endwith %}
                                                    {% endwith %}
                                                {% endwith %}
                                            {% endwith %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endwith %}
                            {% endwith %}
                        {% endwith %}
                    {% endwith %}
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endwith %}
{% endwith %}
{% endwith %}

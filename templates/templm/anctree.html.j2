{# 
  Generated by JinjaGenerator for template 'templm/anctree'
    at 2025-10-26T15:16:19.820457

  Used macros:
  - symbol(xx)
  - a_tree_line()
  - male_line(xx, nn)
  - female_line(xx, nn)
  - tree(xx)
  - togen1(xx)
  - togen()
  - tothegen(xx)
  - show_templ(z1)

  Used includes:
  - css
  - hed
  - anctree_z1
  - modules/arbre_hi
  - anclist_hrztl
  - tools
  - trl
  - copyr

  Used variables:
  - doctype (x1)
  - evar.maxv (x3)
  - evar.v (x6)
  - evar.t (x8)
  - evar.t1 (x16)
  - evar.m (x2)
  - evar.cgl (x2)
  - evar.only (x1)
  - bvar.max_anc_tree (x3)
  - l_v0 (x5)
  - sp (x1)
  - public_name (x2)
  - first_name (x1)
  - qualifier (x2)
  - surname (x1)
  - charset (x1)
  - xx.has_sosa (x1)
  - xx.has_parents (x2)
  - xx (x9)
  - xx.access (x2)
  - xx.title (x2)
  - xx.dates (x2)
  - is_first (x1)
  - is_last (x1)
  - nn (x4)
  - nl (x2)
  - border (x1)
  - l_v (x3)
  - body_prop (x1)
  - message_to_wizard (x1)
  - cancel_links (x2)
  - has_children (x1)
  - prefix_set.iz (x1)
  - max_anc_level (x1)
  - index (x1)
  - access (x1)
  - query_time (x1)
#}
{{ doctype }}
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!-- $Id: templm/anctree.txt v7.0 2015/12/10 21:34:32 $ -->
        {% with %}
            {% set l_v0 = (evar.maxv) if (( ( evar.maxv != "" ) and ( evar.v > evar.maxv ) )) else (evar.v) %}
            {% with %}
                {% set l_v = (l_v0) if (( ( bvar.max_anc_tree == "" ) or ( evar.t != "T" ) )) else ((l_v0) if (( bvar.max_anc_tree > l_v0 )) else (bvar.max_anc_tree)) %}<title>
                {% if ( ( evar.t == "A" ) or ( evar.t1 == "A" ) ) %}
                    {{ _(male line/female line, variant='0') |capitalize }}
                {% else %}
                    {% if ( ( evar.t == "C" ) or ( evar.t1 == "C" ) ) %}
                        {{ _(male line/female line, variant='1') |capitalize }}
                    {% else %}
                        {% if ( ( evar.t1 == "ht" ) or ( evar.t1 == "h" ) ) %}
                            {{ _(htree) |capitalize }}
                        {% else %}
                            {% if ( ( evar.t1 == "it" ) or ( evar.t1 == "i" ) ) %}
                                {{ _(itree) |capitalize }}
                            {% else %}
                                {% if ( evar.m == "A" ) %}
                                    {{ _(ascendants tree) |capitalize }}
                                {% else %}
                                    {% if ( evar.m == "D" ) %}
                                        {{ _(descendants tree) |capitalize }}
                                    {% else %}
                                        {% if ( evar.t1 == "m" ) %}mix 9 g{% endif %}
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% endif %}
                {% if ( evar.t != "" ) %}
                    {{ _(:) }}{{ sp }}
                    {% if ( public_name != "" ) %}
                        {{ public_name }}
                    {% else %}
                        {{ first_name }}
                    {% endif %}
                    {% if ( qualifier != "" ) %}{{ qualifier }}{% endif %}
                    {{ surname }}
                {% endif %}
            </title>
            <meta name="robots" content="none" />
            <meta name="format-detection" content="telephone=no" />
            <meta http-equiv="Content-Type" content="text/html; charset={{ charset }}" />
            <meta http-equiv="Content-Style-Type" content="text/css" />
            <link rel="shortcut icon"
                  href="{{ url_for('static/images/', path='favicon_gwd.png') }}" />
            {% include 'css' %}
        </head>
        {% macro symbol(xx) %}
            <span {% if xx.has_sosa %}class="color_sosa"{% endif %}>│</span>
        {% endmacro %}
        {% macro a_tree_line() %}
            {% if ( not is_first ) %}<tr>{# foreach not implemented yet #}</tr>{% endif %}
            <tr>{# foreach not implemented yet #}</tr>
            {% if ( not is_last ) %}
                <tr>{# foreach not implemented yet #}</tr>
                <tr>{# foreach not implemented yet #}</tr>
            {% endif %}
        {% endmacro %}
        {% macro male_line(xx, nn) %}
            {% if ( nn > 0 ) %}
                {% if xx.has_parents %}{{ male_line("xx.father", ( nn - 1) ) }}{% endif %}
                {% if ( evar.cgl == "on" ) %}
                    {{ xx }}
                {% else %}
                    <a href="/{{ xx.access }}">{{ xx }}</a>
                {% endif %}
                {{ xx.title }}{{ xx.dates }}
                {% if ( "xx" != "self" ) %}
                    <br>
                    │
                    <br>
                {% endif %}
            {% endif %}
            {{ nl }}
        {% endmacro %}
        {% macro female_line(xx, nn) %}
            {% if ( nn > 0 ) %}
                {% if xx.has_parents %}{{ female_line("xx.mother", ( nn - 1) ) }}{% endif %}
                {% if ( evar.cgl == "on" ) %}
                    {{ xx }}
                {% else %}
                    <a href="/{{ xx.access }}">{{ xx }}</a>
                {% endif %}
                {{ xx.title }}{{ xx.dates }}
                {% if ( "xx" != "self" ) %}
                    <br>
                    │
                    <br>
                {% endif %}
            {% endif %}
            {{ nl }}
        {% endmacro %}
        {% macro tree(xx) %}
            <table summary="tree"
                   border="{{ border }}"
                   cellspacing="0"
                   cellpadding="0"
                   width="100%">
                {# foreach not implemented yet #}
            </table>
        {% endmacro %}
        {% macro togen1(xx) %}
            {% if ( xx == 1 ) %}
                {{ _(specify::generation/generations, variant='0') |capitalize }}
            {% else %}
                {% if ( xx == 2 ) %}
                    {{ _(to the parents) |capitalize }}
                {% else %}
                    {% if ( xx == 3 ) %}
                        {{ _(to the grandparents) |capitalize }}
                    {% else %}
                        {% if ( xx == 4 ) %}
                            {{ _(to the great-grandparents) |capitalize }}
                        {% else %}
                            {{ tothegen(nth(_(nth (generation) ), xx)) }}
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endif %}
        {% endmacro %}
        {% macro togen() %}
            <p>
                {% if ( evar.only != "on" ) %}
                    {{ togen1(l_v) }}
                {% else %}
                    {{ _(generation/generations, variant='0') |capitalize }} {{ l_v }}
                {% endif %}
            </p>
        {% endmacro %}
        {% macro tothegen(xx) %}
            {{ _(upto the %s generation:::xx) |capitalize }}
        {% endmacro %}
        <body {{ body_prop }} id="anctree">
            {% include 'hed' %}
            {{ message_to_wizard }}
            {% if ( not cancel_links ) %}
                {% if ( ( evar.t == "T" ) and ( evar.t1 != "HT" ) ) %}
                    <div class="menu">
                        {% if has_children %}
                            <span>
                                <a title="{{ _(tree) }} (Y)"
                                   accesskey="Y"
                                   href="{{ prefix_set.iz }}{# foreach not implemented yet #}">{{ _(descendants tree) |capitalize }}</a>
                            </span>
                        {% endif %}
                        <span>
                            <a href="/m=A&t=H&v={{ evar.v }}&maxv={{ max_anc_level }}&i={{ index }}">{{ _(horizontal tree) |capitalize }}</a><span>
                                <a href="/{{ access }}&m=A&t=F&fam7=on&tf1=fam73&v={% if ( ( evar.v == 3 ) or ( evar.v == 4 ) ) %}{{ evar.v }}{% else %}3{% endif %}&maxv=4">{{ _(family time line) |capitalize }}</a></span>
                        </div>
                    {% endif %}
                {% endif %}
                {% macro show_templ(z1) %}
                    {% include 'anctree_z1' %}
                {% endmacro %}
                <div class="container" style="all:unset">
                    {% if ( ( evar.t == "T" ) and ( ( evar.t1 == "T" ) or ( evar.t1 == "" ) ) ) %}
                        {{ tree(l_v) }}
                    {% else %}
                        {% if ( ( evar.t == "A" ) or ( evar.t1 == "A" ) ) %}
                            <div style="text-align: center">{{ male_line("self", l_v0) }}</div>
                        {% else %}
                            {% if ( ( evar.t == "C" ) or ( evar.t1 == "C" ) ) %}
                                <div style="text-align: center">{{ female_line("self", l_v0) }}</div>
                            {% else %}
                                {% if ( evar.t1 == "CT" ) %}
                                    {% include 'modules/arbre_hi' %}
                                {% else %}
                                    {% if ( evar.t1 == "HT" ) %}
                                        {% include 'anclist_hrztl' %}
                                    {% else %}
                                        {% if ( evar.t1 != "" ) %}{{ show_templ(evar.t1) }}{% endif %}
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                </div>
                {% if ( not cancel_links ) %}
                    {% include 'tools' %}
                    {{ tools_anctree() }}
                    <div style="clear:both;"></div>
                    {% include 'trl' %}
                    {% include 'copyr' %}
                    {{ query_time }}
                {% endif %}
            </body>
        </html>
    {% endwith %}
{% endwith %}

{# 
  Generated by JinjaGenerator for template 'templm/menubar'
    at 2025-10-26T15:16:29.098200

  Used macros:
  - navsosa(xx)

  Used includes:
  None

  Used variables:
  - evar.m (x2)
  - evar.image (x1)
  - bvar.menu (x1)
  - bvar.setup_link (x1)
  - bvar.setup_http (x2)
  - bvar.history_diff (x1)
  - access (x15)
  - browsing_with_sosa_ref (x2)
  - sosa_ref.index (x5)
  - sosa_ref.first_name_key (x2)
  - sosa_ref.surname_key (x2)
  - sosa_ref.occ (x1)
  - sosa_ref (x2)
  - central_index (x1)
  - prefix_set.iz (x1)
  - self.index (x1)
  - self.access (x1)
  - self (x6)
  - laS (x1)
  - has_nobility_titles (x1)
  - nobility_title (x1)
  - wizard (x1)
  - laU (x1)
  - index (x11)
  - laP (x1)
  - first_name (x2)
  - surname (x3)
  - nb_families (x1)
  - has_parents (x9)
  - is_male (x1)
  - is_female (x1)
  - laA (x1)
  - laL (x1)
  - laI (x1)
  - occ (x6)
  - has_sosa (x2)
  - sosa.v (x1)
  - first_name_key (x6)
  - surname_key (x9)
  - base.name (x4)
  - l1 (x3)
  - version (x1)
  - has_children (x4)
  - l_gwu (x6)
  - l2 (x9)
  - l3 (x2)
  - has_history (x1)
  - history_file (x2)
  - laD (x1)
  - laY (x2)
  - max_anc_level (x4)
  - max_desc_level (x3)
  - laR (x1)
  - lazy_force (x3)
  - father.has_siblings (x1)
  - mother.has_siblings (x1)
  - has_nephews_or_nieces (x1)
  - lazy_printed (x1)
#}
<!-- $Id: templm/menubar.txt v7.0 2015/03/25 12:32:46 $ -->
{% if ( ( evar.m != "SND_IMAGE" ) and ( evar.m != "MRG" ) ) %}
    {% macro navsosa(xx) %}
        {{ _(navigation with %t as Sosa reference:::xx) |capitalize }}.
    {% endmacro %}
    <style type="text/css">
        .menu {
            margin: 1em;
            padding: 0;
            border: 0;
            position: relative;
            top: 0;
            left: 0;
            font-size: 14px;
            line-height: 14px;
        }

        .menu span {
            position: relative;
            display: inline-block;
            float: left;
        }

        .menu span a {
            float: left;
        }

        .menu span:hover>.s_menu {
            display: block;
            position: absolute;
            left: 0;
            top: 24px;
            z-index: 10;
            background-color: #d1c9cc;
        }

        .menu .s_menu {
            display: none;
            float: left;
            margin-left: 0;
            margin-top: 0;
            padding: 4px;
            border: 0;
            width: 210px;
        }

        .menu .s_menu a {
            width: 200px;
        }

        .menu a,
        .menu1 a {
            vertical-align: middle;
            background-color: #e2e2e2;
            border: solid 1px #cdc3c6;
            margin: 0 -1px -1px 0;
            padding: 4px;
            color: #51464a;
            text-decoration: none;
        }

        .menu a:hover,
        .menu1 a:hover {
            background-color: #d1c9cc;
        }

        .menu1 {
            font-size: 14px;
            line-height: 24px;
        }

        .menu1 {
            clear: both;
            padding: 5px;
            margin: 5px;
            border-top: solid 1px #888;
        }

        .menu1>span {
            display: block;
            margin: 10px;
        }
    </style>
    {% with %}
        {% set laA = "title=""_(add::family/families, variant='0')" (A)" accesskey="A"" %}
        {% with %}
            {% set laD = "title=""_(difference between the two revisions)" (D)" accesskey="D"" %}
            {% with %}
                {% set laI = "title=""_(send::image/images, variant='0')" (I)" accesskey="I"" %}
                {% with %}
                    {% set laL = "title=""_(add::parents)" (L)" accesskey="L"" %}
                    {% with %}
                        {% set laP = "title=""_(modify::person/persons, variant='0')" (P)" accesskey="P"" %}
                        {% with %}
                            {% set laR = "title=""_(relationship computing)" (R)" accesskey="R"" %}
                            {% with %}
                                {% set laU = "title=""_(update::)" (U)" accesskey="U"" %}
                                {% with %}
                                    {% set laS = "title="(S)" accesskey="S"" %}
                                    {% with %}
                                        {% set lcS = "<code>(S)</code>" %}
                                        {% with %}
                                            {% set laY = "title=""_(tree)" (Y)" accesskey="Y"" %}
                                            <div class="menu{{ bvar.menu }}">
                                                <span>
                                                    <a href="/{{ access }}">{{ _(person/persons, variant='0') |capitalize }}</a>
                                                    {% if ( ( not browsing_with_sosa_ref ) or ( sosa_ref.index != central_index ) ) %}
                                                        <span class="s_menu">
                                                            <a href="{{ prefix_set.iz }}iz={{ self.index }}&{{ self.access }}"
                                                               {{ laS }}>
                                                            {{ navsosa(self" "(", <em>"nobility_title"</em>") if (has_nobility_titles)) }}</a>
                                                        </span>
                                                    {% endif %}
                                                </span>
                                                {% if wizard %}
                                                <span><a id="upd" href="/m=U;{{ access }}" {{ laU }}>{{ _(update) |capitalize }}</a>
                                                <span class="s_menu">
                                                    <a id="mod_ind" href="/m=MOD_IND;i={{ index }}" {{ laP }}>{{ _(modify::person/persons, variant='0') }}</a>{# foreach not implemented yet #}
                                                    {% if ( ( ( first_name == "?" ) or ( surname == "?" ) ) and ( ( nb_families != 0 ) or has_parents ) ) %}
                                                    {% else %}
                                                        {% if ( is_male or is_female ) %}
                                                            <a id="add_fam" href="/m=ADD_FAM;ip={{ index }}" {{ laA }}>{{ _(add::family/families, variant='0') }}</a>
                                                        {% endif %}
                                                    {% endif %}
                                                    {% if ( ( not has_parents ) and ( ( first_name != "?" ) and ( surname != "?" ) ) ) %}
                                                        <a id="add_par" href="/m=ADD_PAR;ip={{ index }}" {{ laL }}>{{ _(add::parents) }}</a>
                                                    {% endif %}
                                                    <a id="snd_image" href="/m=SND_IMAGE;i={{ index }}" {{ laI }}>{{ _(send::image/images, variant='0') }}</a><a href="/m=MRG;i={{ index }}">{{ _(merge::, variant='0') }} (oc={{ occ }})</a><a href="/{{ access }}&i={{ index }}&m=DEL_IND;">{{ _(delete::person/persons, variant='0') }}</a></span>
                                            </span>
                                            {% if ( bvar.setup_link != "no" ) %}
                                                {% with %}
                                                    {% set l1 = (bvar.setup_http) if (( bvar.setup_http != "" )) else ("http://127.0.0.1:2316/") %}
                                                    {% with %}
                                                        {% set l2 = ("s"sosa.v) if (has_sosa) else ("i"index)initial(first_name_key)initial(surname_key)"-"base.name %}
                                                        {% with %}
                                                            {% set l_gwu = l1"gwu?opt=check&anon="base.name"&nn=on&c=" %}<span>
                                                            {% if ( version == "7.00 - gwmr" ) %}
                                                                <a href="{{ l1 }}gwstp?v=main.htm;">Gwstp</a>
                                                            {% else %}
                                                                <a href="{{ l1 }}gwsetup?v=main.htm;">Gwsetup</a>
                                                            {% endif %}
                                                            {% if ( has_parents or has_children ) %}
                                                                <span class="s_menu">
                                                                    {% if has_parents %}
                                                                        <a href="{{ l_gwu }}&a1={{ first_name_key }}&a2={{ occ }}&a3={{ surname_key }}&o=A{{ l2 }}.gw"
                                                                           title="{{ _(ancestor/ancestors, variant='1') }} {{ self }}">A{{ l2 }}.gw</a><a href="{{ l_gwu }}&aws1={{ first_name_key }}&aws2={{ occ }}&aws3={{ surname_key }}&o=AWS{{ l2 }}.gw"
   title="{{ _(ancestor/ancestors, variant='1') }} + {{ _(full siblings) }} {{ self }}">AWS{{ l2 }}.gw</a>
                                                                    {% endif %}
                                                                    {% if ( has_parents and has_children ) %}
                                                                        <a href="{{ l_gwu }}&ad1={{ first_name_key }}&ad2={{ occ }}&ad3={{ surname_key }}&maxlev=40&o=AD{{ l2 }}.gw"
                                                                           title="{{ _(ancestor/ancestors, variant='1') }} + {{ _(descendants) }} {{ self }}">AD{{ l2 }}.gw</a>
                                                                        {% if ( has_sosa and ( sosa_ref.index != index ) ) %}
                                                                            {% with %}
                                                                                {% set l3 = "As1"initial(sosa_ref.first_name_key)initial(sosa_ref.surname_key)"D"l2 %}<a href="{{ l_gwu }}&a1={{ sosa_ref.first_name_key }}&a2={{ sosa_ref.occ }}&a3={{ sosa_ref.surname_key }}&d1={{ first_name_key }}&d2={{ occ }}&d3={{ surname_key }}&nsp=on&o={{ l3 }}.gw"
   title="{{ a_of_b(_(ancestor/ancestors, variant='1') |capitalize, sosa_ref) }} {{ _(up to) }} {{ self }}">{{ l3 }}.gw</a>
                                                                            {% endwith %}
                                                                        {% endif %}
                                                                    {% endif %}
                                                                    {% if has_children %}
                                                                        <a href="{{ l_gwu }}&d1={{ first_name_key }}&d2={{ occ }}&d3={{ surname_key }}&o=D{{ l2 }}.gw"
                                                                           title="{{ _(descendants) }} {{ self }}">D{{ l2 }}.gw</a>
                                                                    {% endif %}
                                                                    <a href="{{ l_gwu }}&s={{ surname_key }}&o=S-{{ surname_key }}-{{ base.name }}.gw"
                                                                       title="{{ _(surname/surnames, variant='0') }} {{ surname }}">S-{{ surname_key }}-{{ base.name }}.gw</a></span>
                                                            {% endif %}
                                                        </span>
                                                    {% endwith %}
                                                {% endwith %}
                                            {% endwith %}
                                        {% endif %}
                                    {% endif %}
                                    {% if ( ( bvar.history_diff == "yes" ) and has_history ) %}
                                    <span><a href="/m=HIST_DIFF;t=SUM;f={{ history_file }}">{{ _(history) |capitalize }}</a>
                                    <span class="s_menu">
                                        <a id="hist"
                                           href="/m=HIST_DIFF;t=DIFF;f={{ history_file }}&new=0;old=1"
                                           {{ laD }}>{{ _(difference between the two revisions) }}</a>
                                    </span>
                                </span>
                            {% endif %}
                            {% if has_parents %}
                                <span>
                                    <a href="/m=A;{{ access }}">{{ _(ancestor/ancestors, variant='1') |capitalize }}</a>
                                    <span class="s_menu">
                                        <a id="anc_tree"
                                           href="/m=A;t=T;v=4;image=on;marriage=on;{{ access }}"
                                           {{ laY }}>{{ _(tree) }}</a><a href="/m=A&t=Z&image={{ evar.image }}&v=7;maxv={{ max_anc_level }}&{{ access }}">{{ _(table) }}</a><a href="/m=A&t=G&v=3&maxv={{ max_anc_level }}&siblings=on&alias=on&spouse=on&parents=on&rel=on&witn=on&notes=on&src=on&hide=on&{{ access }}">{{ _(long display) }}</a><a href="/m=A&t=F&tf1=sb&v={{ max_anc_level }}&maxv={{ max_anc_level }}&i={{ index }}">{{ _(surnames branch) }}</a></span>
                                </span>
                            {% endif %}
                            {% if has_children %}
                                <span>
                                    <a href="/m=D;{{ access }}">{{ _(descendants) |capitalize }}</a>
                                    <span class="s_menu">
                                        <a href="/m=D;t=T;v=4;image=on;{{ access }}"
                                           {% if ( not has_parents ) %}{{ laY }}{% endif %}>{{ _(tree) }}</a><a href="/m=D&t=H&v={{ max_desc_level }}&birth=on&birth_place=on&marr=on&marr_date=on&marr_place=on&child=on&death=on&death_place=on&death_age=on&occu=on&gen=1&{{ access }}">{{ _(table) }}</a><a href="/m=D&t=L&v=3&maxv={{ max_desc_level }}&siblings=on&alias=on&spouse=on&parents=on&rel=on&witn=on&notes=on&src=on&hide=on&{{ access }}">{{ _(long display) }}</a><a href="/m=D&t=A&num=on&v={{ max_desc_level }}&{{ access }}">d’Aboville</a></span>
                                </span>
                            {% endif %}
                        <span><a href="/m=R;{{ access }}" {{ laR }}>{{ _(relationship computing) |capitalize }}</a>
                        {{ lazy_print("<span class=s_menu>") }}
                        {% if browsing_with_sosa_ref %}
                            {% if ( ( sosa_ref.index != "" ) and ( sosa_ref.index != index ) ) %}
                                {{ lazy_force }}<a href="/em=R&ei={{ index }}&i={{ sosa_ref.index }}&m=NG&n=1&t=PN&spouse=on&image=on&et=S"
   title="…{{ _(shortest path) }}… {{ sosa_ref }}">{{ _(shortest path) }}</a>
                            {% endif %}
                        {% endif %}
                        {% if has_parents %}
                            {% if ( father.has_siblings or mother.has_siblings ) %}
                                {{ lazy_force }}<a href="/{{ access }}&m=C&v1=2&v2=1">{{ _(uncles and aunts) }}</a>
                            {% endif %}
                        {% endif %}
                        {% if has_nephews_or_nieces %}
                            {{ lazy_force }}<a href="/{{ access }}&m=C&v1=1&v2=2">{{ _(a nephew/a niece, variant='4') }}</a>
                        {% endif %}
                        {% if lazy_printed %}
                        </span>
                    {% else %}
                        {{ lazy_print("") }}
                    {% endif %}
                </span>
                {% if has_parents %}{# foreach not implemented yet #}{% endif %}
                <div style="clear:both;"></div>
            </div>
        {% endwith %}
    {% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endif %}

{# 
  Generated by JinjaGenerator for template 'templm/calendar'
    at 2025-10-26T15:16:20.345644

  Used macros:
  - french_day(xx)
  - nb_days(xx)
  - compute_age1(z1, z2, z3)
  - compute_age(z1, z2)
  - fun_day(ccc, nnn)
  - fun_month(ccc, nnn, vvv, lll)
  - fun_year(ccc, nnn)
  - fun_julian_year(ccc, nnn)
  - calendar(ccc, nnn, vvv, lll, fun_yyy)

  Used includes:
  - css
  - hed
  - trl
  - copyr

  Used variables:
  - doctype (x1)
  - charset (x1)
  - body_prop (x1)
  - message_to_wizard (x1)
  - z1 (x2)
  - z1.julian_day (x1)
  - z1.month (x7)
  - z1.day (x9)
  - z1.year (x6)
  - z2 (x3)
  - z2.month (x8)
  - z2.julian_day (x1)
  - z2.day (x9)
  - z2.year (x6)
  - z3 (x4)
  - l1 (x3)
  - l2 (x2)
  - date.nnn.day (x1)
  - date.nnn.year (x4)
  - date.julian.month (x2)
  - date.julian.day (x1)
  - date.week_day (x1)
  - date.julian_day (x8)
  - date.french.day (x2)
  - date.french.month (x1)
  - date.french.year.roman (x1)
  - date.moon_age (x2)
  - date.moon_phase.index (x2)
  - date.moon_phase.hour (x1)
  - date.moon_phase.minute (x1)
  - date.julian_day.sep1000 (x1)
  - date.gregorian.day (x3)
  - date.gregorian.month (x9)
  - date.gregorian.year (x9)
  - year (x1)
  - action (x2)
  - hidden (x2)
  - today.julian_day (x3)
  - sp (x6)
  - time (x1)
  - wizard (x1)
  - friend (x1)
  - bvar.latest_event (x2)
  - lang (x4)
  - query_time (x1)
#}
{{ doctype }}
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!-- $Id: templm/calendar.txt v7.0 2015/03/09 11:13:43 $ -->
        <title>{{ _(calendar/calendars, variant='1') |capitalize }}</title>
        <meta name="robots" content="none" />
        <meta name="format-detection" content="telephone=no" />
        <meta http-equiv="Content-Type" content="text/html; charset={{ charset }}" />
        <meta http-equiv="Content-Style-Type" content="text/css" />
        <link rel="shortcut icon"
              href="{{ url_for('static/images/', path='favicon_gwd.png') }}" />
        {% include 'css' %}
    </head>
    <body {{ body_prop }}>
        {% include 'hed' %}
        {{ message_to_wizard }}
        <h1>{{ _(calendar/calendars, variant='1') |capitalize }}</h1>
        {% macro french_day(xx) %}
            {{ nth("/Primidi/Duodi/Tridi/Quartidi/Quintidi/Sextidi/Septidi/Octidi/Nonidi/Décadi/Primidi/Duodi/Tridi/Quartidi/Quintidi/Sextidi/Septidi/Octidi/Nonidi/Décadi/Primidi/Duodi/Tridi/Quartidi/Quintidi/Sextidi/Septidi/Octidi/Nonidi/Décadi/
                        ", "xx") }}
        {% endmacro %}
        {% macro nb_days(xx) %}
            {{ nth('/31/28/31/30/31/30/31/31/30/31/30/31', 'xx') }}
        {% endmacro %}
        {% macro compute_age1(z1, z2, z3) %}
            {% if ( z1 > 0 ) %}
                {% if ( z1 == 1 ) %}
                    {{ _(one year old) }}
                {% else %}
                    z1 {{ _(years old) }}
                {% endif %}
                {% if ( ( z2 > 0 ) or ( z3 > 0 ) ) %},{% endif %}
            {% endif %}
            {% if ( z2 > 0 ) %}
                {% if ( z2 == 1 ) %}
                    {{ _(one month old) }}
                {% else %}
                    z2 {{ _(months old) }}
                {% endif %}
                {% if ( z3 > 0 ) %},{% endif %}
            {% endif %}
            {% if ( z3 > 0 ) %}
                {% if ( z3 == 1 ) %}
                    {{ _(one day old) }}
                {% else %}
                    z3 {{ _(days old) }}
                {% endif %}
            {% endif %}
        {% endmacro %}
        {% macro compute_age(z1, z2) %}
            {% with %}
                {% set l1 = nb_days(z2.month) %}
                {% with %}
                    {% set l2 = ( z1.julian_day - z2.julian_day ) %}
                    {% if ( z1.month > z2.month ) %}
                        {% if ( z1.day >= z2.day ) %}
                            {{ compute_age1(( z1.year - z2.year) , ( z1.month - z2.month ), ( z1.day - z2.day )) }}
                        {% else %}
                            {{ compute_age1(( z1.year - z2.year) , ( ( z1.month - z2.month ) - 1 ), ( ( l1 + z1.day ) - z2.day )) }}
                        {% endif %}
                    {% endif %}
                    {% if ( z1.month == z2.month ) %}
                        {% if ( z1.day >= z2.day ) %}
                            {{ compute_age1(( z1.year - z2.year) , 0, ( z1.day - z2.day )) }}
                        {% else %}
                            {{ compute_age1(( ( z1.year - z2.year) - 1 ), 11, ( ( l1 + z1.day ) - z2.day )) }}
                        {% endif %}
                    {% endif %}
                    {% if ( z1.month < z2.month ) %}
                        {% if ( z1.day >= z2.day ) %}
                            {{ compute_age1(( ( z1.year - z2.year) - 1 ), ( ( 12 + z1.month ) - z2.month ), ( z1.day - z2.day )) }}
                        {% else %}
                            {{ compute_age1(( ( z1.year - z2.year) - 1 ), ( ( 11 + z1.month ) - z2.month ), ( ( l1 + z1.day ) - z2.day )) }}
                        {% endif %}
                    {% endif %}
                    {% if ( l2 > 31 ) %}({{ l2 }} {{ _(days old) }}){% endif %}
                {% endwith %}
            {% endwith %}
        {% endmacro %}
        {% macro fun_day(ccc, nnn) %}
            <td>
                <input type="submit" name="dccc1" value="&lt;" />
            </td>
            <td>
                <input name="dccc" size="2" maxlength="2" value="{{ date.nnn.day }}" />
            </td>
            <td>
                <input type="submit" name="dccc2" value="&gt;" />
            </td>
        {% endmacro %}
        {% macro fun_month(ccc, nnn, vvv, lll) %}
            <td>
                <input type="submit" name="mccc1" value="&lt;" />
            </td>
            <td>
                <select name="mccc">{# foreach not implemented yet #}</select>
            </td>
            <td>
                <input type="submit" name="mccc2" value="&gt;" />
            </td>
        {% endmacro %}
        {% macro fun_year(ccc, nnn) %}
            <td>
                <input type="submit" name="yccc1" value="&lt;" />
            </td>
            <td>
                <input name="yccc" size="6" maxlength="6" value="{{ date.nnn.year }}" />
            </td>
            <td>
                <input type="submit" name="yccc2" value="&gt;" />
            </td>
        {% endmacro %}
        {% macro fun_julian_year(ccc, nnn) %}
            {% with %}
                {% set year = (( date.nnn.year - 1 )"/"( date.nnn.year % 10 )) if (( ( date.julian.month < 3 ) or ( ( date.julian.month == 3 ) and ( date.julian.day < 25 ) ) )) else (date.nnn.year) %}
                <td>
                    <input type="submit" name="yccc1" value="&lt;" />
                </td>
                <td>
                    <input name="yccc" size="6" maxlength="6" value="{{ year }}" />
                </td>
                <td>
                    <input type="submit" name="yccc2" value="&gt;" />
                </td>
            {% endwith %}
        {% endmacro %}
        {% macro calendar(ccc, nnn, vvv, lll, fun_yyy) %}
            {% if ( _(!dates order, variant='0') == "ddmmyyyy" ) %}
                {{ fun_day('ccc', 'nnn') }}{{ fun_month('ccc', 'nnn', 'vvv', 'lll') }}{{ fun_yyy('ccc', 'nnn') }}
            {% else %}
                {% if ( _(!dates order, variant='0') == "mmddyyyy" ) %}
                    {{ fun_month('ccc', 'nnn', 'vvv', 'lll') }}{{ fun_day('ccc', 'nnn') }}{{ fun_yyy('ccc', 'nnn') }}
                {% else %}
                    {{ fun_yyy('ccc', 'nnn') }}{{ fun_month('ccc', 'nnn', 'vvv', 'lll') }}{{ fun_day('ccc', 'nnn') }}
                {% endif %}
            {% endif %}
            <td>
                <input type="submit" name="tccc" value="=" />
            </td>
        {% endmacro %}
        <table id="calendar">
            <tr>
                <td>
                    <form method="get" action="{{ action }}">
                        <p>
                            {{ hidden }}
                            <input type="hidden" name="m" value="CAL" />
                        </p>
                        <table>
                            <tr>
                                <td>&nbsp;</td>
                                {% if ( _(!dates order) == "ddmmyyyy" ) %}
                                    <th colspan="3">{{ _(year/month/day, variant='2') |capitalize }}</th>
                                    <th colspan="3">{{ _(year/month/day, variant='1') |capitalize }}</th>
                                    <th colspan="3">{{ _(year/month/day, variant='0') |capitalize }}</th>
                                {% else %}
                                    {% if ( _(!dates order) == "mmddyyyy" ) %}
                                        <th colspan="3">{{ _(year/month/day, variant='1') |capitalize }}</th>
                                        <th colspan="3">{{ _(year/month/day, variant='2') |capitalize }}</th>
                                        <th colspan="3">{{ _(year/month/day, variant='0') |capitalize }}</th>
                                    {% else %}
                                        <th colspan="3">{{ _(year/month/day, variant='0') |capitalize }}</th>
                                        <th colspan="3">{{ _(year/month/day, variant='1') |capitalize }}</th>
                                        <th colspan="3">{{ _(year/month/day, variant='2') |capitalize }}</th>
                                    {% endif %}
                                {% endif %}
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <th>{{ _(gregorian/julian/french/hebrew, variant='0') |capitalize }}</th>
                                {{ calendar("g", "gregorian", 12, _((month) ), "fun_year") }}
                            </tr>
                            <tr>
                                <th>{{ _(gregorian/julian/french/hebrew, variant='1') |capitalize }}</th>
                                {{ calendar("j", "julian", 12, _((month) ), "fun_julian_year") }}
                            </tr>
                            <tr>
                                <th>{{ _(gregorian/julian/french/hebrew, variant='2') |capitalize }}</th>
                                {{ calendar("f", "french", 13, _((french revolution month) ), "fun_year") }}
                            </tr>
                            <tr>
                                <th>{{ _(gregorian/julian/french/hebrew, variant='3') |capitalize }}</th>
                                {{ calendar("h", "hebrew", 13, _((hebrew month) ), "fun_year") }}
                            </tr>
                        </table>
                    </form>
                </td>
            </tr>
            <tr>
                <td>
                    <ul>
                        <li>
                            {{ _(year/month/day, variant='2') |capitalize }}{{ _(:) }} {{ nth(_((week day) ), date.week_day) }}
                            {% if ( date.julian_day == today.julian_day ) %}{{ sp }}{{ time }}{% endif %}
                            .
                        </li>
                        {% if ( date.julian_day > 2375839 ) %}
                            <li {% if ( date.julian_day < 2380688 ) %}style="font-weight:bold;"{% endif %}>
                                {{ _(gregorian/julian/french/hebrew, variant='2') |capitalize }}{{ _(:) }} {{ french_day(date.french.day) }},{{ sp }}{{ date.french.day }} {{ nth(_((french revolution month) ), ( date.french.month - 1 )) }}{{ sp }}an {{ date.french.year.roman }}.
                            </li>
                        {% endif %}
                        <li>
                            {{ _(moon age/new moon/first quarter/full moon/last quarter, variant='0') |capitalize }}{{ _(:) }} {{ date.moon_age }}
                            {% if ( date.moon_age == 1 ) %}
                                 {{ _(year/month/day, variant='2') }}.
                            {% else %}
                                 {{ _(year/month/day, variant='2') }}s.
                            {% endif %}
                            {% if ( date.moon_phase.index != 0 ) %}
                                <li>
                                    {{ capitalize(nth(_(moon age/new moon/first quarter/full moon/last quarter) , date.moon_phase.index)_(:)spdate.moon_phase.hour" h "date.moon_phase.minute" min UT.
                                    ") }}
                                </li>
                            {% endif %}
                        </li>
                        {% if ( ( date.julian_day > 1721425 ) and ( today.julian_day != date.julian_day ) ) %}
                            <li>
                                {{ _(age) |capitalize }}{{ _(:) }}
                                {% if ( today.julian_day > date.julian_day ) %}
                                    {{ compute_age('today', 'date') }}.
                                {% else %}
                                    -{{ compute_age('date', 'today') }}.
                                {% endif %}
                            </li>
                        {% endif %}
                        <li>
                            {{ _(julian day) |capitalize }}{{ _(:) }}{{ sp }}
                            {% if ( date.julian_day < 1000 ) %}
                                {{ date.julian_day }}.
                            {% else %}
                                {{ date.julian_day.sep1000 }}.
                            {% endif %}
                        </li>
                    </ul>
                    {% if ( wizard or friend ) %}
                        <form method="get" action="{{ action }}">
                            <p>
                                <a href="/m=STAT">{{ _(statistics) |capitalize }}{{ _(:) }}</a>{{ sp }}{{ hidden }}
                                <input name="k"
                                       value="{% if ( bvar.latest_event != "" ) %}{{ bvar.latest_event }}{% else %}20{% endif %}"
                                       size="5"
                                       maxlength="5" />
                                <label>
                                    <input type="radio" name="m" value="LB" checked="checked" />
                                    {{ _(birth) }}
                                </label>
                                <label>
                                    <input type="radio" name="m" value="LM" />
                                    {{ _(marriage/marriages, variant='0') }}
                                </label>
                                <label>
                                    <input type="radio" name="m" value="LD" />
                                    {{ _(death) }},
                                </label>
                                {{ _(before (date) ) }}
                                {% if ( _(!dates order, variant='0') == "ddmmyyyy" ) %}
                                    <input name="bd" value="{{ date.gregorian.day }}" size="2" maxlength="2" />
                                    <input name="bm" value="{{ date.gregorian.month }}" size="2" maxlength="2" />
                                    <input name="by" value="{{ date.gregorian.year }}" size="2" maxlength="4" />
                                {% else %}
                                    {% if ( _(!dates order, variant='0') == "mmddyyyy" ) %}
                                        <input name="bm" value="{{ date.gregorian.month }}" size="2" maxlength="2" />
                                        <input name="bd" value="{{ date.gregorian.day }}" size="2" maxlength="2" />
                                        <input name="by" value="{{ date.gregorian.year }}" size="2" maxlength="4" />
                                    {% else %}
                                        <input name="by" value="{{ date.gregorian.year }}" size="2" maxlength="4" />
                                        <input name="bm" value="{{ date.gregorian.month }}" size="2" maxlength="2" />
                                        <input name="bd" value="{{ date.gregorian.day }}" size="2" maxlength="2" />
                                        )
                                    {% endif %}
                                {% endif %}
                                <input type="submit" value="OK" />
                            </p>
                        </form>
                        <ul>
                            <li>
                                <a href="/m=POP_PYR;int=5;lim=0;y={{ date.gregorian.year }}">
                                    {{ _(population pyramid) |capitalize }} ({{ date.gregorian.year }}).
                                </a>
                            </li>
                            <li>
                                <a href="/m=AN;v={{ date.gregorian.month }}">
                                    {{ _(birthdays) |capitalize }} ({{ nth(_((month) ), ( date.gregorian.month - 1 )) }}).
                                </a>
                            </li>
                            <li>
                                <a href="/m=AD;v={{ date.gregorian.month }}">
                                    {{ _(anniversaries of dead people) |capitalize }} ({{ nth(_((month) ), ( date.gregorian.month - 1 )) }}).
                                </a>
                            </li>
                            <li>
                                <a href="/m=AM;v={{ date.gregorian.month }}">
                                    {{ _(anniversaries of marriage) |capitalize }} ({{ nth(_((month) ), ( date.gregorian.month - 1 )) }}).
                                </a>
                            </li>
                        </ul>
                        <ul>
                            <li>
                                <a href="http://{{ lang }}.wikipedia.org/wiki/{{ date.gregorian.year }}">
                                http://{{ lang }}.wikipedia.org/wiki/{{ date.gregorian.year }}</a>
                            </li>
                            <li>
                                <a href="http://{{ lang }}.wikiwix.com/people/timeline.php?cyear={{ date.gregorian.year }}">
                                http://{{ lang }}.wikiwix.com/people/timeline.php?cyear={{ date.gregorian.year }}</a>
                            </li>
                        </ul>
                    {% endif %}
                </td>
            </tr>
        </table>
        {% include 'trl' %}
        {% include 'copyr' %}
        {{ query_time }}
    </body>
</html>

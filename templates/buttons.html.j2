{# 
  Generated by JinjaGenerator for template 'buttons'
    at 2025-10-29T22:34:55.525847

  Used macros:
  - urlset(xx, yy)
  - size_btn(xxx, yyy)

  Used includes:
  None

  Used variables:
  - e.v (x20)
  - e.m (x31)
  - e.v0 (x7)
  - e.t (x34)
  - e.only (x3)
  - e.gen (x1)
  - e.ns (x5)
  - e.hl (x4)
  - e.fn (x4)
  - e.im (x5)
  - e.csv (x10)
  - e.tt (x3)
  - e.templ (x2)
  - e.marr (x1)
  - e.marr_place (x1)
  - e.marr_date (x1)
  - e.same (x1)
  - e.implx (x2)
  - static_max_anc_level (x5)
  - static_max_desc_level (x8)
  - bvar.max_anc_level (x3)
  - bvar.max_desc_level (x3)
  - l_v0 (x4)
  - l_v (x6)
  - v0 (x5)
  - url_set.xx.yy (x1)
  - url_set.fn (x1)
  - url_set.fn[1] (x1)
  - url_set.tt (x1)
  - url_set.tt[1] (x1)
  - url_set.im[0] (x1)
  - url_set.im (x1)
  - url_set.ns (x1)
  - url_set.ns[1] (x1)
  - url_set.hl[1] (x1)
  - url_set.hl (x1)
  - url_set.implx.on (x1)
  - url_set.implx (x1)
  - url_set.csv[1] (x1)
  - url_set.csv (x1)
  - url_set.cgl.on (x1)
  - url_set.only_v0.on_ (x1)
  - url_set.only_v0._ (x1)
  - cancel_links (x2)
  - sp (x7)
  - prefix_base_password (x8)
  - evar.templ (x6)
  - evar.m (x12)
  - evar.t (x7)
  - evar.iz (x2)
  - evar.pz (x2)
  - evar.nz (x2)
  - evar.ocz (x3)
  - evar.num (x1)
  - evar.birth (x1)
  - evar.birth_place (x1)
  - evar.marr (x1)
  - evar.marr_date (x1)
  - evar.marr_place (x1)
  - evar.child (x1)
  - evar.death (x1)
  - evar.death_place (x1)
  - evar.age (x1)
  - evar.occu (x1)
  - evar.repeat (x1)
  - evar.v (x4)
  - access (x4)
  - cond (x2)
  - has_children (x2)
  - istable (x3)
  - root (x2)
  - cond2 (x4)
  - has_parents (x1)
  - only (x5)
#}

<!-- $Id: buttons.txt v7.1 19/02/2025 06:36:28 $ -->
<!-- Copyright (c) 1998-2007 INRIA -->
{% with %}
    {% set l_v0 = ((static_max_anc_level) if (e.m == "A" and e.v > static_max_anc_level) else ((static_max_desc_level) if (e.m == "D" and e.v > static_max_desc_level) else (e.v))) if (e.v != "") else ("1") %}
    {% with %}
        {% set l_v = ((l_v0) if (bvar.max_anc_level == "" or bvar.max_anc_level > l_v0) else (bvar.max_anc_level)) if (e.m == "A") else (((l_v0) if (bvar.max_desc_level == "" or bvar.max_desc_level > l_v0) else (bvar.max_desc_level)) if (e.m == "D")) %}
        {% with %}
            {% set v0 = (("1") if (e.t == "Y") else ("0")) if (e.v0 == "") else ((l_v) if (e.only == "on" or e.v0 > l_v) else ((e.v0) if (e.v0 != "" and e.v0 > 0 and e.v0 <= l_v) else ("0"))) %}
            {% with %}
                {% set only = ("1") if (e.only == "on" or v0 == l_v and v0 > 1) else ("0") %}
                {% macro urlset(xx, yy) %}
                    {{ url_set.xx.yy }}
                {% endmacro %}
                {% with %}
                    {% set istable = ("1") if (e.m == "D" and e.t == "H" or e.t == "I" or e.m == "A" and e.t == "Z" or e.t == "Y") %}
                    {% if not cancel_links %}
                        <div class="button-groug ml-2" role="group" aria-label="nav buttons">
                            <a role="button"
                               class="btn btn-link ml-1 mt-0 px-0"
                               {{ sp }}
                               href="{{ prefix_base_password }}{% if evar.templ != "" %}&templ={{ evar.templ }}{% endif %}&{{ access }}&m={{ evar.m }}"><i class="fa fa-gear fa-lg fa-fw mr-1" aria-hidden="true"></i>{{ _("options") |capitalize }}
                                {% if evar.m == "D" %}
                                    {{ _("descendants") }}
                                {% else %}
                                    {% if evar.m == "A" %}{{ _('ancestor/ancestors', variant='1') }}{% endif %}
                                {% endif %}
                            </a>
                            {% with %}
                                {% set cond = ("1") if (evar.m == "A" and evar.t == "Z" or evar.t == "X" or evar.t == "Y" or evar.m == "D" and evar.t == "D" or evar.t == "T") %}
                                {% with %}
                                    {% set root = ("&iz="+evar.iz) if (evar.iz != "")+("&pz="+evar.pz) if (evar.pz != "")+("&nz="+evar.nz) if (evar.nz != "")+("&ocz="+evar.ocz) if (evar.ocz != "" and evar.ocz != 0) %}<span class="sr-only">—</span>
                                    <a role="button"
                                       class="btn btn-link ml-1 mt-0 px-0{% if cond == 1 and not has_children %} disabled{% endif %}"
                                       {{ sp }}
                                       href="{{ prefix_base_password }}{# foreach not implemented yet #}{% if istable != 1 or e.t == "Y" %}{% if evar.num == "" %}&num=on{% endif %}{% if evar.birth == "" %}&birth=on{% endif %}{% if evar.birth_place == "" %}&birth_place=on{% endif %}{% if evar.marr == "" %}&marr=on{% endif %}{% if evar.marr_date == "" %}&marr_date=on{% endif %}{% if evar.marr_place == "" %}&marr_place=on{% endif %}{% if evar.child == "" %}&child=on{% endif %}{% if evar.death == "" %}&death=on{% endif %}{% if evar.death_place == "" %}&death_place=on{% endif %}{% if evar.age == "" %}&age=on{% endif %}{% if evar.occu == "" %}&occu=on{% endif %}{% if e.gen == "" %}&gen=1{% endif %}{% if evar.repeat == "" and evar.m == "A" %}&repeat=on{% endif %}{% if e.ns == "" %}&ns=1{% endif %}{% if e.hl == "" %}&hl=1{% endif %}{% if e.fn == "" %}&fn=1{% endif %}{% endif %}"><i class="fa fa-table fa-lg fa-fw mr-1" aria-hidden="true"></i>{{ _("table") |capitalize }}
                                        {% if cond == 1 %}
                                            {{ _("descendants") }}
                                        {% else %}
                                            {{ _('ancestor/ancestors', variant='1') }}
                                        {% endif %}
                                    </a>
                                    <span class="sr-only">—</span>
                                <a role="button"
                                   class="btn btn-link ml-1 my-0 px-0"
                                   {{ sp }}
                                   href="{{ prefix_base_password }}{% if evar.templ != "" %}&templ={{ evar.templ }}{% endif %}&{{ access }}{{ root }}&m={{ evar.m }}&t=T&v={{ evar.v }}{% if e.im == 0 %}&im=0{% endif %}"><i class="fa fa-sitemap{% if evar.m == "A" %} fa-rotate-180{% endif %} fa-fw mr-1"
   aria-hidden="true"></i>
                                {% if evar.m == "D" %}
                                    {{ _("descendants tree") |capitalize }}
                                {% else %}
                                    {% if evar.m == "A" %}{{ _("ascendants tree") |capitalize }}{% endif %}
                                {% endif %}
                            </a>
                            <span class="sr-only">—</span>
                            {% with %}
                                {% set cond2 = ("1") if (evar.m == "A" and evar.t != "H" or evar.m == "D" and evar.t == "D") %}<a role="button"
   class="btn btn-link ml-1 my-0 px-0{% if cond2 != 1 and not has_children %} disabled{% endif %}"
   {{ sp }}
   href="{{ prefix_base_password }}{% if evar.templ != "" %}&templ={{ evar.templ }}{% endif %}&{{ access }}{{ root }}{% if cond2 == 1 %}&m=A&t=H{% else %}&m=D&t=D{% endif %}&v={% if evar.v == "" %}1{% else %}{% if cond2 == 1 %}{{ evar.v + 1 }}{% else %}{{ evar.v - 1 }};{% endif %}{% endif %}"><i class="fa fa-{% if e.m == "D" %}code-branch fa-flip-vertical{% else %}{% if e.m == "A" %}code-fork{% endif %}{% endif %} fa-rotate-90 fa-fw mr-1"
   aria-hidden="true"></i>
                                {% if cond2 == 1 %}
                                    {{ _("horizontal tree") |capitalize }}
                                {% else %}
                                    {{ _("descendant tree view") |capitalize }}
                                {% endif %}
                            </a>
                        </div>
                        {% macro size_btn(xxx, yyy) %}
                            <a role="button"
                               class="btn btn-link px-0{% if e.csv == 1 or e.t == "Y" or e.im == 0 %} disabled{% endif %}"
                               title="{{ _("modify the size of images to") |capitalize }} xxx px"
                               href="{{ prefix_base_password }}{# foreach not implemented yet #}&px=xxx"><i class="fa fa-image yyy" aria-hidden="true"></i></a>
                        {% endmacro %}
                        <div class="input-group ml-2">
                            <div class="button-group ml-1" role="group" aria-label="nav buttons">
                                {% if istable == 1 %}
                                    <a role="button"
                                       class="btn btn-link mx-0 px-0 mr-1 {% if e.t == "Y" or e.csv == 1 %}disabled{% endif %}"
                                       href="{% if e.fn == 1 %}{{ url_set.fn }}{% else %}{{ url_set.fn[1] }}{% endif %}"
                                       title="{{ _('visualize/show/hide/summary', variant='1') |capitalize }} {% if e.fn == 1 %}{{ _("public name") }}{% else %}{{ _('first name/first names', variant='1') }}{% endif %}"><i class="fas fa-address-{% if e.fn == 1 %}book{% else %}card{% endif %} fa-fw fa-lg"
   aria-hidden="true"></i></a>
                                    <a role="button"
                                       class="btn btn-link mx-0 px-0 mr-1 {% if e.t == "Y" or e.csv == 1 %}disabled{% endif %}{% if e.tt == 1 %} text-danger{% endif %}"
                                       href="{% if e.tt == 1 %}{{ url_set.tt }}{% else %}{{ url_set.tt[1] }}{% endif %}"
                                       title="{% if e.tt == 0 %}{{ _('visualize/show/hide/summary', variant='2') |capitalize }}{% else %}{{ _('visualize/show/hide/summary', variant='1') |capitalize }}{% endif %} {{ _('title/titles', variant='1') }}"><i class="fas fa-crown fa-fw fa-lg" aria-hidden="true"></i></a>
                                    <a role="button"
                                       class="btn btn-link mx-0 px-0{% if e.csv == 1 %} disabled{% endif %}{% if e.im == 0 %} text-danger{% endif %}"
                                       href="{% if e.im != 0 %}{{ url_set.im[0] }}{% else %}{{ url_set.im }}{% endif %}"
                                       title="{% if e.im != 0 %}{{ _('visualize/show/hide/summary', variant='2') |capitalize }}{% else %}{{ _('visualize/show/hide/summary', variant='1') |capitalize }}{% endif %} {{ _('image/images', variant='1') }}"><i class="fa fa-image fa-lg fa-fw" aria-hidden="true"></i></a>
                                    <span class="sr-only">—</span>
                                    {{ size_btn(60, 'fa-sm') }}{{ size_btn(90) }}{{ size_btn(120, 'fa-lg') }}
                                    {% if e.templ == "" %}
                                        <span class="sr-only">—</span>
                                        <a role="button"
                                           class="btn btn-link px-0 ml-1{% if e.ns == 1 %} text-danger{% endif %}{% if e.t == "Y" or e.csv == 1 %} disabled{% endif %}"
                                           title="{% if e.ns == 1 %}{{ _('visualize/show/hide/summary', variant='2') |capitalize }}{% else %}{{ _('visualize/show/hide/summary', variant='1') |capitalize }}{% endif %} {{ _('note/notes', variant='1') }} {{ _("and") }} {{ _('source/sources', variant='1') }}{% if e.ns == "" %}. {{ _("colored corner") |capitalize }}{% endif %}"
                                           href="{% if e.ns == 1 %}{{ url_set.ns }}{% else %}{{ url_set.ns[1] }}{% endif %}">
                                            <i class="far fa-note-sticky fa-flip-vertical fa-lg fa-fw mb-1 mr-1"
                                               aria-hidden="true"></i><span class="notecolor">{{ _('note/notes', variant='1') |capitalize }}</span> <span class="notesourcecolor">{{ _("and") }}</span> <span class="sourcecolor">{{ _('source/sources', variant='1') }}</span></a>
                                    {% endif %}
                                    {% if e.m == "D" and e.marr == "on" or e.marr_place == "on" or e.marr_date == "on" %}
                                        <span class="sr-only">—</span>
                                        <a role="button"
                                           class="btn btn-link ml-1 px-0"
                                           href="{{ prefix_base_password }}{# foreach not implemented yet #}"
                                           title="{% if e.t == "H" %}{{ _('visualize/show/hide/summary', variant='1') |capitalize }}{% else %}{{ _('visualize/show/hide/summary', variant='2') |capitalize }}{% endif %} {{ _("spouses info") }}"><i class="fas fa-user male pr-0" aria-hidden="true"></i><i class="fas fa-user {% if e.t != "H" %}fe{% endif %}male pl-0 mr-2"
   aria-hidden="true"></i>{{ _("spouses info") |capitalize }}</a>
                                    {% endif %}
                                <a role="button"
                                   class="btn btn-link px-0 ml-1{% if e.csv == 1 or e.t == "Y" %} disabled{% endif %}"
                                   href="{% if e.hl != 1 %}{{ url_set.hl[1] }}{% else %}{{ url_set.hl }}{% endif %}"><i class="fas fa-highlighter fa-lg fa-fw mr-1{% if e.hl != 1 %} text-warning{% endif %}"
   aria-hidden="true"></i>
                                {% if e.hl != 1 %}
                                    {{ _('highlight gaps/hide highlighting', variant='0') |capitalize }}
                                {% else %}
                                    {{ _('highlight gaps/hide highlighting', variant='1') |capitalize }}
                                {% endif %}
                            </a>
                        {% endif %}
                        <span class="sr-only">—</span>
                        {% if e.csv != "on" and e.m == "A" and e.t == "Z" or e.t == "Y" %}
                            <span class="sr-only">—</span>
                            <a role="button"
                               class="btn btn-link px-0 ml-1"
                               href="{{ prefix_base_password }}{{ access }}&m=A{# foreach not implemented yet #}{% if e.t == "Y" %}&num=on&birth=on&birth_place=on&marr=on&marr_date=on&marr_place=on&child=on&death=on&death_place=on&age=on&occu=on&repeat=on{% endif %}"
                               title="{{ _('visualize/show/hide/summary', variant='1') |capitalize }} {{ _("table") }} {% if e.t == "Y" %}{{ _('ancestor/ancestors', variant='1') }}{% else %}{{ _("by couple") }}{% endif %}"><i class="fa fa-{% if e.t == "Y" %}table{% else %}restroom{% endif %} fa-lg fa-fw"
   aria-hidden="true"></i><span class="ml-1 text-primary">{{ _("table") |capitalize }}
                                {% if e.m == "A" and e.t == "Z" %}
                                    {{ _('by couple', variant='0') }}
                                {% else %}
                                    {{ _('by couple', variant='1') }}
                                {% endif %}
                            </span>
                        </a>
                    {% endif %}
                    {% if e.m == "D" and e.t == "D" or e.t == "I" or e.t == "H" or e.m == "A" and e.t == "H" and e.same != "" %}
                        <a role="button"
                           class="btn btn-link px-0"
                           {{ sp }}
                           href="{% if e.implx != "" %}{{ url_set.implx.on }}{% else %}{{ url_set.implx }}{% endif %}"
                           title="{% if e.implx != "on" %}{{ _("collapse implex") |capitalize }}{% else %}{{ _("display implex") |capitalize }}{% endif %}"><i class="fa fa-shuffle fa-lg fa-fw"></i></a>
                    {% endif %}
                    <span class="sr-only">—</span>
                    {% if e.m == "A" and e.t == "Z" %}
                        <span class="sr-only">—</span>
                        <a role="button"
                           class="btn btn-link px-0"
                           href="{% if e.csv != 1 %}{{ url_set.csv[1] }}{% else %}{{ url_set.csv }}{% endif %}"
                           title="{% if e.csv == 1 %}{{ _('visualize/show/hide/summary', variant='2') |capitalize }} CSV {{ _("and") }} {{ _('visualize/show/hide/summary', variant='1') }} {{ _("table") }} {{ _('ancestor/ancestors', variant='1') }}{% else %}{{ _('visualize/show/hide/summary', variant='1') |capitalize }} CSV{% endif %}"><i class="fa fa-file-csv fa-lg fa-fw {% if e.csv == 1 %}text-danger{% endif %}"
   aria-hidden="true"></i></a>
                    {% endif %}
                    <a role="button"
                       class="btn btn-link px-0"
                       title="{{ _("cancel GeneWeb links") |capitalize }}"
                       href="{{ url_set.cgl.on }}"
                       target="_blank"><i class="fa fa-link fa-fw fa-lg" aria-hidden="true"></i></a>
                    {% if e.m == "A" and e.t == "H" or e.m == "D" and e.t == "D" %}
                        <button id="btnshowfilter" type="button" class="btn btn-link ml-1 px-0">
                            <i class="fas fa-filter ml-1" aria-hidden="true"></i>
                            {{ _('filter by::surname/surnames', variant='0') |capitalize }}
                        </button>
                    {% endif %}
                    {% if e.m == "D" and e.t == "D" and has_parents and e.templ == "" and not cancel_links %}
                        <button type="button"
                                class="btn btn-link ml-1 px-0"
                                data-toggle="modal"
                                data-target="#switch_modal">
                            <i class="fa fa-people-arrows"></i> {{ _("extend") |capitalize }}</a>
                    {% endif %}
                </div>
            </div>
            {% if e.t != "X" %}
                <div class="input-group ml-2">
                    <div class="input-group-append mt-2">
                        <form method="get"
                              action="{{ prefix_base_password }}"
                              class="d-flex align-items-center ml-2">
                            {# foreach not implemented yet #}<span class="col-auto px-0">{{ _('generation/generations', variant='0') |capitalize }}</span>
                            {% if not e.m == "D" and e.t == "D" or e.m == "A" and e.t == "H" %}
                                <div class="input-group ml-2">
                                    <div class="input-group-prepend">
                                        <label for="input_v0" class="input-group-text" title="v0= (min<=max)">min</label>
                                    </div>
                                    <input type="number"
                                           id="input_v0"
                                           name="v0"
                                           class="form-control"
                                           value="{% if e.t == "Y" and e.v0 == "" %}1{% else %}{% if only == 1 or v0 > l_v %}{{ l_v }}{% else %}{% if v0 != "" %}{{ v0 }}{% else %}0{% endif %}{% endif %}{% endif %}"
                                           placeholder="{% if e.t == "Y" %}1{% else %} {% endif %}"
                                           min="{% if e.t == "Y" %}1{% else %}0{% endif %}"
                                           max="{% if e.m == "A" %}{{ static_max_anc_level }}{% else %}{% if e.m == "D" %}{{ static_max_desc_level }}{% endif %}{% endif %}"
                                           autofocus>
                                </div>
                            {% endif %}
                            <div class="input-group ml-2">
                                <div class="input-group-prepend">
                                    <label for="input_v" class="input-group-text" title="v=…">max</label>
                                </div>
                                <input type="number"
                                       id="input_v"
                                       name="v"
                                       class="form-control"
                                       value="{{ e.v }}"
                                       min="0"
                                       max="{% if e.m == "A" %}{{ static_max_anc_level }}{% else %}{% if e.m == "D" %}{{ static_max_desc_level }}{% endif %}{% endif %}"
                                       required>
                            </div>
                            <button type="submit"
                                    class="btn btn-primary ml-2"
                                    title="{{ _('validate/delete', variant='0') |capitalize }}">OK</button>
                        </form>
                        <a role="button"
                           class="btn btn-link px-0{% if e.v < 1 %} disabled text-muted{% endif %} ml-2"
                           title="{{ _("delete") |capitalize }} 1 {{ _('generation/generations', variant='0') }}"
                           href="{{ urlset("v", e.v - 1) }}">
                            <i class="fa fa-minus fa-fw fa-lg" aria-hidden="true"></i>
                            <span class="sr-only">-</span>
                        </a>
                        <a role="button"
                           class="btn btn-link px-0 {% if e.m == "D" and e.v >= static_max_desc_level or e.m == "A" and e.v > static_max_anc_level %} disabled text-muted{% endif %}"
                           title="{{ _("add") |capitalize }} 1 {{ _('generation/generations', variant='0') }} {% if e.v < static_max_desc_level and static_max_desc_level > 1 %} max {{ static_max_desc_level }} {{ _('generation/generations', variant='1') }}){% endif %}"
                           href="{{ urlset("v", e.v + 1) }}">
                            <i class="fa fa-plus fa-fw fa-lg" aria-hidden="true"></i>
                            <span class="sr-only">+</span>
                        </a>
                        {% if e.v != 0 and istable == 1 %}
                        <a role="button"
                           class="btn btn-link px-0 pl-2 ml-1"
                           href="{% if only == 0 %}{{ url_set.only_v0.on_ }}{% else %}{{ url_set.only_v0._ }}{% endif %}"
                           title="{% if only == 0 %}{{ _('visualize/show/hide/summary', variant='1') |capitalize }} {{ _("only the generation selected") }} {% else %}{{ _('visualize/show/hide/summary', variant='1') |capitalize }}{{ sp }}{% if e.m == "D" %}{{ togend(e.v) }}{% else %}{% if e.m == "A" %}{{ togena(e.v) }}{% endif %}{% endif %}{% endif %}"><i class="fa fa-turn-up{% if e.m == "D" %} fa-flip-vertical{% endif %} fa-fw fa-lg{% if e.only != "on" %} text-danger{% endif %}"
   aria-hidden="true"></i>
                        {% if e.m == "D" %}
                            {% if only == 0 %}
                                {% if e.v != 0 %}{{ _("only") |capitalize }}{% endif %}
                                {{ gend("v") }}
                            {% else %}
                                {{ capitalize(togend(("0") if (e.v == "") else (e.v))) }}
                            {% endif %}
                        {% else %}
                            {% if e.m == "A" %}
                                {% if only == 0 %}
                                    {{ _("only") |capitalize }} {{ gen("v") }}
                                {% else %}
                                    {{ capitalize(togena(("0") if (e.v == "") else (e.v))) }}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    </a>
                {% else %}
                    {% if e.v == 0 %}
                        <span class="btn disabled text-primary pl-0 ml-2">{{ _('specify::generation/generations', variant='0') |capitalize }}{{ sp }}
                            {% if e.m == "D" and e.t == "D" %}{{ _("or") }} {{ _("extend") }}{% endif %}
                        </span>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    {% endif %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endif %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}

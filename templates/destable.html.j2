{# 
  Generated by JinjaGenerator for template 'destable'
    at 2025-10-26T20:24:39.383329

  Used macros:
  - setvar(nnn, vvv)
  - desc(xx)
  - link(aaa, xxx, nnn)
  - table_row(xxx, prefx, fff, fam_cnt, ch_cnt, ch_count, yyy, zzz, ddd, nb_ch_desc, implx)
  - one_child(xxx, prefx, fff, ch_cnt)
  - families_of_one_p(xxx, prefx)
  - list_row(xxx, prefx, fam_cnt, ch_cnt)
  - one_person(xxx, lv, max_l, prefx, fam_cnt, ch_cnt)
  - one_level(xxx, lv, max_l, prefx, faml, ch_cnt)
  - desc_count(vvv, ooo, nnn, ttt, ccc)

  Used includes:
  - css
  - hed
  - menubar
  - perso_utils
  - table_utils
  - buttons
  - trl
  - copyr
  - js

  Used variables:
  - lang (x1)
  - self (x3)
  - sp (x6)
  - e.v (x4)
  - e.cgl (x1)
  - e.t (x14)
  - e.marr (x4)
  - e.marr_date (x3)
  - e.marr_place (x3)
  - e.child (x3)
  - e.num (x1)
  - e.nowrap (x2)
  - e.ns (x4)
  - e.hl (x8)
  - e.fn (x2)
  - e.tt (x2)
  - e.im (x2)
  - e.px (x4)
  - e.age (x1)
  - e.occu (x1)
  - e.implx (x2)
  - e.gen (x1)
  - e.only (x1)
  - body_prop (x1)
  - message_to_wizard (x1)
  - cancel_links (x13)
  - set_var.nnn.vvv (x1)
  - l_v (x11)
  - get_var.descname (x2)
  - only (x4)
  - desc (x5)
  - dates (x1)
  - v0 (x8)
  - static_max_desc_level (x1)
  - has_families (x4)
  - nb_families (x6)
  - xxx.nb_families (x5)
  - xxx (x6)
  - xxx.first_name (x14)
  - xxx.index (x9)
  - xxx.access (x4)
  - xxx.surname (x4)
  - xxx.title (x7)
  - xxx.has_image (x2)
  - xxx.image_url (x4)
  - xxx.has_notes (x9)
  - xxx.has_psources (x9)
  - xxx.notes (x1)
  - xxx.psources (x1)
  - xxx.has_families (x5)
  - xxx.spouse.has_families (x1)
  - xxx.computable_death_age (x1)
  - xxx.death_age (x1)
  - xxx.computable_age (x1)
  - xxx.age (x1)
  - xxx.has_occupation (x1)
  - xxx.occupation (x1)
  - famx (x12)
  - labl0 (x1)
  - labl (x4)
  - implx (x2)
  - rowspan (x4)
  - prefix_base_password (x2)
  - access (x1)
  - spouse.access (x1)
  - family_cnt (x2)
  - has_notes (x6)
  - has_psources (x8)
  - notes (x1)
  - psources (x1)
  - reset_count2 (x3)
  - zzz.has_families (x1)
  - count2 (x3)
  - nb_ch_tot_desc (x1)
  - incr_count (x1)
  - prfx (x3)
  - reset_count1 (x3)
  - count1 (x5)
  - count (x3)
  - nb_children (x1)
  - index (x1)
  - reset_count (x3)
  - fam_cnt (x3)
  - lv (x2)
  - max_l (x2)
  - ch_cnt (x1)
  - npref (x1)
  - nnn (x1)
  - ttt (x3)
  - vvv (x2)
  - ooo (x1)
  - empty_sorted_list (x1)
  - empty_sorted_listb (x1)
  - empty_sorted_listc (x1)
  - min (x1)
  - lev (x4)
  - nb_col (x1)
  - list_size (x2)
  - max_desc_level (x1)
  - query_time (x1)
#}
<!DOCTYPE html>
<html lang="{{ lang }}" id="scrollfix">
    <head>
        <!-- $Id: destable.txt v7.1 11/10/2024 01:05:21 $ -->
        <!-- Copyright (c) 1998-2007 INRIA -->
        <title>{{ a_of_b(_("descendants") |capitalize, self) }}{{ sp }}{{ _("up to") }} {{ e.v }}
            {% if ( e.v > 1 ) %}
                {{ _("generation/generations", variant='1') }}
            {% else %}
                {{ _("generation/generations", variant='0') }}
            {% endif %}
        </title>
        <meta name="robots" content="none">
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon"
              href="{{ url_for('static', path='images/favicon_gwd.png') }}">
        {% include 'css.html.j2' %}
    </head>
    <body {{ body_prop }}>
        {% include 'hed.html.j2' %}
        {{ message_to_wizard }}
        <div class="container-fluid pl-4">
            {% if ( not cancel_links ) %}
                {% include 'menubar.html.j2' %}
            {% endif %}
            {% include 'perso_utils.html.j2' %}
            {% include 'table_utils.html.j2' %}
            {% include 'buttons.html.j2' %}
            {% macro setvar(nnn, vvv) %}
                {{ set_var.nnn.vvv }}
            {% endmacro %}
            {% macro desc(xx) %}
                {% if ( _("cousins.0.xx") != "[cousins.0.xx]" ) %}
                    {{ _("cousins.0.xx", variant='1') }}
                {% else %}
                    0
                {% endif %}
            {% endmacro %}
            {{ setvar("descname", desc(l_v) ) }}
            {% with %}
                {% set desc = ("0") if (( "0" in get_var.descname )) else (get_var.descname) %}
                <h1 class="h3 mt-3{% if ( not cancel_links ) %} ml-1{% endif %}">
                    {% if ( l_v != 0 ) %}
                        {{ a_of_b((capitalize(desc) ) if (( ( only == 1 ) and ( desc != 0 ) )) else (_("descendants")|capitalize"
                        "), self) }}
                    {% else %}
                        {{ self }}
                    {% endif %}
                    {{ dates }}
                    {% if ( ( only == 0 ) and ( v0 <= 1 ) ) %}
                        {{ sp }}
                        {% if ( desc != 0 ) %}
                            {{ _("up to the (individuals)", variant='0') }} {{ desc }}
                        {% else %}
                            {{ togend(l_v) }}
                        {% endif %}
                    {% else %}
                        {% if ( v0 > 1 ) %}
                            {% if ( ( v0 < l_v ) and ( only == 0 ) ) %}{{ sp }}{{ fromthenth(v0) }}{% endif %}
                            {% if ( ( v0 < l_v ) or ( desc == 0 ) ) %}{{ sp }}{{ tothenthgen(l_v) }}{% endif %}
                        {% endif %}
                    {% endif %}
                    {% if ( static_max_desc_level == 4 ) %}({{ _("no descendants") }}){% endif %}
                </h1>
                {% macro link(aaa, xxx, nnn) %}
                    {% if ( e.cgl == "on" ) %}
                        xxx
                    {% else %}
                        <a id="i_nnn" href="/aaa">xxx</a>
                    {% endif %}
                {% endmacro %}
                {% macro table_row(xxx, prefx, fff, fam_cnt, ch_cnt, ch_count, yyy, zzz, ddd, nb_ch_desc, implx) %}
                    {% with %}
                        {% set famx = ("1") if (( ( not has_families ) or ( e.t == "I" ) )) else ("fam_cnt") %}
                        {% with %}
                            {% set labl = ("1") if (( "prefx" == "-1" )) else (("prefxfff.") if (( "prefx" != "" ))"ch_count") %}
                            {% with %}
                                {% set labl0 = ("1") if (( "prefx" == "-1" )) else (("prefxfff.") if (( "prefx" != "" ))"ch_cnt") %}
                                {% with %}
                                    {% set rowspan = (" rowspan=""xxx.nb_families""") if (( ( nb_families > 1 ) and ( ( e.t == "H" ) and ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( ( e.marr_place == "on" ) or ( e.child == "on" ) ) ) ) ) )) %}
                                    <tr>
                                        {% if ( ( e.num == "on" ) and ( famx == 1 ) ) %}
                                            {% if ( "yyy" == "desc" ) %}
                                                <td id="{{ labl0 }}"
                                                    class="text-center align-middle{% if ( ( not cancel_links ) and ( labl != 1 ) ) %} table_big_cell{% endif %}{% if ( ( implx != 0 ) and ( not cancel_links ) ) %} implex{% endif %}"
                                                    {{ rowspan }}>
                                                    {% if ( ( labl != 1 ) and ( not cancel_links ) ) %}
                                                        <a class="table_big_anchor"
                                                           title="{{ _("navigation") |capitalize }} {{ _("with") }} {{ xxx }}"
                                                           href="{{ prefix_base_password }}{{ access }}{# foreach not implemented yet #}"></a>
                                                    {% endif %}
                                                    {% if ( not cancel_links ) %}
                                                        <a class="normal_anchor"
                                                           href="#prefx"
                                                           title="{{ _("link back to parents") |capitalize }}">{{ labl }}</a>
                                                    {% else %}
                                                        {{ labl }}
                                                    {% endif %}
                                                </td>
                                            {% else %}
                                                {% if ( e.t == "I" ) %}
                                                    <td class="text-center align-middle{% if ( not cancel_links ) %} table_big_cell{% if ( implx != 0 ) %} implex{% endif %}{% endif %}">
                                                        {% if ( not cancel_links ) %}
                                                            <a class="table_big_anchor"
                                                               title="{{ _("navigation") |capitalize }} {{ _("with") }} {{ xxx }}"
                                                               href="{{ prefix_base_password }}{{ spouse.access }}{# foreach not implemented yet #}">
                                                            {% endif %}
                                                            {% if ( has_families and ( nb_families > 1 ) ) %}
                                                                {{ letter(family_cnt) }}
                                                            {% else %}
Â 
                                                            {% endif %}
                                                            {% if ( not cancel_links ) %}</a>{% endif %}
                                                    </td>
                                                {% endif %}
                                            {% endif %}
                                        {% endif %}
                                        {% if ( famx == 1 ) %}
                                            {% if ( "yyy" == "desc" ) %}
                                                <td class="align-middle{% if ( e.nowrap == "on" ) %} text-nowrap{% endif %} pl-2{% if ( e.ns == 1 ) %}{% if has_notes %} note{% if has_psources %}source{% endif %}{% else %}{% if has_psources %} source{% endif %}{% endif %}{% endif %}{% if ( ( e.hl == 1 ) and ( ( "?" is_substr xxx ) or ( ( xxx.first_name == "N." ) or ( ( xxx.first_name == "Nn" ) or ( ( xxx.first_name == "Xx" ) or ( ( xxx.first_name == "Yy" ) or ( xxx.first_name == "Xy" ) ) ) ) ) ) ) %} bg-ly-incomplete{% endif %}"{{ rowspan }}{% if ( ( e.ns == 1 ) and ( has_notes or has_psources ) ) %} tabindex="0" title="{{ _("click") |capitalize }} {{ _("notes sources show help") }}{{ sp }}{% if has_notes %}{{ _("note/notes", variant='1') }}{% if has_psources %} {{ _("and") }} {{ _("source/sources", variant='1') }}{% endif %}{% else %}{% if has_psources %}{{ _("source/sources", variant='1') }}{% endif %}{% endif %}." {{ popover_params("right") }} data-html="true" data-content='{% if has_notes %}{{ clean_comment_tags(notes) }}{% endif %}{% if has_psources %}{% if has_notes %}sources;<hr>
                                                {% endif %}
                                                {{ capitalize(psources) }}
                                            {% endif %}
                                            ' data-title="
                                            {% if has_notes %}
                                                {{ _("note/notes", variant='1') |capitalize }}
                                                {% if has_psources %}{{ _("and") }} {{ _("source/sources", variant='1') }}{% endif %}
                                            {% else %}
                                                {% if has_psources %}{{ _("source/sources", variant='1') |capitalize }}{% endif %}
                                            {% endif %}
                                            "
                                        {% endif %}
                                        >
                                        {{ add_in_sorted_list(xxx.index) }}{{ add_in_sorted_listc(xxx.index) }}
                                        <div class="d-flex justify-content-between">
                                            <div class="align-self-center">
                                                {{ image_MF("xxx") }}{{ link(xxx.access, (xxx.first_name" "xxx.surname) if (( e.fn == 1 )) else (xxx), xxx.index) }}
                                                {% if ( ( e.tt == 1 ) and ( xxx.title != "" ) ) %}, {{ xxx.title }}{% endif %}
                                            </div>
                                            {% if ( ( e.im == "" ) and xxx.has_image ) %}
                                                {% if ( not cancel_links ) %}<a href="{{ xxx.image_url }}" target="_blank" title="TEST">{% endif %}
                                                    <img src="{{ xxx.image_url }}"
                                                         class="rounded align-self-center ml-1 table-img-max-width"
                                                         height="{% if ( e.px != "" ) %}{{ e.px }}{% else %}60{% endif %}"
                                                         alt="xxx">
                                                    {% if ( not cancel_links ) %}</a>{% endif %}
                                            {% endif %}
                                        </div>
                                    </td>
                                {% else %}
                                    {% if ( e.t == "I" ) %}
                                        <td class="align-middle text-right{% if ( e.nowrap == "on" ) %} text-nowrap{% endif %}{% if ( e.ns == 1 ) %}{% if ( xxx.has_notes and ( not xxx.has_psources ) ) %} notespouse{% else %}{% if ( ( not xxx.has_notes ) and xxx.has_psources ) %} sourcespouse{% else %}{% if ( xxx.has_notes and xxx.has_psources ) %} notesourcespouse{% endif %}{% endif %}{% endif %}{% endif %}{% if ( ( e.hl == 1 ) and ( ( "?" is_substr xxx ) or ( ( xxx.first_name == "N." ) or ( ( xxx.first_name == "Nn" ) or ( ( xxx.first_name == "Xx" ) or ( ( xxx.first_name == "Yy" ) or ( xxx.first_name == "Xy" ) ) ) ) ) ) ) %} bg-ly-incomplete{% endif %}"{% if ( ( e.ns == 1 ) and ( xxx.has_notes or xxx.has_psources ) ) %} tabindex="0" {{ popover_params("right") }}data-content='{% if xxx.has_notes %}{{ clean_comment_tags(xxx.notes) }}{% endif %}{% if ( xxx.has_notes and xxx.has_psources ) %}<hr>
                                        {% endif %}
                                        {% if xxx.has_psources %}{{ capitalize(xxx.psources) }}{% endif %}
                                        ' title="
                                        {% if ( xxx.has_notes and ( not xxx.has_psources ) ) %}
                                            {{ _("note/notes", variant='1') |capitalize }}
                                        {% else %}
                                            {% if ( ( not xxx.has_notes ) and xxx.has_psources ) %}
                                                {{ _("source/sources", variant='1') |capitalize }}
                                            {% else %}
                                                {% if ( xxx.has_notes and xxx.has_psources ) %}
                                                    {{ _("note/notes", variant='1') |capitalize }} {{ _("and") }} {{ _("source/sources", variant='1') }}
                                                {% endif %}
                                            {% endif %}
                                        {% endif %}
                                        "
                                    {% endif %}
                                    >
                                    {{ add_in_sorted_list(xxx.index) }}{{ add_in_sorted_listc(xxx.index) }}
                                    <div class="d-flex justify-content-between">
                                        {% if ( ( e.im == "" ) and xxx.has_image ) %}
                                            {% if ( not cancel_links ) %}<a href="{{ xxx.image_url }}" target="_blank" title="TEST">{% endif %}
                                                <img src="{{ xxx.image_url }}"
                                                     class="rounded align-self-center table-img-max-width"
                                                     height="{% if ( e.px != "" ) %}{{ e.px }}{% else %}60{% endif %}"
                                                     alt="xxx">
                                                {% if ( not cancel_links ) %}</a>{% endif %}
                                        {% else %}
                                            <div></div>
                                        {% endif %}
                                        <div class="align-self-center p-1">
                                            {{ image_MF("xxx") }}{{ link(xxx.access, (xxx.first_name" "xxx.surname) if (( e.fn == 1 )) else (xxx), xxx.index) }}
                                            {% if ( ( e.tt == 1 ) and ( xxx.title != "" ) ) %}, {{ xxx.title }}{% endif %}
                                        </div>
                                    </div>
                                </td>
                            {% endif %}
                        {% endif %}
                    {% endif %}
                    {{ date_popup("xxx", "birth", famx) }}{{ place_popup("xxx", "birth", famx) }}{{ date_popup("xxx", "baptism", famx) }}{{ place_popup("xxx", "baptism", famx) }}
                    {% if ( ( e.marr == "on" ) and ( e.t == "H" ) ) %}
                        {% if ( xxx.nb_families == 0 ) %}
                            <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>
                        {% else %}
                            {# foreach not implemented yet #}
                        {% endif %}
                    {% endif %}
                    {% if ( e.marr_date == "on" ) %}
                        {% if ( xxx.nb_families == 0 ) %}
                            <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>
                        {% else %}
                            {# foreach not implemented yet #}
                            {% if ( ( e.t == "I" ) and ( ( nb_families > 1 ) and ( "yyy" == "desc" ) ) ) %}
                                <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}
                                    title="{{ _("edit family on spouse") |capitalize }}"></td>
                            {% endif %}
                        {% endif %}
                    {% endif %}
                    {% if ( e.marr_place == "on" ) %}
                        {% if ( xxx.nb_families == 0 ) %}
                            <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>
                        {% else %}
                            {# foreach not implemented yet #}
                            {% if ( ( e.t == "I" ) and ( ( nb_families > 1 ) and ( "yyy" == "desc" ) ) ) %}
                                <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>
                            {% endif %}
                        {% endif %}
                    {% endif %}
                    {{ reset_count2 }}
                    {% if zzz.has_families %}{# foreach not implemented yet #}{% endif %}{% with %}{% set nb_ch_tot_desc = count2 %}{{ reset_count2 }}{% if ( e.t == "I" ) %}{% if xxx.has_families %}{# foreach not implemented yet #}{% endif %}{% else %}{% if ( xxx.has_families and xxx.spouse.has_families ) %}{# foreach not implemented yet #}
                    {% endif %}
                {% endif %}
                {% with %}
                    {% set nb_ch_tot_spous = count2 %}
                    {% if ( e.child == "on" ) %}
                        {% if ( xxx.nb_families == 0 ) %}
                            <td {% if ( e.hl == 1 ) %}class="bg-lg"{% endif %}></td>
                        {% else %}
                            {# foreach not implemented yet #}
                            {% if ( ( e.t == "I" ) and ( ( nb_families > 1 ) and ( "yyy" == "desc" ) ) ) %}
                                <td class="align-middle text-center">{{ nb_ch_tot_desc }}</td>
                            {% endif %}
                        {% endif %}
                    {% endif %}
                    {{ date_popup("xxx", "death", famx) }}{{ place_popup("xxx", "death", famx) }}{{ date_popup("xxx", "burial", famx) }}{{ place_popup("xxx", "burial", famx) }}
                    {% if ( ( e.age == "on" ) and ( famx == 1 ) ) %}
                        <td class="align-middle text-center"{{ rowspan }}>
                            {% if xxx.computable_death_age %}{{ xxx.death_age }}{% endif %}
                            {% if xxx.computable_age %}{{ xxx.age }}{% endif %}
                        </td>
                    {% endif %}
                    {% if ( ( e.occu == "on" ) and ( famx == 1 ) ) %}
                        <td class="align-middle"{{ rowspan }}>
                            {% if xxx.has_occupation %}{{ xxx.occupation }}{% endif %}
                        </td>
                    {% endif %}
                </tr>
            {% endwith %}
        {% endwith %}
    {% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endmacro %}
{% macro one_child(xxx, prefx, fff, ch_cnt) %}
    {{ incr_count }}
    {% with %}
        {% set prfx = prefx %}
        {% if ( e.t == "A" ) %}
            <br>
            {{ prfx }} {{ image_MF("xxx") }}{{ link(xxx.access, xxx.first_name" "xxx.surname, xxx.index) }}{{ xxx.title }}
            {% if has_families %}{# foreach not implemented yet #}{% endif %}{% else %}{% if xxx.has_families %}{% if ( e.t == "H" ) %}{# foreach not implemented yet #}{% else %}{% if ( e.t == "I" ) %}{{ reset_count1 }}{# foreach not implemented yet #}{% if ( ( count1 == 0 ) or ( e.implx == "" ) ) %}{{ table_row("xxx", prfx, "fff", family_cnt, "ch_cnt", count, "desc", "xxx", "0", nb_children, count1) }}{% endif %}{{ add_in_sorted_listc(index) }}{% if ( ( e.marr == "on" ) or ( ( e.marr_date == "on" ) or ( ( e.marr_place == "on" ) or ( e.child == "on" ) ) ) ) %}{# foreach not implemented yet #}{% endif %}{% endif %}{% endif %}{% else %}{{ reset_count1 }}{# foreach not implemented yet #}{% if ( ( count1 == 0 ) or ( e.implx == "" ) ) %}{{ table_row("xxx", prfx, "fff", , "ch_cnt", count, "desc", "xxx", "0", "0", count1) }}{% endif %}{{ add_in_sorted_listc(xxx.index) }}{% endif %}{% endif %}{% endwith %}{% endmacro %}{% macro families_of_one_p(xxx, prefx) %}{{ reset_count }}{# foreach not implemented yet #}{% endmacro %}{% macro list_row(xxx, prefx, fam_cnt, ch_cnt) %}{% with %}{% set fam = (letter(fam_cnt)) if (( fam_cnt > 0 )) %}{% if ( "prefx" != "" ) %}<span class="text-monospace">prefx</span>{% endif %}{{ sp }}{{ image_MF("xxx") }}{{ link(xxx.access, xxx.first_name" "xxx.surname, xxx.index) }}{% if ( xxx.title != "" ) %}, {{ xxx.title }}{% endif %}{% if has_families %}{# foreach not implemented yet #}
            {% endif %}
        {% endwith %}
    {% endmacro %}
    {% macro one_person(xxx, lv, max_l, prefx, fam_cnt, ch_cnt) %}
        {% if ( lv < max_l ) %}
            <div>{{ list_row("xxx", "prefx", fam_cnt, ch_cnt) }}</div>
            {% if xxx.has_families %}{# foreach not implemented yet #}{% endif %}{% endif %}{% endmacro %}{% macro one_level(xxx, lv, max_l, prefx, faml, ch_cnt) %}{% with %}{% set npref = ("prefxfaml.") if (( "prefx" != "" ))"ch_cnt" %}{% if ( lv < max_l ) %}{% if xxx.has_families %}{# foreach not implemented yet #}{% endif %}{% else %}{{ families_of_one_p("self", npref) }}{% endif %}{% endwith %}{% endmacro %}{% macro desc_count(vvv, ooo, nnn, ttt, ccc) %}{{ reset_count1 }}{{ reset_count2 }}{# foreach not implemented yet #}
                {% if ( nnn == 1 ) %}
                    {% if ( count1 == 1 ) %}
                        {% if ( ttt == 1 ) %}
                            1Â {{ _("person/persons", variant='0') }}
                        {% else %}
                            {% if ( vvv < 10 ) %}
                                Â {{ _("cousins.0.vvv", variant='0') }}
                            {% else %}
                                Â {{ _("person/persons", variant='0') }}
                            {% endif %}
                        {% endif %}
                    {% else %}
                        {% if ( ttt == 1 ) %}
                            Â {{ _("descendants") }}
                        {% else %}
                            {% if ( vvv < 10 ) %}
                                Â {{ _("cousins.0.vvv", variant='1') }}
                            {% else %}
                                Â {{ _("person/persons", variant='1') }}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                    {% if ( ( ttt == 1 ) and ( count2 != 1 ) ) %}
                        {% if ( ooo == 1 ) %}
                            (cccÂ {{ _("person/persons", variant='1') }} {{ _("with") }} {{ _("spouse/spouses", variant='1') }})
                        {% else %}
                            {% if ( ( e.marr == "on" ) or ( e.t == "I" ) ) %}
                                (cccÂ {{ _("person/persons", variant='1') }} {{ _("with root, spouses and unknowns") }})
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endmacro %}
            {% if ( e.t == "A" ) %}
                <div class="mt-1">
                    <div class="my-1">{{ _("d'Aboville") |capitalize }} {{ togend(e.v) }}{{ _(":") }}</div>
                    {{ one_person("self", 0, l_v, 1, nb_families, 0) }}
                </div>
            {% else %}
                <table id="destable" class="table-hover table-sm w-auto asc-desc-table mt-2">
                    {{ reset_count }}{{ table_header() }}
                    {% with %}
                        {% set nb_col = 0 %}{{ reset_count }}{{ empty_sorted_list }} {{ empty_sorted_listb }} {{ empty_sorted_listc }}
                        {% if ( only == 0 ) %}
                            {% if ( v0 <= 1 ) %}{{ one_child('self', '-1', '', 1) }}{% endif %}
                            {% with %}
                                {% set min = (( v0 - 1 )) if (( v0 > 0 )) else ("0") %}
                                {% for lev in min..l_v %}
                                    {% if ( ( e.gen == 1 ) and ( lev < l_v ) ) %}
                                        <tr>
                                            <th scope="row" colspan="{{ nb_col }}" class="border-0 gen-row">
                                                <div class="d-flex">
                                                    <span>{{ _("generation/generations", variant='0') |capitalize }} {{ lev + 1 }}</span>
                                                    <span class="ml-auto">{{ desc_count(( lev + 1) , 1, 1, 0, 0) }}</span>
                                                </div>
                                            </th>
                                        </tr>
                                    {% endif %}
                                    {{ one_level("self", 0, lev, "", "", 1) }}
                                {% endfor %}
                            {% endwith %}
                        {% else %}
                            {% if ( l_v == 0 ) %}
                                {{ one_child('self', '-1', '', 1) }}
                            {% else %}
                                {{ one_level("self", 0, ( l_v - 1) , "", "", 1) }}
                            {% endif %}
                        {% endif %}
                    </table>
                {% endwith %}
            {% endif %}
            <div class="mt-1">
                {{ _("total") |capitalize }}{{ _(":") }}
                {% if ( e.only == "on" ) %}
                    {{ desc_count(e.v, 1, 1, 1, list_size) }}
                {% else %}
                    {{ desc_count(max_desc_level, 0, 1, 1, list_size) }}
                {% endif %}
                .
            </div>
            {% include 'trl.html.j2' %}
            {% include 'copyr.html.j2' %}
        </div>
        {% include 'js.html.j2' %}
        {{ query_time }}
    </body>
</html>
{% endwith %}

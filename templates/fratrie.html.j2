{# 
  Generated by JinjaGenerator for template 'modules/fratrie'
    at 2025-10-29T22:35:38.931059

  Used macros:
  - short_display_sibling_photo(xx, cond)

  Used includes:
  None

  Used variables:
  - op_m (x6)
  - has_siblings (x2)
  - index (x2)
  - has_parents (x6)
  - b.full_siblings (x2)
  - reset_count (x3)
  - op_fl (x1)
  - e.cgl (x1)
  - father.access (x1)
  - father.nb_families (x3)
  - reset_count2 (x1)
  - count2 (x1)
  - count (x3)
  - half_father (x7)
  - half_mother (x7)
  - mother.nb_families (x3)
  - border (x2)
#}

<!-- $Id: modules/fratrie.txt v7.1 13/08/2023 16:47:40 $ -->
{% with %}
    {% set op_m = (op_m) if (op_m != "") else ("1") %}
    {% with %}
        {% set op_fl = "1" %}
        {% macro short_display_sibling_photo(xx, cond) %}
            {% if has_siblings %}
                {% with %}
                    {% set cur = index %}
                    <div class="d-flex flex-wrap mb-1">{# foreach not implemented yet #}</div>
                {% endwith %}
            {% endif %}
        {% endmacro %}
        {% if has_parents and has_siblings %}
            <h2 class="mt-2 mt-lg-0 w-100">
                {% if b.full_siblings != "no" %}
                    {{ _("full siblings") |capitalize }}
                {% else %}
                    {{ _("siblings") |capitalize }}
                {% endif %}
                {{ reset_count }}
                {% if op_fl == 1 and e.cgl != "on" %}
                    <a href="/{{ father.access }}&m=D&t=T&v=1">
                        <img class="ml-2 mb-1"
                             src="{{ url_for("static", path="images/gui_create.png") }}"
                             height="18"
                             alt="Tree"
                             title="{{ _("tree") |capitalize }} {{ _("siblings") }} ({{ _("with") }} {{ _('spouse/spouses', variant='1') }})">
                    </a>{{ reset_count2 }}{# foreach not implemented yet #}{% if count2 > 3 %}{# foreach not implemented yet #}{% if count == 0 %}<span class="fa fa-caret-left invisible"></span>{% endif %}{# foreach not implemented yet #}
                {% endif %}
            {% endif %}
        </h2>
        {% if op_m == 2 %}
            {% if b.full_siblings != "no" %}
                {{ short_display_sibling_photo('father', '0') }}
            {% else %}
                {{ short_display_sibling_photo('father', 'cur') }}
            {% endif %}
        {% else %}
            <ul class="pl-4">
                {% with %}
                    {% set cur = index %}{# foreach not implemented yet #}
                </ul>
            {% endwith %}
        {% endif %}
    {% endif %}
    {{ reset_count }}
    {% if has_parents %}{# foreach not implemented yet #}{% endif %}{% with %}{% set half_father = count %}{{ reset_count }}{% if has_parents %}{# foreach not implemented yet #}
    {% endif %}
    {% with %}
        {% set half_mother = 0 %}
        {% if op_m == 1 and has_parents and half_father != 0 or half_mother != 0 %}
            <h2>{{ _('half-brothers/half-sisters/half-siblings', variant='2') |capitalize }}</h2>
            {% if half_father != 0 %}
                {{ on_side(very_short_display_person("father") ) }}
                {% if father.nb_families > 1 and half_father != 0 %}{# foreach not implemented yet #}{% endif %}{% endif %}{% if half_mother != 0 %}{{ on_side(very_short_display_person("mother")) }}{% if mother.nb_families > 1 and half_mother != 0 %}{# foreach not implemented yet #}
                {% endif %}
            {% endif %}
        {% else %}
            {% if op_m == 3 and has_parents and half_father != 0 or half_mother != 0 %}
                <h2>{{ _('half-brothers/half-sisters/half-siblings', variant='2') |capitalize }}</h2>
                <table style="border:{{ border }};width:100%">
                    <tr>
                        {% if half_father != 0 %}
                            <td style="width:47%;vertical-align: top">{{ on_side(very_short_display_person("father") ) }}</td>
                            <td style="width:6%;vertical-align: top">&nbsp;</td>
                        {% endif %}
                        {% if half_mother != 0 %}
                            <td style="width:47%;vertical-align: top">{{ on_side(very_short_display_person("mother") ) }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        {% if father.nb_families > 1 and half_father != 0 %}
                            <td style="vertical-align: top">{# foreach not implemented yet #}</td>
                            <td></td>
                        {% endif %}
                        {% if mother.nb_families > 1 and half_mother != 0 %}
                            <td style="vertical-align: top">{# foreach not implemented yet #}</td>
                        {% endif %}
                    </tr>
                </table>
            {% else %}
                {% if op_m == 4 and has_parents and half_father != 0 or half_mother != 0 %}
                    <h2>{{ _('half-brothers/half-sisters/half-siblings', variant='2') |capitalize }}</h2>
                    <table style="border-width:{{ border }};width:100%">
                        <tr>{# foreach not implemented yet #}</tr>
                        <tr>
                            {% if father.nb_families > 1 %}<td style="vertical-align: top">{# foreach not implemented yet #}</td>{% endif %}
                            {% if mother.nb_families > 1 %}<td style="vertical-align: top">{# foreach not implemented yet #}</td>{% endif %}
                        </tr>
                    </table>
                {% endif %}
            {% endif %}
        {% endif %}
    {% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}

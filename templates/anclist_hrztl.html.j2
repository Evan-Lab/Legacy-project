{# 
  Generated by JinjaGenerator for template 'templm/anclist_hrztl'
    at 2025-10-26T20:25:17.355505

  Used macros:
  - space(z1)
  - line_a(z1, z2)
  - line_b(z1)
  - line_c(z1)
  - line_d(z1)
  - line_e(z1, z2)
  - horizontally1(xx, curlev, ss1, ss2, ss3, z1)
  - horizontally2(xx, curlev, ss1, ss2, ss3, z1)
  - horizontally3(xx, curlev, ss1, ss2, ss3, z1)

  Used includes:
  None

  Used variables:
  - z1 (x16)
  - z2 (x5)
  - curlev (x20)
  - evar.v (x4)
  - evar.sosa (x6)
  - evar.marriage2 (x4)
  - evar.t (x3)
  - evar.maxv (x1)
  - evar.xy (x3)
  - evar.siblings (x2)
  - evar.timeline (x3)
  - evar.gen (x5)
  - xx.is_male (x1)
  - xx.has_sosa (x1)
  - xx.has_siblings (x11)
  - xx.has_parents (x10)
  - xx.sosa (x1)
  - xx.index (x3)
  - xx.access (x1)
  - xx (x2)
  - xx.title (x2)
  - xx.dates (x2)
  - xx.father.has_sosa (x2)
  - xx.father.has_parents (x10)
  - xx.mother.has_parents (x10)
  - xx.father.sosa (x2)
  - xx.father.index (x2)
  - xx.father.birth_date.year (x5)
  - xx.father.death_date.year (x3)
  - xx.father.computable_age (x1)
  - xx.mother.birth_date.year (x6)
  - xx.birth_date.year (x3)
  - xx.mother.death_date.year (x3)
  - xx.mother.computable_age (x1)
  - browsing_with_sosa_ref (x3)
  - l_has_sosa (x3)
  - cancel_links (x4)
  - l1 (x5)
  - l_url (x3)
  - l_url1 (x4)
  - l2 (x6)
  - l3 (x6)
  - l_x0 (x18)
  - l7a (x3)
  - l7b (x2)
  - today.year (x4)
  - l7d (x3)
  - l8a (x5)
  - l8d (x4)
  - l8c (x1)
  - l5 (x1)
  - l7c (x2)
  - l7e (x1)
  - l4 (x1)
  - has_sosa (x1)
  - l_v (x10)
  - has_children (x1)
  - index (x1)
  - access (x1)
  - laY (x1)
  - birth_date.year (x2)
  - l_gen (x2)
  - l_x1 (x2)
  - l_x2 (x4)
#}
<!-- $Id: templm/anclist_hrztl.txt v7.0 2015/07/13 15:50:49 $ -->
{% macro space(z1) %}
    {% for i in 0..z1 %}{% endfor %}
 
{% endmacro %}
{% macro line_a(z1, z2) %}
    {% if ( z1 > 0 ) %}
        z2      
        {% if ( z2 < 1000 ) %}
 
            {% if ( z2 < 100 ) %}
 
                {% if ( z2 < 10 ) %}{% endif %}
            {% endif %}
        {% endif %}
        {{ line_a(( z1 - 1) , ( z2 + 10 )) }}
    {% endif %}
{% endmacro %}
{% macro line_b(z1) %}
    {% for i in 0..z1 %}{% endfor %}
{% endmacro %}
{% macro line_c(z1) %}
    {% for i in 0..z1 %}_{% endfor %}
{% endmacro %}
{% macro line_d(z1) %}
    {% for i in 0..z1 %}¯{% endfor %}
{% endmacro %}
{% macro line_e(z1, z2) %}
    {% if ( z2 == 1 ) %}
        {% for i in 0..z1 %}‗{% endfor %}
    {% else %}
        {% for i in 0..z1 %}_{% endfor %}
    {% endif %}
{% endmacro %}
{% macro horizontally1(xx, curlev, ss1, ss2, ss3, z1) %}
    {% if ( curlev > 0 ) %}
        {% with %}
            {% set l1 = ("────") if (( curlev == evar.v )) else (("┌──") if (xx.is_male) else ("└──")) %}
            {% with %}
                {% set l2 = (("▶") if (xx.has_siblings) else (("▷") if (xx.has_parents) else ("◁"))) if (( browsing_with_sosa_ref and xx.has_sosa )) else (("▸") if (xx.has_siblings) else (("▹") if (xx.has_parents) else ("◃"))) %}
                {% with %}
                    {% set l3 = ((" "xx.sosa) if (l_has_sosa) else (" z1")".") if (( evar.sosa == "on" ))" " %}
                    {% if xx.has_parents %}
                        {{ horizontally1("xx.father", ( curlev - 1) , "ss1   ", "ss1 ", "ss1 │ ", ( z1 * 2 )) }}
                    {% endif %}
                    {% if ( not cancel_links ) %}
                        <tt>ss2{{ l1 }}<a href="{% if xx.has_parents %}{{ l_url }}{% else %}{{ l_url1 }}{% endif %}i={{ xx.index }}">{{ l2 }}</a></tt>
                        {% if ( xx.has_parents and ( curlev > 1 ) ) %}
                            {% if ( evar.marriage2 == "on" ) %}{# foreach not implemented yet #}{% endif %}
                        {% endif %}
                        {{ l3 }}<a href="/{{ xx.access }}">{{ xx }}</a>{{ xx.title }}{{ xx.dates }}
                        <br>
                    {% else %}
                        <tt>ss2{{ l1 }}{{ l2 }}</tt>
                        {% if ( xx.has_parents and ( curlev > 1 ) ) %}
                            {% if ( evar.marriage2 == "on" ) %}{# foreach not implemented yet #}{% endif %}
                        {% endif %}
                        {{ l3 }}{{ xx }}{{ xx.title }}{{ xx.dates }}
                        <br>
                    {% endif %}
                    {% if xx.has_parents %}
                        {{ horizontally1("xx.mother", ( curlev - 1) , "ss3 │ ", "ss3 ", "ss3   ", ( ( z1 * 2 ) + 1 )) }}
                    {% endif %}
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endif %}
{% endmacro %}
{% macro horizontally2(xx, curlev, ss1, ss2, ss3, z1) %}
    {% if ( curlev > 1 ) %}
        {% with %}
            {% set l1 = ("───") if (( curlev == evar.v )) else (("┌──") if (( ( z1 % 4 ) == 0 )) else ("└──")) %}
            {% with %}
                {% set l2 = ((("▶") if (xx.has_siblings) else ("▷")) if (( xx.father.has_parents and xx.mother.has_parents )) else ((("▲") if (xx.has_siblings) else ("△")) if (xx.father.has_parents) else ((("▼") if (xx.has_siblings) else ("▽")) if (xx.mother.has_parents) else (("◀") if (xx.has_siblings) else ("◁"))))) if (( browsing_with_sosa_ref and xx.father.has_sosa )) else ((("▸") if (xx.has_siblings) else ("▹")) if (( xx.father.has_parents and xx.mother.has_parents )) else ((("▴") if (xx.has_siblings) else ("▵")) if (xx.father.has_parents) else ((("▾") if (xx.has_siblings) else ("▿")) if (xx.mother.has_parents) else (("◂") if (xx.has_siblings) else ("◃"))))) %}
                {% with %}
                    {% set l3 = ((xx.father.sosa) if (l_has_sosa) else ("z1")".") if (( evar.sosa == "on" ))" " %}
                    {% if xx.father.has_parents %}
                        {{ horizontally2("xx.father", ( curlev - 1) , "ss1   ", "ss1", "ss1│  ", ( z1 * 2 )) }}
                    {% endif %}
                    {% if ( not cancel_links ) %}
                        ss2{{ l1 }}<a href="{% if ( xx.father.has_parents or xx.mother.has_parents ) %}{{ l_url }}xy=on;i={{ xx.index }}{% else %}{{ l_url1 }}i={{ xx.father.index }}{% endif %}">{{ l2 }}</a>{{ l3 }}
                        {% if ( xx.has_parents and ( curlev > 1 ) ) %}{# foreach not implemented yet #}{% endif %}{% else %}ss2{{ l1 }}{{ l2 }}{{ l3 }}{% if ( xx.has_parents and ( curlev > 1 ) ) %}{# foreach not implemented yet #}
                        {% endif %}
                    {% endif %}
                    {% if xx.mother.has_parents %}
                        {{ horizontally2("xx.mother", ( curlev - 1) , "ss3│  ", "ss3", "ss3   ", ( ( z1 * 2 ) + 2 )) }}
                    {% endif %}
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endif %}
{% endmacro %}
{% macro horizontally3(xx, curlev, ss1, ss2, ss3, z1) %}
    {% if ( curlev > 1 ) %}
        {% with %}
            {% set l1 = ("───") if (( curlev == evar.v )) else (("┌──") if (( ( z1 % 4 ) == 0 )) else ("└──")) %}
            {% with %}
                {% set l2 = ("▪") if (xx.has_siblings) else ("▫")("●") if (( browsing_with_sosa_ref and xx.father.has_sosa )) else ("─")(">") if (( xx.father.has_parents or xx.mother.has_parents )) else ("<") %}
                {% with %}
                    {% set l3 = space(( curlev - 2 )) %}
                    {% with %}
                        {% set l4 = ((xx.father.sosa) if (l_has_sosa) else ("z1")". ") if (( evar.sosa == "on" )) %}
                        {% with %}
                            {% set l5 = ("│  ") if (( xx.father.has_parents and ( curlev != 2 ) )) else ("   ") %}
                            {% with %}
                                {% set l6 = ("│  ") if (( xx.mother.has_parents and ( curlev != 2 ) )) else ("   ") %}
                                {% with %}
                                    {% set l7a = (xx.father.birth_date.year) if (( xx.father.birth_date.year > l_x0 )) else (l_x0) %}
                                    {% with %}
                                        {% set l7b = (( xx.father.birth_date.year - l_x0 )) if (( l7a > l_x0 )) else ("0") %}
                                        {% with %}
                                            {% set l7c = (line_b(l7b)) if (( l7b > 0 )) %}
                                            {% with %}
                                                {% set l7d = ((l_x0) if (( l_x0 >= xx.father.death_date.year )) else ((today.year) if (xx.father.computable_age) else ((xx.father.death_date.year) if (( xx.father.death_date.year >= xx.father.birth_date.year ))))) if (( xx.father.birth_date.year > 0 )) %}
                                                {% with %}
                                                    {% set l7e = (line_c(( ( l7d - l7a ) + 1 ))) if (( ( l7d > l_x0 ) and ( l7d >= l7a ) )) %}
                                                    {% with %}
                                                        {% set l8a = (xx.mother.birth_date.year) if (( xx.mother.birth_date.year > l_x0 )) else ((l_x0) if (( xx.mother.birth_date.year > 0 ))) %}
                                                        {% with %}
                                                            {% set l8b = (line_b(( xx.mother.birth_date.year - l_x0 ))) if (( l8a > l_x0 )) %}
                                                            {% with %}
                                                                {% set l8c = (line_d(( xx.birth_date.year - l8a ))"°") if (( xx.birth_date.year > l8a )) %}
                                                                {% with %}
                                                                    {% set l8d = ((l_x0) if (( l_x0 >= xx.mother.death_date.year )) else ((today.year) if (xx.mother.computable_age) else ((xx.mother.death_date.year) if (( xx.mother.death_date.year >= xx.mother.birth_date.year ))))) if (( xx.mother.birth_date.year > 0 )) %}
                                                                    {% with %}
                                                                        {% set l8e = ((line_d(( l8d - xx.birth_date.year ))) if (( l8c != "" )) else ((line_d(( ( l8d - l8a ) + 1 ))) if (( l8d >= l8a )))) if (( l8d > l_x0 )) %}
                                                                        {% if xx.father.has_parents %}
                                                                            {{ horizontally3("xx.father", ( curlev - 1) , "ss1   ", "ss1", "ss1│  ", ( z1 * 2 )) }}
                                                                        {% endif %}
                                                                        ss1{{ l5 }}{{ l3 }}{{ l7c }}{{ l7e }}
                                                                        <br>
                                                                        ss2{{ l1 }}
                                                                        {% if ( not cancel_links ) %}
                                                                            <a href="{% if ( xx.father.has_parents or xx.mother.has_parents ) %}{{ l_url }}i={{ xx.index }}{% else %}{{ l_url1 }}i={{ xx.father.index }}{% endif %}">{{ l2 }}</a>
                                                                        {% else %}
                                                                            {{ l2 }}
                                                                        {% endif %}
                                                                        {% if ( xx.has_parents and ( curlev > 1 ) ) %}{{ l3 }}{{ l7c }}{{ l4 }}{# foreach not implemented yet #}{% endif %}
                                                                        {% if xx.mother.has_parents %}
                                                                            {{ horizontally3("xx.mother", ( curlev - 1) , "ss3│  ", "ss3", "ss3   ", ( ( z1 * 2 ) + 2 )) }}
                                                                        {% endif %}
                                                                    {% endwith %}
                                                                {% endwith %}
                                                            {% endwith %}
                                                        {% endwith %}
                                                    {% endwith %}
                                                {% endwith %}
                                            {% endwith %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endwith %}
                            {% endwith %}
                        {% endwith %}
                    {% endwith %}
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endif %}
{% endmacro %}
{% with %}
    {% set l_sosa = ("1") if (( evar.sosa == "on" )) else ("0") %}
    {% with %}
        {% set l_has_sosa = has_sosa %}
        {% with %}
            {% set l_url = "/""m=A&t="evar.t"&"("tl1=hrztl&") if (( evar.t == "H" )) else (("t1=HT&") if (( evar.t == "T" )))"v="l_v"&maxv="evar.maxv"&marriage2="evar.marriage2"&sosa="evar.sosa"&xy="evar.xy"&siblings="evar.siblings"&timeline="evar.timeline"&gen="evar.gen"&" %}
            {% with %}
                {% set l_url1 = "/""m=D&t=L&tl1=hrztl&v="evar.v"&marriage2="evar.marriage2"&sosa="evar.sosa"&xy="evar.xy"&siblings="evar.siblings";timeline="evar.timeline";gen="evar.gen";" %}
                {% if ( ( not cancel_links ) and has_children ) %}
                    <div class="menu">
                        <span>
                            <a href="{{ l_url1 }}i={{ index }}" title="(Y)" accesskey="Y">{{ _("descendant tree view", variant='0') |capitalize }}</a>
                        </span>
                        <span>
                            <a id="anc_tree"
                               href="/m=A;t=T;v=4;image=on;marriage=on;{{ access }}"
                               {{ laY }}>{{ _("ascendants tree") |capitalize }}</a></span>
                    </div>
                {% endif %}
                {{ togen() }}
                {% if ( evar.timeline == "on" ) %}
                    {% with %}
                        {% set l_gen = (evar.gen) if (( ( evar.gen < 50 ) and ( evar.gen > 0 ) )) else ("40") %}
                        {% with %}
                            {% set l_x0 = (( 10 * ( ( birth_date.year - ( ( l_v - 1 ) * l_gen ) ) / 10 ) )) if (( birth_date.year > 0 )) else ("1900") %}
                            {% with %}
                                {% set l_x1 = ( ( 110 + ( ( l_v - 1 ) * l_gen ) ) / 10 ) %}
                                {% with %}
                                    {% set l_x2 = (l_x1) if (( ( l_x0 + ( l_x1 * 10 ) ) < today.year )) else (( ( ( today.year / 10 ) - ( l_x0 / 10 ) ) + 1 )) %}
                                    <p style="font-family:monospace;
                                              line-height:12pt;
                                              font-size:12pt;
                                              white-space:nowrap">
                                        {{ space(l_v) }}
                                        {% for i in 0..l_x2 %}0123456789{% endfor %}
                                        <br>
                                        {{ space(l_v) }}{{ line_a(l_x2, l_x0) }}
                                        <br>
                                        {{ horizontally3("self", l_v, "   ", "", "   ", 2) }}
                                        <br>
                                        {{ space(l_v) }}
                                        {% for i in 0..l_x2 %}0123456789{% endfor %}
                                        <br>
                                        {{ space(l_v) }}{{ line_a(l_x2, l_x0) }}
                                        <br>
                                    </p>
                                {% endwith %}
                            {% endwith %}
                        {% endwith %}
                    {% endwith %}
                {% else %}
                    {% if ( evar.xy == "on" ) %}
                        <p style="font-family:monospace;line-height:12pt;font-size:12pt;">
                            {{ horizontally2("self", l_v, "   ", "", "   ", 2) }}
                        </p>
                    {% else %}
                        <p style="line-height:12pt;font-size:12pt;">{{ horizontally1("self", l_v, "   ", "", "   ", 1) }}</p>
                    {% endif %}
                {% endif %}
            {% endwith %}
        {% endwith %}
    {% endwith %}
{% endwith %}

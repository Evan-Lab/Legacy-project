{# 
  Generated by JinjaGenerator for template 'table_utils'
    at 2025-10-29T22:35:09.083816

  Used macros:
  - rm(ccc, ttt)
  - rm3(ccc, ddd, eee)
  - table_header()
  - popover_params(xxx)
  - date_popup(xxx, yyy, fff)
  - place_title(xxx, yyy, mmm)
  - place_popup(xxx, yyy, fff)

  Used includes:
  None

  Used variables:
  - e.ccc (x2)
  - e.ddd (x1)
  - e.num (x1)
  - e.m (x6)
  - e.birth (x4)
  - e.birth_place (x4)
  - e.baptism (x4)
  - e.baptism_place (x4)
  - e.marr (x3)
  - e.t (x3)
  - e.marr_date (x13)
  - e.marr_place (x13)
  - e.child (x12)
  - e.death (x4)
  - e.death_place (x4)
  - e.burial (x4)
  - e.burial_place (x4)
  - e.age (x1)
  - e.occu (x1)
  - e.yyy (x5)
  - e.hl (x2)
  - e.yyy_place (x1)
  - e.ns (x5)
  - reset_count (x1)
  - incr_count (x27)
  - xxx.is_dead (x5)
  - xxx.nb_families (x4)
  - xxx.has_yyy_date (x5)
  - xxx.yyy_date.month (x1)
  - xxx.yyy_date.day (x1)
  - xxx.yyy_date.prec (x3)
  - xxx.index (x1)
  - xxx.first_name (x1)
  - xxx.surname (x1)
  - xxx.occ (x2)
  - xxx.yyy_date (x1)
  - xxx.slash_yyy_date (x2)
  - xxx.has_yyy_note (x7)
  - xxx.has_yyy_source (x8)
  - xxx.has_yyy_place (x2)
  - xxx.yyy_note (x1)
  - xxx.yyy_source (x1)
  - xxx.yyy_place (x1)
  - fff (x2)
  - sp (x4)
  - cancel_links (x3)
  - wizard (x3)
  - symb (x3)
  - mmm (x2)
  - nb_families (x1)
#}

{% macro rm(ccc, ttt) %}
    {% if e.ccc == "on" %}
        <a role="button"
           class="stretched-link"
           href="{{ url_set("ccc") }}"
           title="{% if "ttt" != "" %}ttt&#010;&#010;{% endif %}{{ _("remove %s column:::ccc") |capitalize }}"></a>
    {% endif %}
{% endmacro %}
{% macro rm3(ccc, ddd, eee) %}
    {% if e.ccc == "on" and e.ddd == "on" %}
        <a role="button"
           class="stretched-link"
           href="{{ url_set("ccc/ddd"+("/eee") if ("eee" != "")) }}"
           title="{% if "eee" == "" %}{{ _("remove %s column:::ccc+ddd") |capitalize }}{% else %}{{ _("remove %s column:::ccc+ddd+eee") |capitalize }}{% endif %}"></a>
    {% endif %}
{% endmacro %}
{% macro table_header() %}
    <thead>
        <tr class="align-middle">
            {{ reset_count }}
            {% if e.num == "on" %}
                <th scope="col"
                    class="text-center align-middle position-relative"
                    rowspan="2">
                    №{{ rm("num", (_('d\'Aboville')|capitalize) if (e.m == "D") else ((_('Sosa number')) if (e.m == "A"))) }}
                </th>
                {{ incr_count }}
            {% endif %}
            <th scope="col" class="pl-2 align-middle no-hover" rowspan="2">{{ _('person/persons', variant='0')|capitalize }}</th>
            {{ incr_count }}
            {% if e.birth == "on" and e.birth_place == "on" %}
                <th class="text-center position-relative" colspan="2">
                    {{ _('birth')|capitalize }}
                    {{ rm3("birth", "birth_place") }}
                </th>
                {{ incr_count }}{{ incr_count }}
            {% else %}
                {% if e.birth == "on" and e.birth_place != "on" %}
                    <th scope="col"
                        class="text-center align-middle position-relative"
                        rowspan="2">
                        {{ _('date of birth')|capitalize }}
                        {{ rm("birth") }}
                    </th>
                    {{ incr_count }}
                {% else %}
                    {% if e.birth != "on" and e.birth_place == "on" %}
                        <th scope="col"
                            class="text-center align-middle position-relative"
                            rowspan="2">
                            {{ _('birth place', variant='0')|capitalize }}
                            {{ rm("birth_place") }}
                        </th>
                        {{ incr_count }}
                    {% endif %}
                {% endif %}
            {% endif %}
            {% if e.baptism == "on" and e.baptism_place == "on" %}
                <th class="text-center position-relative" colspan="2">
                    {{ _('baptism')|capitalize }}
                    {{ rm3("baptism", "baptism_place") }}
                </th>
                {{ incr_count }}{{ incr_count }}
            {% else %}
                {% if e.baptism == "on" and e.baptism_place != "on" %}
                    <th scope="row"
                        class="text-center align-middle position-relative"
                        rowspan="2">
                        {{ _('date of baptism')|capitalize }}
                        {{ rm("baptism") }}
                    </th>
                    {{ incr_count }}
                {% else %}
                    {% if e.baptism != "on" and e.baptism_place == "on" %}
                        <th scope="row"
                            class="text-center align-middle position-relative"
                            rowspan="2">
                            {{ _('baptism place')|capitalize }}
                            {{ rm("baptism_place") }}
                        </th>
                        {{ incr_count }}
                    {% endif %}
                {% endif %}
            {% endif %}
            {% if e.marr == "on" and e.m == "A" or e.m == "D" and e.t == "H" %}
                <th scope="col" class="pl-2 align-middle position-relative" rowspan="2">
                    {{ _('spouse/spouses', variant='1')|capitalize }}
                    {{ rm("marr") }}
                </th>
                {{ incr_count }}
            {% endif %}
            {% if e.marr_date == "on" and e.marr_place == "on" or e.marr_date == "on" and e.child == "on" or e.marr_place == "on" and e.child == "on" %}
                <th class="text-center position-relative"
                    colspan="{% if e.marr_date == "on" and e.marr_place == "on" and e.child == "on" %}3{% else %}2{% endif %}">
                    {{ _('marriage/marriages', variant='0')|capitalize }}
                    {{ rm3("marr_date", "marr_place", "child") }}
                </th>
                {% if e.marr_date == "on" and e.marr_place == "on" and e.child == "on" %}{{ incr_count }}{% endif %}
                {{ incr_count }}{{ incr_count }}
            {% else %}
                {% if e.marr_date == "on" and e.marr_place != "on" and e.child != "on" %}
                    <th scope="col"
                        class="text-center align-middle position-relative"
                        rowspan="2">
                        {{ _('date of marriage')|capitalize }}
                        {{ rm("marr_date") }}
                    </th>
                    {{ incr_count }}
                {% else %}
                    {% if e.marr_date != "on" and e.marr_place == "on" and e.child != "on" %}
                        <th scope="col"
                            class="text-center align-middle text-middle position-relative"
                            rowspan="2">
                            {{ _('marriage place')|capitalize }}
                            {{ rm("marr_place") }}
                        </th>
                        {{ incr_count }}
                    {% else %}
                        {% if e.marr_date != "on" and e.marr_place != "on" and e.child == "on" %}
                            <th scope="col"
                                class="text-center align-middel position-relative"
                                rowspan="2">
                                <i class="fa fa-child"></i>
                                {{ rm("child", _('nb children')|capitalize+"/"+_('nb children')+" "+_('total')) }}
                            </th>
                            {{ incr_count }}
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endif %}
            {% if e.death == "on" and e.death_place == "on" %}
                <th class="text-center position-relative" colspan="2">
                    {{ _('death')|capitalize }}
                    {{ rm3("death", "death_place") }}
                </th>
                {{ incr_count }}{{ incr_count }}
            {% else %}
                {% if e.death == "on" and e.death_place != "on" %}
                    <th scope="col" class="text-center position-relative" rowspan="2">
                        {{ _('date of death')|capitalize }}
                        {{ rm("death") }}
                    </th>
                    {{ incr_count }}
                {% else %}
                    {% if e.death != "on" and e.death_place == "on" %}
                        <th scope="col" class="text-center position-relative" rowspan="2">
                            {{ _('death place')|capitalize }}
                            {{ rm("death_place") }}
                        </th>
                        {{ incr_count }}
                    {% endif %}
                {% endif %}
            {% endif %}
            {% if e.burial == "on" and e.burial_place == "on" %}
                <th class="text-center position-relative" colspan="2">
                    {{ _('burial')|capitalize }}
                    {{ rm3("burial", "burial_place") }}
                </th>
                {{ incr_count }}{{ incr_count }}
            {% else %}
                {% if e.burial == "on" and e.burial_place != "on" %}
                    <th scope="col" class="text-center position-relative" rowspan="2">
                        {{ _('date of burial')|capitalize }}
                        {{ rm("burial") }}
                    </th>
                    {{ incr_count }}
                {% else %}
                    {% if e.burial != "on" and e.burial_place == "on" %}
                        <th scope="col" class="text-center position-relative" rowspan="2">
                            {{ _('burial place')|capitalize }}
                            {{ rm("burial_place") }}
                        </th>
                        {{ incr_count }}
                    {% endif %}
                {% endif %}
            {% endif %}
            {% if e.age == "on" %}
                <th scope="col"
                    class="align-middle text-center position-relative"
                    rowspan="2">
                    {{ _('age')|capitalize }}
                    {{ rm("age") }}
                </th>
                {{ incr_count }}
            {% endif %}
            {% if e.occu == "on" %}
                <th scope="col" class="pl-2 align-middle position-relative" rowspan="2">
                    {{ _('occupation/occupations', variant='1')|capitalize }}
                    {{ rm("occu") }}
                </th>
                {{ incr_count }}
            {% endif %}
        </tr>
        <tr>
            {% if e.birth == "on" and e.birth_place == "on" %}
                <th class="text-right pr-2 position-relative">
                    {{ _('date/dates', variant='0')|capitalize }}
                    {{ rm("birth", _('date of birth')|capitalize) }}
                </th>
                <th class="pl-2 position-relative">
                    {{ _('place/places', variant='0')|capitalize }}
                    {{ rm("birth_place", _('birth place')|capitalize) }}
                </th>
            {% endif %}
            {% if e.baptism == "on" and e.baptism_place == "on" %}
                <th class="text-right pr-2 position-relative"
                    title="{{ _('date of baptism')|capitalize }}">
                    {{ _('date/dates', variant='0')|capitalize }}
                    {{ rm("baptism", _('date of baptism')|capitalize) }}
                </th>
                <th class="pl-2 position-relative">
                    {{ _('place/places', variant='0')|capitalize }}
                    {{ rm("baptism_place", _('baptism place')|capitalize) }}
                </th>
            {% endif %}
            {% if e.marr_date == "on" and e.marr_place == "on" or e.marr_date == "on" and e.child == "on" or e.marr_place == "on" and e.child == "on" %}
                {% if e.marr_date == "on" %}
                    <th class="{% if e.marr_place != "on" %}text-center{% else %}text-right pr-2{% endif %} position-relative">
                        {{ _('date/dates', variant='0')|capitalize }} {{ rm("marr_date", _('date of marriage')|capitalize) }}
                    </th>
                {% endif %}
                {% if e.marr_place == "on" %}
                    <th class="{% if e.marr_date != "on" %}text-center{% else %}pl-2{% endif %} position-relative">
                        {{ _('place/places', variant='0')|capitalize }} {{ rm("marr_place", _('marriage place')|capitalize) }}
                    </th>
                {% endif %}
                {% if e.child == "on" %}
                    <th class="text-center px-2 position-relative">
                        <i class="fa fa-child"></i>
                        {{ rm("child", _('nb children')|capitalize+"/"+_('nb children')+" "+_('total')) }}
                    </th>
                {% endif %}
            {% endif %}
            {% if e.death == "on" and e.death_place == "on" %}
                <th class="text-right pr-2 position-relative">
                    {{ _('date/dates', variant='0')|capitalize }}
                    {{ rm("death", _('date of death')|capitalize) }}
                </th>
                <th class="pl-2 position-relative">
                    {{ _('place/places', variant='0')|capitalize }}
                    {{ rm("death_place", _('death place')|capitalize) }}
                </th>
            {% endif %}
            {% if e.burial == "on" and e.burial_place == "on" %}
                <th class="text-right pr-2 position-relative">
                    {{ _('date/dates', variant='0')|capitalize }}
                    {{ rm("burial", _('date of burial')|capitalize) }}
                </th>
                <th class="pl-2 position-relative">
                    {{ _('place/places', variant='0')|capitalize }}
                    {{ rm("burial_place", _('burial place')|capitalize) }}
                </th>
            {% endif %}
        </tr>
    </thead>
{% endmacro %}
{% macro popover_params(xxx) %}
    data-toggle="popover" data-selector="true"
    {% if "xxx" != "" %}data-placement="xxx"{% endif %}
{% endmacro %}
{% macro date_popup(xxx, yyy, fff) %}
    {% with %}
        {% set xxx = ("ancestor") if (e.m == "A") else (("self") if (e.m == "D")) %}
        {% with %}
            {% set symb = ("°") if ("yyy" == "birth") else (("†") if ("yyy" == "death" and xxx.is_dead)) %}
            {% if e.yyy == "on" and "xxx" == "ancestor" or "xxx" != "ancestor" and fff == 1 %}
                <td {{ sp }}
                    {% if "xxx" == "ancestor" or "xxx" != "ancestor" and e.t == "H" and xxx.nb_families > 1 and e.marr == "on" or e.marr_date == "on" or e.marr_place == "on" or e.child == "on" %}rowspan="{{ xxx.nb_families }}" {% endif %}
                    class="align-middle text-right{% if not cancel_links %} table_big_cell{% endif %}{% if e.hl == 1 %}{% if not xxx.has_yyy_date or xxx.yyy_date.month == "" or xxx.yyy_date.day == "" or xxx.yyy_date.prec != "" and "yyy" == "birth" or xxx.is_dead and "yyy" == "death" %} bg-ly-incomplete {% else %}{% if not xxx.is_dead and "yyy" == "death" %} bg-lg{% endif %}{% endif %}{% endif %}">
                    {% if wizard and not cancel_links %}
                        <a class="d-block table_big_anchor"
                           href="/m=MOD_IND&i={{ xxx.index }}#yyy"
                           title="{% if xxx.has_yyy_date %}{{ _('update::yyy')|capitalize }}{% else %}{{ _('add::yyy')|capitalize }}{% endif %}&#010; {{ xxx.first_name }} {{ xxx.surname }} {% if xxx.occ > 0 %}({{ xxx.occ }}){% endif %}&#010; {% if xxx.has_yyy_date and xxx.yyy_date.prec == "" or xxx.yyy_date.prec == "?" %}{{ symb }} {{ xxx.yyy_date }}{% endif %}">
                            {% if xxx.has_yyy_date %}
                                {{ xxx.slash_yyy_date }}
                            {% else %}
                                {{ symb }}
                            {% endif %}
                        </a>
                    {% else %}
                        {% if xxx.has_yyy_date %}
                            {{ xxx.slash_yyy_date }}
                        {% else %}
                            {% if not cancel_links %}{{ symb }}{% endif %}
                        {% endif %}
                    {% endif %}
                </td>
            {% endif %}
        {% endwith %}
    {% endwith %}
{% endmacro %}
{% macro place_title(xxx, yyy, mmm) %}
    {{ a_of_b(((_('note/notes', variant='1')|capitalize) if (mmm == 1) else (_('note/notes', variant='1'))+(" "+_('and')+" "+_('source/sources', variant='1')) if (xxx.has_yyy_source)) if (xxx.has_yyy_note) else (((_('source/sources', variant='1')|capitalize) if (mmm == 1) else (_('source/sources', variant='1'))) if (xxx.has_yyy_source)), _('yyy')) }}
{% endmacro %}
{% macro place_popup(xxx, yyy, fff) %}
    {% if e.yyy_place == "on" and "xxx" == "ancestor" or "xxx" != "ancestor" and fff == 1 %}
        <td {{ sp }}{% if "xxx" == "ancestor" or "xxx" != "ancestor" and e.t == "H" and nb_families > 1 and xxx.nb_families > 1 and e.marr == "on" or e.marr_date == "on" or e.marr_place == "on" or e.child == "on" %}rowspan="{{ xxx.nb_families }}" {% endif %}class="align-middle{% if e.ns == 1 %}{% if xxx.has_yyy_note %} note{% if xxx.has_yyy_source %}source{% endif %}{% else %}{% if xxx.has_yyy_source %} source{% endif %}{% endif %}{% endif %}{% if e.hl == 1 %}{% if not xxx.has_yyy_place and "yyy" == "birth" or xxx.is_dead and "yyy" == "death" %} bg-ly-incomplete {% else %}{% if not xxx.is_dead and "yyy" == "death" %} bg-lg{% endif %}{% endif %}{% endif %}" {% if e.ns == 1 or e.yyy == "on" %}title="{{ _('click')|capitalize }}{{ sp }}{% endif %}{% if e.ns == 1 and xxx.has_yyy_source or xxx.has_yyy_note %}{{ _('notes sources show help') }}{{ sp }}{% if xxx.has_yyy_note or xxx.has_yyy_source %}{{ place_title("xxx", "yyy", 0) }}{% endif %}{% if e.yyy == "on" and wizard %}&#010;{{ _('or') }} {% endif %}{% endif %}{% if e.yyy == "on" and wizard %}{{ _('notes sources edit on date') }}{% endif %}{% if e.ns == 1 or e.yyy == "on" %}."{% endif %}{% if e.ns == 1 and xxx.has_yyy_note or xxx.has_yyy_source %} tabindex="0" {{ popover_params("bottom") }}data-content='{% if xxx.has_yyy_note %}{{ clean_comment_tags(capitalize(xxx.yyy_note) ) }}{% endif %}{% if xxx.has_yyy_source %}{% if xxx.has_yyy_note %}<hr>
        {% endif %}
        {{ clean_comment_tags(capitalize(xxx.yyy_source) ) }}
    {% endif %}
    ' data-title="{{ place_title('xxx', 'yyy', 1) }}"
{% endif %}
>
{% if xxx.has_yyy_place %}{{ xxx.yyy_place }}{% endif %}
</td>
{% endif %}
{% endmacro %}

{# 
  Generated by JinjaGenerator for template 'templm/ancdes_bmdm'
    at 2025-10-26T20:25:16.329953

  Used macros:
  - lex_month(xx)
  - lex_week_day(xx)
  - lex_moon_age(xx)
  - stat_anc(z1, z2)
  - stat_des(z1, z2, curlev, maxlev)
  - stat1a(z1, z2, z3)
  - stat1b(z1)
  - stat1(z1, z2, z3)
  - stat_month(z1, z2)
  - stat_week_day(z1, z2)
  - stat_moon_age(z1, z2)

  Used includes:
  None

  Used variables:
  - lmxx (x1)
  - ldxx (x1)
  - xx (x4)
  - z1 (x3)
  - z2 (x2)
  - sex (x2)
  - incr_count (x1)
  - l1 (x1)
  - index (x1)
  - reset_count (x14)
  - cancel_links (x1)
  - l_max_dates (x1)
  - count (x2)
  - l_v (x3)
  - lm1 (x1)
  - lm2 (x1)
  - lm3 (x1)
  - lm4 (x1)
  - lm5 (x1)
  - lm6 (x1)
  - lm7 (x1)
  - lm8 (x1)
  - lm9 (x1)
  - lm10 (x1)
  - lm11 (x1)
  - lm12 (x1)
  - l_legend (x3)
  - ld0 (x1)
  - ld1 (x1)
  - ld2 (x1)
  - ld3 (x1)
  - ld4 (x1)
  - ld5 (x1)
  - ld6 (x1)
  - evar.m (x3)
  - empty_sorted_list (x12)
  - reset_desc_level (x6)
  - version (x1)
#}
<!-- $Id: templm/ancdes_bmdm.txt v7.0 2015/01/23 14:37:11 $ -->
{% with %}
    {% set lm1 = _("(month)", variant='0') %}
    {% with %}
        {% set lm2 = _("(month)", variant='1') %}
        {% with %}
            {% set lm3 = _("(month)", variant='2') %}
            {% with %}
                {% set lm4 = _("(month)", variant='3') %}
                {% with %}
                    {% set lm5 = _("(month)", variant='4') %}
                    {% with %}
                        {% set lm6 = _("(month)", variant='5') %}
                        {% with %}
                            {% set lm7 = _("(month)", variant='6') %}
                            {% with %}
                                {% set lm8 = _("(month)", variant='7') %}
                                {% with %}
                                    {% set lm9 = _("(month)", variant='8') %}
                                    {% with %}
                                        {% set lm10 = _("(month)", variant='9') %}
                                        {% with %}
                                            {% set lm11 = _("(month)", variant='10') %}
                                            {% with %}
                                                {% set lm12 = _("(month)", variant='11') %}
                                                {% with %}
                                                    {% set ld0 = _("(week day)", variant='0') %}
                                                    {% with %}
                                                        {% set ld1 = _("(week day)", variant='1') %}
                                                        {% with %}
                                                            {% set ld2 = _("(week day)", variant='2') %}
                                                            {% with %}
                                                                {% set ld3 = _("(week day)", variant='3') %}
                                                                {% with %}
                                                                    {% set ld4 = _("(week day)", variant='4') %}
                                                                    {% with %}
                                                                        {% set ld5 = _("(week day)", variant='5') %}
                                                                        {% with %}
                                                                            {% set ld6 = _("(week day)", variant='6') %}
                                                                            {% macro lex_month(xx) %}
                                                                                {{ lmxx }}
                                                                            {% endmacro %}
                                                                            {% macro lex_week_day(xx) %}
                                                                                {{ ldxx }}
                                                                            {% endmacro %}
                                                                            {% macro lex_moon_age(xx) %}
                                                                                xx
                                                                                {% if ( xx == 1 ) %}
                                                                                    , {{ _("moon age/new moon/first quarter/full moon/last quarter", variant='1') }}
                                                                                {% else %}
                                                                                    {% if ( xx == 8 ) %}
                                                                                        , {{ _("moon age/new moon/first quarter/full moon/last quarter", variant='2') }}
                                                                                    {% else %}
                                                                                        {% if ( xx == 16 ) %}
                                                                                            , {{ _("moon age/new moon/first quarter/full moon/last quarter", variant='3') }}
                                                                                        {% else %}
                                                                                            {% if ( xx == 24 ) %}, {{ _("moon age/new moon/first quarter/full moon/last quarter", variant='4') }}{% endif %}
                                                                                        {% endif %}
                                                                                    {% endif %}
                                                                                {% endif %}
                                                                            {% endmacro %}
                                                                            {% macro stat_anc(z1, z2) %}
                                                                                {# foreach not implemented yet #}{% endmacro %}{% macro stat_des(z1, z2, curlev, maxlev) %}{% if ( ( z1 != "" ) and ( ( z2 != "" ) and ( sex != 2 ) ) ) %}{% with %}{% set l1 = z2 %}{{ incr_count }}{{ add_in_sorted_list(sex, l1, index) }}{% endwith %}{% endif %}{# foreach not implemented yet #}{% endmacro %}{% macro stat1a(z1, z2, z3) %}{{ reset_count }}{# foreach not implemented yet #}{% endmacro %}{% macro stat1b(z1) %}{{ reset_count }}{# foreach not implemented yet #}
                                                                            {% endmacro %}
                                                                            {% macro stat1(z1, z2, z3) %}
                                                                                {% if ( ( not cancel_links ) and ( l_max_dates > count ) ) %}
                                                                                    {{ stat1a(z1, "z2", "z3") }}
                                                                                {% else %}
                                                                                    {{ stat1b(z1) }}
                                                                                {% endif %}
                                                                            {% endmacro %}
                                                                            {% macro stat_month(z1, z2) %}
                                                                                {% if ( "z1" == "anc" ) %}
                                                                                    {{ stat_anc('ancestor.z2_date.day', 'ancestor.z2_date.month') }}
                                                                                {% else %}
                                                                                    {{ stat_des("z2_date.day", "z2_date.month", 0, l_v) }}
                                                                                {% endif %}
                                                                                <div class="s1 bcbg2">
                                                                                    <span class="s2">{{ _("z2") |capitalize }}</span>
                                                                                    <span class="s3">{{ count }}Â {{ _("date/dates", variant='1') }}</span>
                                                                                </div>
                                                                                <div class="s1 bcbg1" style="height:12em;">
                                                                                    <span class="st4" style="top:1em;">{{ lm1 }}</span>
                                                                                    <span class="st4" style="top:2em;">{{ lm2 }}</span>
                                                                                    <span class="st4" style="top:3em;">{{ lm3 }}</span>
                                                                                    <span class="st4" style="top:4em;">{{ lm4 }}</span>
                                                                                    <span class="st4" style="top:5em;">{{ lm5 }}</span>
                                                                                    <span class="st4" style="top:6em;">{{ lm6 }}</span>
                                                                                    <span class="st4" style="top:7em;">{{ lm7 }}</span>
                                                                                    <span class="st4" style="top:8em;">{{ lm8 }}</span>
                                                                                    <span class="st4" style="top:9em;">{{ lm9 }}</span>
                                                                                    <span class="st4" style="top:10em;">{{ lm10 }}</span>
                                                                                    <span class="st4" style="top:11em;">{{ lm11 }}</span>
                                                                                    <span class="st4" style="top:12em;">{{ lm12 }}</span>
                                                                                    {% with %}
                                                                                        {% set l_legend = _("z2")|capitalize", "_("year/month/day", variant='1') %}{{ stat1(0, l_legend, "lex_month") }}
                                                                                    </div>
                                                                                {% endwith %}
                                                                            {% endmacro %}
                                                                            {% macro stat_week_day(z1, z2) %}
                                                                                {% if ( "z1" == "anc" ) %}
                                                                                    {{ stat_anc('ancestor.z2_date.day', 'ancestor.z2_date.date.week_day') }}
                                                                                {% else %}
                                                                                    {{ stat_des("z2_date.day", "z2_date.date.week_day", 0, l_v) }}
                                                                                {% endif %}
                                                                                <div class="s1 bcbg1" style="height:8em;">
                                                                                    <span class="st4" style="top:1em;">{{ ld0 }}</span>
                                                                                    <span class="st4" style="top:2em;">{{ ld1 }}</span>
                                                                                    <span class="st4" style="top:3em;">{{ ld2 }}</span>
                                                                                    <span class="st4" style="top:4em;">{{ ld3 }}</span>
                                                                                    <span class="st4" style="top:5em;">{{ ld4 }}</span>
                                                                                    <span class="st4" style="top:6em;">{{ ld5 }}</span>
                                                                                    <span class="st4" style="top:7em;">{{ ld6 }}</span>
                                                                                    {% with %}
                                                                                        {% set l_legend = _("z2")|capitalize", "_("year/month/day", variant='2') %}{{ stat1(1, l_legend, "lex_week_day") }}
                                                                                    </div>
                                                                                {% endwith %}
                                                                            {% endmacro %}
                                                                            {% macro stat_moon_age(z1, z2) %}
                                                                                {% if ( "z1" == "anc" ) %}
                                                                                    {{ stat_anc('ancestor.z2_date.day', 'ancestor.z2_date.date.moon_age') }}
                                                                                {% else %}
                                                                                    {{ stat_des("z2_date.day", "z2_date.date.moon_age", 0, l_v) }}
                                                                                {% endif %}
                                                                                <div class="s1 bcbg1" style="height:28em;">
                                                                                    <span class="st4" style="top:1em;">{{ _("moon age/new moon/first quarter/full moon/last quarter", variant='1') }}</span>
                                                                                    <span class="st4" style="top:8em;">{{ _("moon age/new moon/first quarter/full moon/last quarter", variant='2') }}</span>
                                                                                    <span class="st4" style="top:16em;">{{ _("moon age/new moon/first quarter/full moon/last quarter", variant='3') }}</span>
                                                                                    <span class="st4" style="top:24em;">{{ _("moon age/new moon/first quarter/full moon/last quarter", variant='4') }}</span>
                                                                                    {% with %}
                                                                                        {% set l_legend = _("z2")|capitalize", "_("moon age/new moon/first quarter/full moon/last quarter", variant='0') %}{{ stat1(0, l_legend, "lex_moon_age") }}
                                                                                    </div>
                                                                                {% endwith %}
                                                                            {% endmacro %}
                                                                            {% with %}
                                                                                {% set l_max_width = "180" %}{{ togen() }}
                                                                                <table class="bmdm">
                                                                                    <tr>
                                                                                        {% if ( evar.m == "A" ) %}
                                                                                            <td>{{ reset_count }}{{ empty_sorted_list }}{{ stat_month('anc', 'birth') }}</td>
                                                                                            <td>{{ reset_count }}{{ empty_sorted_list }}{{ stat_month('anc', 'death') }}</td>
                                                                                        {% else %}
                                                                                            <td>{{ reset_count }}{{ reset_desc_level }}{{ empty_sorted_list }}{{ stat_month('des', 'birth') }}</td>
                                                                                            <td>{{ reset_count }}{{ reset_desc_level }}{{ empty_sorted_list }}{{ stat_month('des', 'death') }}</td>
                                                                                        {% endif %}
                                                                                    </tr>
                                                                                    {% if ( version == "7.00 - gwmr" ) %}
                                                                                        <tr>
                                                                                            {% if ( evar.m == "A" ) %}
                                                                                                <td>{{ reset_count }}{{ empty_sorted_list }}{{ stat_week_day('anc', 'birth') }}</td>
                                                                                                <td>{{ reset_count }}{{ empty_sorted_list }}{{ stat_week_day('anc', 'death') }}</td>
                                                                                            {% else %}
                                                                                                <td>{{ reset_count }}{{ reset_desc_level }}{{ empty_sorted_list }}{{ stat_week_day('des', 'birth') }}</td>
                                                                                                <td>{{ reset_count }}{{ reset_desc_level }}{{ empty_sorted_list }}{{ stat_week_day('des', 'death') }}</td>
                                                                                            {% endif %}
                                                                                        </tr>
                                                                                        <tr>
                                                                                            {% if ( evar.m == "A" ) %}
                                                                                                <td>{{ reset_count }}{{ empty_sorted_list }}{{ stat_moon_age('anc', 'birth') }}</td>
                                                                                                <td>{{ reset_count }}{{ empty_sorted_list }}{{ stat_moon_age('anc', 'death') }}</td>
                                                                                            {% else %}
                                                                                                <td>{{ reset_count }}{{ reset_desc_level }}{{ empty_sorted_list }}{{ stat_moon_age('des', 'birth') }}</td>
                                                                                                <td>{{ reset_count }}{{ reset_desc_level }}{{ empty_sorted_list }}{{ stat_moon_age('des', 'death') }}</td>
                                                                                            {% endif %}
                                                                                        </tr>
                                                                                    {% endif %}
                                                                                </table>
                                                                            {% endwith %}
                                                                        {% endwith %}
                                                                    {% endwith %}
                                                                {% endwith %}
                                                            {% endwith %}
                                                        {% endwith %}
                                                    {% endwith %}
                                                {% endwith %}
                                            {% endwith %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endwith %}
                            {% endwith %}
                        {% endwith %}
                    {% endwith %}
                {% endwith %}
            {% endwith %}
        {% endwith %}
    {% endwith %}
{% endwith %}

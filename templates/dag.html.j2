{# 
  Generated by JinjaGenerator for template 'dag'
    at 2025-10-29T22:34:59.765584

  Used macros:
  - of(xxx)

  Used includes:
  - css
  - hed
  - home
  - buttons_dag
  - buttons_rel
  - trl
  - js

  Used variables:
  - lang (x1)
  - e.slices (x4)
  - e.p (x1)
  - e.n (x4)
  - e.oc (x2)
  - e.m (x13)
  - e.t (x1)
  - e.sn (x4)
  - e.em (x1)
  - e.select (x2)
  - e.fn (x3)
  - e.v (x4)
  - e.oi (x1)
  - e.dag (x1)
  - e.notab (x1)
  - e.pos2 (x3)
  - e.dpos (x2)
  - e.pos1 (x2)
  - e.overlap (x2)
  - head_title (x1)
  - body_prop (x1)
  - message_to_wizard (x1)
  - prefix_base_password (x3)
  - person_index.e.first_name (x1)
  - person_index.e.surname (x1)
  - person_index.x.first_name (x2)
  - person_index.x.surname (x2)
  - person_index[1].first_name (x1)
  - person_index[1].surname (x1)
  - person_index[2].first_name (x1)
  - person_index[2].surname (x1)
  - sp (x2)
  - cancel_links (x2)
  - action (x1)
  - hidden (x1)
  - left (x4)
  - right (x4)
  - dag.max_wid (x3)
  - dag.min_wid (x2)
  - dag.ncol (x2)
  - link_next (x1)
  - dpos (x3)
  - pos1 (x4)
  - pos2 (x4)
  - overlap (x4)
  - nl (x2)
  - query_time (x1)
#}

<!DOCTYPE html>
<html lang="{{ lang }}">
    <head>
        <!-- $Id: dag.txt v7.1 18/08/2023 15:06:13 $ -->
        <!-- Copyright (c) 1998-2007 INRIA -->
        <title>
            {% if e.slices == "on" %}
                {{ _('display by slices/slice width/overlap/total width', variant='0') |capitalize }}
            {% else %}
                {{ capitalize(head_title) }}
            {% endif %}
        </title>
        <meta name="robots" content="none">
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon"
              href="{{ url_for("static", path="images/favicon_gwd.png") }}">
        {% include 'css.html.j2' %}
    </head>
    <body {{ body_prop }}>
        {% include 'hed.html.j2' %}
        {{ message_to_wizard }}
        {% with %}
            {% set prefix_a = prefix_base_password+"&p="+e.p+"&n="+e.n+("&oc="+e.oc) if (e.oc != "") %}
            <div class="container-fluid">
                {% include 'home.html.j2' %}
                {% macro of(xxx) %}
                    {{ _("of%s:::xxx") }}
                {% endmacro %}
                <h3 class="mt-2 ml-3 text-no-wrap">
                    {% if e.slices == "on" %}
                        {{ _('display by slices/slice width/overlap/total width', variant='0') |capitalize }}
                    {% else %}
                        {% if e.m == "D" %}
                            {% if e.t == "TV" %}
                                {{ _("compact descendants tree") |capitalize }}
                            {% else %}
                                {{ _("descendants tree") |capitalize }}
                            {% endif %}
                        {% else %}
                            {% if e.m == "A" %}
                                {{ _("ascendants tree") |capitalize }}
                            {% else %}
                                {% if e.m == "RLM" %}
                                    {{ _("multi relations graph") |capitalize }}
                                {% else %}
                                    {% if e.m == "DAG" %}
                                        {{ _("surnames branch") |capitalize }}{{ _(":") }} {{ e.sn }}
                                    {% else %}
                                        {% if e.em == "R" %}
                                            {{ _("path between") |capitalize }}
                                            {{ person_index.e.first_name }} {{ person_index.e.surname }}{{ sp }}{{ _("and") }}
                                            {% if e.select == "input" and e.n != "" and e.fn == "" and e.sn == "" %}
                                                {{ capitalize_words(e.n) }}
                                            {% else %}
                                                {% if e.select == "input" and e.n == "" and e.fn != "" or e.sn != "" %}
                                                    {{ capitalize_words(e.fn) }} {{ capitalize_words(e.sn) }}
                                                {% else %}
                                                    {{ person_index.x.first_name }} {{ person_index.x.surname }}
                                                {% endif %}
                                            {% endif %}
                                        {% else %}
                                            {% if e.m == "RL" %}
                                                {{ _("path between") |capitalize }}
                                                {{ person_index[1].first_name }} {{ person_index[1].surname }}{{ sp }}{{ _("and") }}
                                                {{ person_index[2].first_name }} {{ person_index[2].surname }}
                                            {% else %}
                                                {{ _("shortest path") |capitalize }}
                                            {% endif %}
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                    {% if e.m == "A" or e.m == "D" %}
                        {{ of(person_index.x.first_name+" "+person_index.x.surname) }}
                        {% if e.v == 1 %}
                            {{ _("to the children") }}
                        {% else %}
                            {% if e.v == 2 %}
                                {{ _("to the grandchildren") }}
                            {% else %}
                                {% if e.v == 3 %}
                                    {{ _("to the great-grandchildren") }}
                                {% else %}
                                    {{ _("up to") }} {{ e.v }}Â {{ _('generation/generations', variant='1') }}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                        {% if e.oi != "" %}
                            , {{ _("partial") }}
                        {% else %}
                            {% if e.dag == "on" %}, {{ _("dag") }}{% endif %}
                        {% endif %}
                    {% endif %}
                </h3>
                {% if not cancel_links %}
                    {% if e.m == "A" or e.m == "D" %}
                        <div class="d-flex justify-content-center">{% include 'buttons_dag.html.j2' %}</div>
                    {% else %}
                        {% if e.m == "RL" or e.m == "RLM" %}
                            <div class="row">{% include 'buttons_rel.html.j2' %}</div>
                        {% endif %}
                    {% endif %}
                {% endif %}
                {% if e.m == "A" or e.m == "D" %}
                    {% if e.slices == "on" %}
                        <form method="GET" action="{{ action }}">
                            {{ hidden }}{# foreach not implemented yet #}
                            <table>
                                <tr align="{{ left }}">
                                    <td align="{{ right }}">
                                        <label>
                                            {{ _('don\'t group the common branches together')|capitalize }}
                                                                                        <input type="checkbox" name="nogroup" value="on">
                                                                                    </label>
                                                                                </td>
                                                                            </tr>
                                                                            <tr align="{{ left }}">
                                                                                <td align="{{ right }}">
                                                                                    <label>
                                                                                        {{ _('display by slices/slice width/overlap/total width', variant='1')|capitalize }}
                                                                                        <input name="dpos" size="5" value="78">
                                                                                    </label>
                                                                                </td>
                                                                            </tr>
                                                                            <tr align="{{ left }}">
                                                                                <td align="{{ right }}">
                                                                                    <label>
                                                                                        {{ _('display by slices/slice width/overlap/total width', variant='2')|capitalize }}
                                                                                        <input name="overlap" size="5" value="10">
                                                                                    </label>
                                                                                </td>
                                                                            </tr>
                                                                            <tr align="{{ left }}">
                                                                                <td align="{{ right }}">
                                                                                    <label>
                                                                                        {{ _('display by slices/slice width/overlap/total width', variant='3')|capitalize }}
                                                                                        (% dag.min_wid;-{{ dag.max_wid }} ;)
                                                                                        <input name="width"
                                                                                               size="5"
                                                                                               value="{% if dag.max_wid <= 78 %}{{ dag.max_wid }}{% else %}{% if dag.min_wid >= 78 %}{{ dag.min_wid }}{% else %}78{% endif %}{% endif %}">
                                                                                    </label>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p>
                                                                            <input type="submit" value="OK">
                                                                        </p>
                                                                    </form>
                                                                {% endif %}
                                                            {% endif %}
                                                            {% if e.slices != "on" %}
                                                                {% if link_next != "" and not cancel_links %}
                                                                    {% include 'buttons_rel.html.j2' %}
                                                                {% endif %}
                                                                {% if e.notab == "on" or e.pos2 != "" %}
                                                                    {% with %}
                                                                        {% set dpos = (e.dpos) if (e.dpos != "") else ("78") %}
                            {% with %}
                                {% set pos1 = (e.pos1) if (e.pos1 != "") else ("0") %}
                                {% with %}
                                    {% set pos2 = (e.pos2) if (e.pos2 != "") else (dpos) %}
                                    {% with %}
                                        {% set overlap = (e.overlap) if (e.overlap != "") else ("10") %}
                                        {% if pos1 != 0 or pos2 < dag.ncol %}
                                            <div style="text-align:right">
                                                {% if pos1 == 0 %}
                                                    &nbsp;
                                                {% else %}
                                                    <a href="{{ prefix_base_password }}{# foreach not implemented yet #}pos1={{ pos1 + overlap - dpos }};pos2={{ pos1 + overlap }};">&lt;&lt;</a>
                                                {% endif %}
                                                {{ nl }}
                                                {% if pos2 >= dag.ncol %}
                                                    &nbsp;
                                                {% else %}
                                                    <a href="{{ prefix_base_password }}{# foreach not implemented yet #}pos1={{ pos2 - overlap }};pos2={{ pos2 - overlap + dpos }};">&gt;&gt;</a>
                                                {% endif %}
                                                {{ nl }}
                                            </div>
                                        {% endif %}
                                        <pre>
{# foreach not implemented yet #}</pre>
                                    {% endwith %}
                                {% endwith %}
                            {% endwith %}
                        {% endwith %}
                    {% else %}
                        <table id="dag" class="mt-2 mb-6 ml-4">
                            {# foreach not implemented yet #}
                        </table>
                    {% endif %}
                {% endif %}
                {% include 'trl.html.j2' %}
            </div>
            {% include 'js.html.j2' %}
            {{ query_time }}
        </body>
    </html>
{% endwith %}

{# 
  Generated by JinjaGenerator for template 'welcome'
    at 2025-10-26T20:25:09.195428

  Used macros:
  - book_of(xx)
  - dl(xx)
  - display_sosa_ref(xx)
  - get_visitor_access_msg(lg)
  - get_random(xxx)
  - notes_title(lang)
  - book_button(xxx, yyy, zzz)
  - language(x)
  - set_lang(l1)
  - language_link()

  Used includes:
  - css
  - hed
  - trl
  - copyr
  - js

  Used variables:
  - lang (x6)
  - base.name (x2)
  - base.real_nb_persons (x5)
  - base.has_notes (x2)
  - body_prop (x1)
  - b.datalist_xx (x1)
  - b.visitor_access_msg_lg (x2)
  - b.visitor_access_msg_en (x2)
  - b.base_notes_title_lang (x2)
  - b.base_notes_title (x2)
  - b.default_lang (x1)
  - b.welcome_logo (x2)
  - b.welcome_logo_style (x2)
  - b.auth_file (x1)
  - b.friend_passwd (x2)
  - b.friend_passwd_file (x2)
  - b.wizard_passwd (x2)
  - b.wizard_passwd_file (x3)
  - b.visitor_access (x3)
  - b.motd (x2)
  - b.propose_titles (x9)
  - b.wizard_descr_file (x1)
  - b.history (x1)
  - b.disable_forum (x1)
  - b.propose_place_surnames (x1)
  - b.hide_advanced_request (x1)
  - b.propose_add_family (x1)
  - b.alt_serv_base (x6)
  - b.alt_serv_adr (x4)
  - b.alt_serv_title (x4)
  - b.superwizard (x1)
  - b.counter (x1)
  - sosa_ref.access (x1)
  - sosa_ref (x2)
  - random.init (x1)
  - random.xxx (x1)
  - sp (x5)
  - default_lang (x1)
  - url_set.lang_file.l1 (x1)
  - url_set.lang_file (x1)
  - url_set.w.f (x1)
  - url_set.w.w (x1)
  - i (x1)
  - l1 (x8)
  - e.i (x3)
  - e.p (x9)
  - e.n (x9)
  - e.pn (x5)
  - e.oc (x2)
  - roglo (x10)
  - cgi (x5)
  - wizard (x16)
  - friend (x11)
  - action (x2)
  - hidden (x3)
  - user.name (x4)
  - user.ident (x4)
  - user.key (x3)
  - userk (x1)
  - username (x1)
  - predictable_mode (x1)
  - nb_persons.v (x5)
  - browsing_with_sosa_ref (x2)
  - just_friend_wizard (x1)
  - lg (x1)
  - has_misc_notes (x1)
  - has_history (x1)
  - plugin.forum (x1)
  - query_time (x1)
#}
<!-- $Id: welcome.txt v7.1 16/02/2025 17:11:01 $ -->
<!DOCTYPE html>
<html lang="{{ lang }}">
    <head>
        <title>GeneWeb – {{ base.name }}</title>
        <meta name="robots" content="none">
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon"
              href="{{ url_for('static', path='images/favicon_gwd.png') }}">
        <link rel="apple-touch-icon"
              href="{{ url_for('static', path='images/favicon_gwd.png') }}">
        {% include 'css.html.j2' %}
    </head>
    <body {{ body_prop }}>
        <div class="container" id="welcome">
            {% include 'hed.html.j2' %}
            {% macro book_of(xx) %}
                {{ _("book of %s:::xx") }}
            {% endmacro %}
            {% macro dl(xx) %}
                {% if ( b.datalist_xx == 1 ) %}<datalist id="datalist_xx"></datalist>{% endif %}
            {% endmacro %}
            {{ dl("fnames") }}{{ dl("snames") }}{{ dl("titles") }}{{ dl("estates") }}
            {% macro display_sosa_ref(xx) %}
                {{ _("sosa reference") |capitalize }}{{ _(":") }}
            <href ="/{{ sosa_ref.access }}">{{ sosa_ref }}</a>
        {% endmacro %}
        {% macro get_visitor_access_msg(lg) %}
            {% if ( b.visitor_access_msg_lg != "" ) %}
                {{ b.visitor_access_msg_lg }}
            {% else %}
                {% if ( b.visitor_access_msg_en != "" ) %}
                    {{ b.visitor_access_msg_en }}
                {% else %}
                    {{ _("restricted access") }}
                {% endif %}
            {% endif %}
        {% endmacro %}
        {% macro get_random(xxx) %}
            {{ random.init }}{{ random.xxx }}
        {% endmacro %}
        {% macro notes_title(lang) %}
            {% if ( b.base_notes_title_lang != "" ) %}
                {{ b.base_notes_title_lang }}
            {% else %}
                {% if ( b.base_notes_title != "" ) %}
                    {{ b.base_notes_title }}
                {% else %}
                    {{ _("base notes") |capitalize }}
                {% endif %}
            {% endif %}
        {% endmacro %}
        {% macro book_button(xxx, yyy, zzz) %}
            <a role="button"
               class="btn btn-outline-success"
               data-toggle="tooltip"
               href="/m=MOD_DATA&data=xxx"
               title="{{ _("modify") |capitalize }} {{ book_of(_("yyy", variant='1') ) }}{{ sp }}({{ _("wizard/wizards/friend/friends/exterior", variant='0') }})">
                <i class="fa fa-zzz fa-fw mr-1"></i>
                <span class="text-nowrap">{{ _("yyy", variant='1') |capitalize }}</span>
            </a>
        {% endmacro %}
        {% macro language(x) %}
            {{ nth("af/ar/bg/br/ca/co/cs/da/de/en/eo/es/et/fi/fr/he/is/it/lt/lv/nl/no/oc/pl/pt/pt-br/ro/ru/sk/sl/sv/tr/zh/
                        ", "x") }}
        {% endmacro %}
        {% macro set_lang(l1) %}
            {% if ( default_lang != "l1" ) %}
                {{ url_set.lang_file.l1 }}
            {% else %}
                {{ url_set.lang_file }}
            {% endif %}
        {% endmacro %}
        {% macro language_link() %}
            {% for i in range(0, 33) %}
                {% with %}
                    {% set l1 = language(i) %}
                    {% if ( lang != l1 ) %}
                        <a class="dropdown-item{% if ( l1 == b.default_lang ) %} bg-warning{% endif %}"
                           id="lang_{{ l1 }}"
                           {{ sp }}
                           href="{{ set_lang(l1) }}"><code>
                            {% if ( l1 != "pt-br" ) %}
                                {{ l1 }}&nbsp;&nbsp;&nbsp;
                            {% else %}
                                {{ l1 }}
                            {% endif %}
                        {{ sp }}</code>{{ capitalize(language_name(l1) ) }}</a>
                    {% endif %}
                {% endwith %}
            {% endfor %}
        {% endmacro %}
        {% if ( ( e.i != "" ) or ( ( e.p != "" ) or ( ( e.n != "" ) or ( e.pn != "" ) ) ) ) %}
            <div class="d-flex justify-content-center">
                <div class="alert alert alert-danger alert-dismissible fade show text-center w-75 m-2"
                     role="alert">
                    {% if ( e.i != "" ) %}
                        {{ _("unknown index") |capitalize }}{{ _(":") }} {{ e.i }}
                    {% else %}
                        {% if ( e.pn != "" ) %}
                            {{ _("unknown person") |capitalize }}{{ _(":") }} {{ e.pn }}
                            {% if ( e.p != "" ) %}{{ e.p }}{% endif %}
                            {% if ( e.n != "" ) %}{{ e.n }}{% endif %}
                        {% else %}
                            {% if ( ( e.p != "" ) and ( e.n == "" ) ) %}
                                {{ _("unknown first_name") |capitalize }}{{ _(":") }} {{ e.p }}
                            {% else %}
                                {% if ( ( e.n != "" ) and ( e.p == "" ) ) %}
                                    {{ _("unknown surname") |capitalize }}{{ _(":") }} {{ e.n }}
                                {% else %}
                                    {{ _("unknown person") |capitalize }}{{ _(":") }} {{ e.p }}
                                    {% if ( e.oc != "" ) %}.{{ e.oc }}{% endif %}
                                    {{ e.n }}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </div>
        {% endif %}
        <div class="d-flex flex-column flex-md-row align-items-center justify-content-lg-around mt-1 mt-lg-{% if roglo %}1{% else %}3{% endif %}">
            <div class="col-md-3 order-2 order-md-1 align-self-center mt-3 mt-md-0">
                <div class="d-flex justify-content-center">
                    {% if roglo %}
                        <img src="{{ url_for('static', path='images/logo-roglo.png') }}"
                             alt="logo Roglo"
                             width="150">
                    {% else %}
                        {% if ( b.welcome_logo != "" ) %}
                            <img src="/m=IM;s={{ b.welcome_logo }}"
                                 alt="logo"
                                 {% if ( b.welcome_logo_style != "" ) %}style="{{ b.welcome_logo_style }}"{% endif %}>
                        {% else %}
                            <img src="{{ url_for('static', path='images/arbre_start.png') }}"
                                 alt="logo GeneWeb"
                                 width="180">
                        {% endif %}
                    {% endif %}
                </div>
            </div>
            <div class="col-12 col-md-3 order-1 order-md-3 ml-md-2 px-0 mt-xs-2 mt-lg-0 align-self-center">
                <div class="d-flex flex-column col-md-10 pl-1 pr-0">
                    {% if ( cgi and ( ( not wizard ) or ( not friend ) ) ) %}
                        <form class="form-inline" method="post" action="{{ action }}">
                            {{ hidden }}
                            <div class="input-group mt-1">
                                <input type="password"
                                       name="w"
                                       class="form-control"
                                       title="{{ _("wizard/wizards/friend/friends/exterior", variant='2') }}/{{ _("wizard/wizards/friend/friends/exterior", variant='0') }}"
                                       placeholder="{{ _("user/password/cancel", variant='0') }}:{{ _("user/password/cancel", variant='1') }}"
                                       aria-label="password input"
                                       aria-describedby="username:password"
                                       autofocus>
                                <div class="input-group-append">
                                    <button type="submit" class="btn btn-primary">OK</button>
                                </div>
                            </div>
                        </form>
                    {% endif %}
                    {% if ( b.auth_file == "" ) %}
                        <div class="btn-group btn-group-xs mt-1" role="group">
                            {% if ( ( b.friend_passwd != "" ) or ( b.friend_passwd_file != "" ) ) %}
                                {% if ( not friend ) %}
                                    {% if ( not cgi ) %}
                                        <a href="{{ url_set.w.f }}"
                                           class="btn btn-sm btn-outline-primary text-nowrap"
                                           role="button">
                                            <i class="fas fa-user mr-2" aria-hidden="true"></i>{{ _("wizard/wizards/friend/friends/exterior", variant='2') |capitalize }}</a>
                                    {% endif %}
                                {% else %}
                                    <a href="#"
                                       class="btn btn-primary btn-sm disabled text-nowrap"
                                       role="button">
                                        <i class="fas fa-user mr-2" aria-hidden="true"></i>{{ _("wizard/wizards/friend/friends/exterior", variant='2') |capitalize }}</a>
                                {% endif %}
                            {% endif %}
                            {% if ( ( b.wizard_passwd != "" ) or ( b.wizard_passwd_file != "" ) ) %}
                                {% if ( not wizard ) %}
                                    {% if ( not cgi ) %}
                                        <a href="{{ url_set.w.w }}"
                                           class="btn btn-sm btn-outline-success text-nowrap"
                                           role="button">
                                            <i class="fas fa-hat-wizard mr-2" aria-hidden="true"></i>{{ _("wizard/wizards/friend/friends/exterior", variant='0') |capitalize }}</a>
                                    {% endif %}
                                {% else %}
                                    <a href="#"
                                       class="btn btn-sm btn-success disabled text-nowrap"
                                       role="button">
                                        <i class="fas fa-hat-wizard mr-2" aria-hidden="true"></i>{{ _("wizard/wizards/friend/friends/exterior", variant='0') |capitalize }}</a>
                                {% endif %}
                            {% endif %}
                        </div>
                    {% endif %}
                    {% with %}
                        {% set username = (user.ident) if (( user.name == "" )) else (user.name) %}
                        {% if ( ( wizard and ( ( b.wizard_passwd_file != "" ) or ( b.wizard_passwd != "" ) ) ) or ( friend and ( ( b.friend_passwd_file != "" ) or ( b.friend_passwd != "" ) ) ) ) %}
                            <a class="border border-{% if friend %}primary{% else %}{% if wizard %}success{% endif %}{% endif %} text-{% if friend %}primary{% else %}{% if wizard %}success{% endif %}{% endif %} rounded text-center mt-1 w-100 rounded-bottom"
                               {% with %}
                               {% set userk = (user.key) if (( user.key != "" )) else ((user.name) if (( user.name != "" )) else (user.ident)) %}
                               href="/m=S&pn={{ uri_encode(userk) }}"
                               {{ sp }}
                               {% if ( user.key == "" ) %}title="{{ _("no user key") |capitalize }}" data-toggle="tooltip"{% endif %}>
                                {% if wizard %}
                                    {{ _("wizard/wizards/friend/friends/exterior", variant='0') |capitalize }}
                                {% else %}
                                    {% if friend %}{{ _("wizard/wizards/friend/friends/exterior", variant='2') |capitalize }}{% endif %}
                                {% endif %}
                            {{ username }}</a>
                            <a class="btn btn-sm btn-outline-danger mt-1 w-100"
                               href="/w="
                               role="button"><i class="fas fa-right-from-bracket mr-1" aria-hidden="true"></i>{{ _("disconnect") |capitalize }}</a>
                            {% if roglo %}
                                <div class="btn-group"
                                     data-toggle="tooltip"
                                     data-placement="left"
                                     title="{{ language_name(lang) }} – {{ _("select lang") |capitalize }}">
                                    <button class="btn btn-link dropdown-toggle"
                                            type="button"
                                            id="dropdownMenu1"
                                            data-toggle="dropdown"
                                            aria-haspopup="true"
                                            aria-expanded="false">
                                        <span class="sr-only">lang</span><span class="text-uppercase">{{ lang }}</span><span class="sr-only">, {{ _("select lang") }}</span>
                                    </button>
                                    <div class="dropdown-menu scrollable-lang" aria-labelledby="dropdownMenu1">{{ language_link() }}</div>
                                </div>
                            {% endif %}
                        {% endwith %}
                    {% endif %}
                </div>
            </div>
            <div class="my-0 order-3 order-md-2 flex-fill text-lg-center align-self-md-center">
                <h1 class="font-weight-bolder">{{ capitalize(_("database") ) }} {{ base.name }}</h1>
                {% if ( ( b.visitor_access != "no" ) or ( wizard or friend ) ) %}
                    <div class="d-flex justify-content-center">
                        <span class="text-center {% if roglo %}h5">{{ _("
                            en: contains
                            fr: contient
                            ") }}
                            {{ base.real_nb_persons }} {{ _("
                            en: individuals<br> all connected through familial relationships
                            fr: individus<br> tous reliés par des liens familiaux
                            ") }}
                        {% else %}
                            h4 font-weight-lighter">{{ base.real_nb_persons }} 
                            {% if ( ( base.real_nb_persons == "0" ) or ( base.real_nb_persons == "1" ) ) %}
                                {{ _("person/persons", variant='0') }}
                            {% else %}
                                {{ _("person/persons", variant='1') }}
                            {% endif %}
                        {% endif %}
                    </span>
                    {% if ( ( base.real_nb_persons != "0" ) and ( not predictable_mode ) ) %}
                        <a class="align-self-center ml-2 mb-2"
                           href="/i={{ get_random(nb_persons.v) }}"
                           data-toggle="tooltip"
                           data-placement="bottom"
                           title="{{ _("random individual") |capitalize }}"><i class="fa-solid fa-dice"></i></a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <div class="d-flex flex-column col-8">
            {% if ( b.motd != "" ) %}
                <div class="display-5 lead font-weight-light text-center">{{ interp(b.motd) }}</div>
            {% endif %}
            {% if ( browsing_with_sosa_ref and ( b.visitor_access != "no" ) ) %}
                <div class="text-center">{{ display_sosa_ref(sosa_ref) }}</div>
            {% endif %}
        </div>
    </div>
    {% if just_friend_wizard %}
        <div class="col mt-1">
            <div class="text-center alert alert-danger alert-dismissible fade show"
                 role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <span>
                    {{ _("
                                        co: I <strong>diritti di i maghi</strong> sò attualmente<strong>disattivati</strong> per via d’una mantenenza.
                                        en: <strong>Wizard rights</strong> are now <strong>suspended</strong> for maintenance.
                                        fr: Les <strong>droits des magiciens</strong> sont actuellement <strong>suspendus</strong> pour maintenance.
                                        ") }}
                </span>
            </div>
        </div>
    {% endif %}
    {% if ( not ( ( b.visitor_access != "no" ) or ( wizard or friend ) ) ) %}
        {% with %}
            {% set lg = lang %}
            <div class="text-lg-center alert alert-danger font-weight-bold"
                 role="alert">
                <i class="fa fa-triangle-exclamation fa-fw mr-2"></i>
                <span>{{ get_visitor_access_msg(lg) }}</span>
                <span class="fa fa-triangle-exclamation fa-fw"></span>
            </div>
        {% endwith %}
    {% else %}
        {% if ( nb_persons.v != 0 ) %}
            <div id="welcome-search"
                 class="d-flex flex-wrap justify-content-center mt-3 mt-lg-1">
                <div class="col col-md-10 col-xl-9">
                    <form id="main-search" class="mt-2 mt-xl-4" method="get" action="/">
                        {{ hidden }}
                        <input type="hidden" name="m" value="S" class="has_validation">
                        <div class="d-flex justify-content-center">
                            <div class="d-flex flex-column justify-content-center w-100">
                                <div class="d-flex flex-column flex-md-row">
                                    <div class="w-100 w-md-auto flex-md-grow-1">
                                        <div class="d-flex flex-grow-1">
                                            <div class="d-flex align-items-center ml-1 mr-2">
                                                <abbr data-toggle="tooltip"
                                                      data-placement="top"
                                                      data-html="true"
                                                      title="<div class='text-left font-weight-bold'><h5>{{ _("search format") |capitalize }}{{ _(":") }}</h5> 1. {{ _("person/persons", variant='0') |capitalize }}{{ _(":") }}<br> a. {{ _("first name/first names", variant='2') }} {{ _("surname/surnames", variant='0') }} ¹<br> <i class='font-weight-lighter'>John Doe</i><br><br> b. {{ _("first name/first names", variant='2') }}/{{ _("surname/surnames", variant='0') }} ²/{{ _("occ", variant='1') }} ³<br> <i class='font-weight-lighter'>James William/Smith-Johnson/2<br>       James William/Smith-Johnson<br> James William/<br>       /Smith-Jonhson</i><br><br> 2. {{ _("surname/surnames", variant='0') |capitalize }} ¹{{ _(":") }} <i class='font-weight-lighter'>Doe</i><br><br> 3. {{ _("public name") |capitalize }}{{ _(":") }} <i class='font-weight-lighter'>James Smith</i><br><br> 4. {{ _("alias") |capitalize }}{{ _(":") }} <i class='font-weight-lighter'>Jimmy</i><br><br> 5. {{ _("key", variant='0') |capitalize }}{{ _(":") }} {{ _("first name/first names", variant='2') }}.{{ _("occ", variant='1') }} {{ _("surname/surnames", variant='0') }} ²<br> <i class='font-weight-lighter'>James William.2 Smith-Johnson<br>       james william.2 smith johnson</i><br> <br><div class='font-weight-lighter small'>¹ {{ _("word/words", variant='0') }}<br>² {{ _("word/words", variant='1') }}<br>³ {{ _("optional/mandatory", variant='0') }}</div></div>">
                                                    <i class="far fa-circle-question text-primary text-primary"></i>
                                                </abbr>
                                            </div>
                                            <input type="search"
                                                   id="fullname"
                                                   class="form-control form-control-lg py-0 border border-top-0"
                                                   autofocus
                                                   tabindex="1"
                                                   name="pn"
                                                   placeholder="{{ _("search/case sensitive", variant='0') |capitalize }} {{ _("person/persons", variant='0') }}, {{ _("surname/surnames", variant='0') }}, {{ _("public name") }}, {{ _("alias") }}, {{ _("key", variant='0') }}{% if browsing_with_sosa_ref %}, {{ _("n° Sosa") }}{% endif %}"
                                                   {% if ( e.pn != "" ) %}value="{{ e.pn }}"{% endif %}>
                                        </div>
                                        <div class="d-flex mt-3">
                                            <div class="btn-group-vertical mr-2">
                                                <a role="button"
                                                   href="/m=P&tri=A"
                                                   data-toggle="tooltip"
                                                   title="{{ _("first name/first names", variant='1') |capitalize }}, {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='0') }} {{ _("display by/branch/alphabetic order", variant='2') }}">
                                                    <i class="fa fa-arrow-down-a-z fa-fw"></i></a>
                                                <a role="button"
                                                   href="/m=P&tri=F"
                                                   data-toggle="tooltip"
                                                   title="{{ _("frequency") |capitalize }} {{ _("first name/first names", variant='1') }}, {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='0') }} {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='3') }}">
                                                    <i class="fa fa-arrow-down-wide-short fa-fw"></i></a>
                                            </div>
                                            <div class="d-flex flex-grow-1">
                                                <div class="flex-grow-1 align-self-center">
                                                    <label for="firstname" class="sr-only col-form-label">
                                                        {{ _("first name/first names", variant='2') |capitalize }}
                                                    </label>
                                                    <input type="search"
                                                           id="firstname"
                                                           class="form-control form-control-lg border-top-0"
                                                           name="p"
                                                           placeholder="{{ _("first name/first names", variant='2') |capitalize }}"
                                                           tabindex="2"
                                                           {% if ( e.p != "" ) %}value="{{ e.p }}"{% endif %}
                                                           list="datalist_fnames"
                                                           data-book="fn">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex mt-2">
                                            <div class="btn-group-vertical mr-2">
                                                <a role="button"
                                                   href="/m=N&tri=A"
                                                   data-toggle="tooltip"
                                                   title="{{ _("surname/surnames", variant='1') |capitalize }}, {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='0') }} {{ _("display by/branch/alphabetic order", variant='2') }}">
                                                    <i class="fa fa-arrow-down-a-z fa-fw"></i></a>
                                                <a role="button"
                                                   href="/m=N&tri=F"
                                                   data-toggle="tooltip"
                                                   title="{{ _("frequency") |capitalize }} {{ _("surname/surnames", variant='1') }}, {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='0') }} {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='3') }}">
                                                    <i class="fa fa-arrow-down-wide-short fa-fw"></i></a>
                                            </div>
                                            <div class="d-flex flex-grow-1">
                                                <div class="flex-grow-1 align-self-center">
                                                    <label for="surname" class="sr-only col-form-label col-sm-2">
                                                        {{ _("surname/surnames", variant='0') |capitalize }}
                                                    </label>
                                                    <input type="search"
                                                           id="surname"
                                                           class="form-control form-control-lg border border-top-0"
                                                           title="{{ _("word/words", variant='1') |capitalize }}"
                                                           data-toggle="tooltip"
                                                           name="n"
                                                           placeholder="{{ _("surname/surnames", variant='0') |capitalize }}"
                                                           tabindex="3"
                                                           {% if ( e.n != "" ) %}value="{{ e.n }}"{% endif %}
                                                           list="datalist_snames"
                                                           data-book="sn">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex flex-column align-items-center justify-content-between mt-3 mt-md-0 mx-0 mx-md-1 px-0 px-md-3 col-md-auto small">
                                        <div class="d-flex flex-row flex-md-column justify-content-start mb-3 mb-md-0">
                                            <div class="align-self-md-start font-weight-bold mr-3 mr-md-0 mb-0 mb-md-1">
                                                {{ _("first name/first names", variant='1') |capitalize }}{{ _(":") }}
                                            </div>
                                            <div class="d-flex flex-row flex-md-column">
                                                <div class="custom-control custom-checkbox mr-3 mr-md-0 mb-md-1"
                                                     data-toggle="tooltip"
                                                     data-placement="{% if ( b.propose_titles == "no" ) %}top{% else %}left{% endif %}"
                                                     title="{{ _("not all hlp") |capitalize }}">
                                                    <input class="custom-control-input"
                                                           type="checkbox"
                                                           name="p_all"
                                                           id="p_all"
                                                           value="off"
                                                           tabindex="4">
                                                    <label class="custom-control-label d-flex align-items-center" for="p_all">{{ _("not all") |capitalize }}</label>
                                                </div>
                                                <div class="custom-control custom-checkbox mr-3 mr-md-0 mb-md-1"
                                                     data-toggle="tooltip"
                                                     data-placement="{% if ( b.propose_titles == "no" ) %}top{% else %}left{% endif %}"
                                                     title="{{ _("order hlp") |capitalize }}">
                                                    <input class="custom-control-input"
                                                           type="checkbox"
                                                           name="p_order"
                                                           id="p_order"
                                                           value="on"
                                                           tabindex="5">
                                                    <label class="custom-control-label d-flex align-items-center" for="p_order">{{ _("order") |capitalize }}</label>
                                                </div>
                                                <div class="custom-control custom-checkbox"
                                                     data-toggle="tooltip"
                                                     data-placement="{% if ( b.propose_titles == "no" ) %}top{% else %}left{% endif %}"
                                                     title="{{ _("not exact hlp") |capitalize }}">
                                                    <input class="custom-control-input"
                                                           type="checkbox"
                                                           name="p_exact"
                                                           id="p_exact"
                                                           value="off"
                                                           tabindex="6">
                                                    <label class="custom-control-label d-flex align-items-center" for="p_exact">{{ _("not exact") |capitalize }}</label>
                                                </div>
                                            </div>
                                        </div>
                                        <button id="global-search-inline"
                                                class="{% if ( b.propose_titles != "no" ) %}d-none {% endif %}btn btn-outline-primary font-weight-bolder w-100 w-md-auto py-2 mb-1"
                                                type="submit"
                                                {% if ( b.propose_titles == "no" ) %}tabindex="7"{% endif %}>
                                            <i class="fa fa-magnifying-glass fa-lg fa-fw"></i>
                                            {{ _("search/case sensitive", variant='0') |capitalize }}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="d-flex flex-wrap flex-md-no-wrap justify-content-center align-items-md-center mt-1 mt-md-3">
                        {% if ( b.propose_titles != "no" ) %}
                            <form id="title-search"
                                  class="d-flex flex-column flex-md-row align-items-start align-items-md-center col-12 col-md-9 ml-md-4"
                                  method="get"
                                  action="{{ action }}">
                                {{ hidden }}
                                <input type="hidden" name="m" value="TT">
                                <div class="d-flex align-items-center w-100 mb-2 mb-md-0">
                                    <a class="mr-2"
                                       role="button"
                                       data-toggle="tooltip"
                                       data-placement="bottom"
                                       href="/m=TT"
                                       title="{{ _("all the titles") |capitalize }}"><i class="fa fa-list-ul fa-fw"></i></a>
                                    <label for="titles" class="sr-only col-form-label">{{ _("title/titles", variant='0') |capitalize }}</label>
                                    <input type="search"
                                           class="form-control border-top-0 border-right-0 border-left-0 w-100"
                                           name="t"
                                           id="titles"
                                           placeholder="{{ _("title/titles", variant='0') |capitalize }}"
                                           tabindex="7"
                                           list="datalist_titles"
                                           data-book="title">
                                </div>
                                <div class="d-flex align-items-center w-100 mb-2 mb-md-0 ml-0 ml-md-2">
                                    <a class="mr-2"
                                       role="button"
                                       data-toggle="tooltip"
                                       data-placement="bottom"
                                       href="/m=TT&p=*"
                                       title="{{ _("all the estates") |capitalize }}"><i class="fa fa-list-ul fa-fw"></i></a>
                                    <label for="estates" class="sr-only col-form-label">{{ _("estate", variant='0') |capitalize }}</label>
                                    <input type="search"
                                           class="form-control border-top-0 border-right-0 border-left-0 w-100"
                                           name="p"
                                           id="estates"
                                           placeholder="{{ _("estate", variant='0') |capitalize }}"
                                           tabindex="8"
                                           list="datalist_estates"
                                           data-book="domain">
                                </div>
                                <button class="d-none" type="submit"></button>
                            </form>
                        {% endif %}
                        {% if ( b.propose_titles != "no" ) %}
                            <button id="global-search"
                                    class="btn btn-outline-primary font-weight-bolder col-12 col-md-auto mt-1 mt-md-0{{ sp }}{% if ( b.propose_titles != "no" ) %}ml-md-auto mr-md-2 py-2{% else %}py-2{% endif %}"
                                    type="submit"
                                    tabindex="{% if ( b.propose_titles != "no" ) %}9{% else %}7{% endif %}"
                                    data-toggle="tooltip"
                                    data-placement="right">
                                <i class="fa fa-magnifying-glass fa-lg fa-fw"></i>
                                {{ _("search/case sensitive", variant='0') |capitalize }}
                            </button>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endif %}
    {% endif %}
    <div class="d-flex flex-column justify-content-start justify-content-md-center mt-4 col-12 col-md-11 col-lg-8 mx-auto">
        <div class="h4 text-md-center">
            <i class="fas fa-screwdriver-wrench fa-sm fa-fw text-secondary"></i>
            {% if roglo %}
                {{ _("
                                en: Around the tree
                                fr: Autour de l'arbre
                                ") }}
            {% else %}
                {{ _("tools") |capitalize }}
            {% endif %}
        </div>
        <div class="d-flex flex-wrap justify-content-md-center">
            {% if ( wizard and ( not base.has_notes ) ) %}
                <a role="button" class="btn btn-outline-success" href="/m=MOD_NOTES">
                    <i class="far fa-file-lines fa-fw mr-1" aria-hidden="true"></i>{{ _("add base notes") |capitalize }}
                </a>
            {% endif %}
            {% if base.has_notes %}
                <a role="button" class="btn btn-outline-primary" href="/m=NOTES"><i class="far fa-file-lines fa-fw mr-1" aria-hidden="true"></i>{{ notes_title(lang) }}</a>
            {% endif %}
            {% if has_misc_notes %}
                <a role="button" class="btn btn-outline-primary" href="/m=MISC_NOTES">
                    <i class="fas fa-align-justify fa-fw mr-1" aria-hidden="true"></i>
                {{ _("base index notes") |capitalize }}</a>
            {% endif %}
            {% if ( ( wizard or friend ) and ( ( b.wizard_passwd_file != "" ) or ( b.wizard_descr_file != "" ) ) ) %}
                <a role="button" class="btn btn-outline-primary" href="/m=WIZNOTES">
                    <i class="far fa-file-lines fa-fw mr-1" aria-hidden="true"></i>{{ _("base wizard notes") |capitalize }}</a>
            {% endif %}
            {% if ( nb_persons.v != 0 ) %}
                <a role="button" class="btn btn-outline-primary" href="/m=STAT">
                    <i class="far fa-chart-bar fa-fw mr-1" aria-hidden="true"></i>{{ _("statistics") |capitalize }}</a>
                <a role="button" class="btn btn-outline-primary" href="/m=ANM">
                    <i class="fa fa-cake-candles fa-fw mr-1" aria-hidden="true"></i>{{ _("anniversaries") |capitalize }}</a>
                {% if ( has_history and ( b.history == "yes" ) ) %}
                    <a role="button" class="btn btn-outline-primary" href="/m=HIST&k=20">
                        <i class="fas fa-clock-rotate-left fa-fw mr-1" aria-hidden="true"></i>{{ _("history") |capitalize }}</a>
                {% endif %}
            {% endif %}
            {% if ( plugin.forum and ( b.disable_forum != "yes" ) ) %}
                <a class="btn btn-outline-primary" href="/m=FORUM">
                    <i class="far fa-comments fa-fw mr-1" aria-hidden="true"></i>{{ _("forum") |capitalize }}</a>
            {% endif %}
            {% if ( ( b.propose_place_surnames != "no" ) and ( nb_persons.v != 0 ) ) %}
                <a role="button"
                   class="btn btn-outline-primary"
                   href="/m=PPS&bi=on&ba=on&ma=on&de=on&bu=on">
                    <i class="fas fa-globe fa-fw mr-1" aria-hidden="true"></i>{{ _("place/places", variant='1') |capitalize }}/{{ _("surname/surnames", variant='0') }}</a>
            {% endif %}
            {% if ( b.hide_advanced_request == "no" ) %}
                <a role="button" class="btn btn-outline-primary" href="/m=AS">
                    <i class="fa fa-magnifying-glass-plus fa-fw mr-1" aria-hidden="true"></i>{{ _("advanced request", variant='0') |capitalize }}</a>
            {% endif %}
            <a role="button" class="btn btn-outline-primary" href="/m=CAL">
                <i class="far fa-calendar-days fa-fw mr-1" aria-hidden="true"></i>{{ _("calendar/calendars", variant='1') |capitalize }}</a>
            {% if wizard %}
                <a role="button" class="btn btn-outline-success" href="/m=H&v=conf">
                    <i class="fas fa-gear fa-fw mr-1" aria-hidden="true"></i>{{ _("configuration", variant='1') |capitalize }}</a>
            {% endif %}
            {% if wizard %}
                <a role="button"
                   class="btn btn-outline-success"
                   href="/m=MOD_NOTES&f=new_note">
                    <i class="fa fa-file-lines fa-fw mr-1" aria-hidden="true"></i>{{ _("add::note/notes", variant='0') |capitalize }}</a>
                {% if ( b.propose_add_family != "no" ) %}
                    <a role="button" class="btn btn-outline-success" href="/m=ADD_FAM">
                        <i class="fas fa-user-plus fa-fw mr-1" aria-hidden="true"></i>{{ _("add::family/families", variant='0') |capitalize }}</a>
                {% endif %}
            {% endif %}
            {% if ( ( not roglo ) and ( ( b.alt_serv_base != "" ) and ( not cgi ) ) ) %}
                <a role="button"
                   class="btn btn-outline-primary"
                   href="{% if ( b.alt_serv_adr != "" ) %}{{ b.alt_serv_adr }}{% endif %}{{ b.alt_serv_base }}?w={% if wizard %}w{% else %}{% if friend %}f{% endif %}{% endif %}{# foreach not implemented yet #}"
                   title="{{ _("go to alt base", variant='0') |capitalize }} {{ b.alt_serv_base }}">
                    {% if ( b.alt_serv_title != "" ) %}
                        {{ b.alt_serv_title }}
                    {% else %}
                        {{ _("other base") |capitalize }}
                    {% endif %}
                </a>
            {% endif %}
        </div>
    </div>
    {% if roglo %}
        <div class="d-flex flex-column justify-content-start justify-content-md-center mt-3 col-12 col-md-10 mx-auto">
            <div class="h4 text-md-center">
                <img src="{{ url_for('static', path='images/logo-roglo.png') }}"
                     alt="Roglo"
                     style="width:30px">
                Association Roglo
            </div>
            <div class="d-flex flex-wrap justify-content-md-center">
                {% if ( ( b.alt_serv_base != "" ) and ( not cgi ) ) %}
                    <a role="button"
                       class="btn btn-outline-primary"
                       href="{% if ( b.alt_serv_adr != "" ) %}{{ b.alt_serv_adr }}{% endif %}{{ b.alt_serv_base }}?w={% if wizard %}w{% else %}{% if friend %}f{% endif %}{% endif %}{# foreach not implemented yet #}"
                       title="{{ _("go to alt base", variant='0') |capitalize }} {{ b.alt_serv_base }}">
                        {% if ( b.alt_serv_title != "" ) %}
                            {{ b.alt_serv_title }}
                        {% else %}
                            {{ _("other base") |capitalize }}
                        {% endif %}
                    </a>
                {% endif %}
                <a role="button"
                   class="btn btn-outline-primary"
                   href="/m=NOTES&f=0_Sommaire_des_notes_diverses">Encyclopædia Roglo</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/page/350795-l-association">Site de l’association</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/page/358570-donnees-personnelles">Politique de confidentialité</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/page/350796-decouvrir">Fonctionnement et usage</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/page/358680-contact">Nous contacter</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/page/419445-s-inscrire-comme-ami">{{ _("
                    en: Obtain a <code class=\"mb-1\">Friend</code> access
                    fr: Obtenir un accès <code class=\"mb-1\">Ami</code>
                ") }}</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/collect/description/383016-j-campagne-de-dons-2024-cb-uniquement">{{ _("
                    en: Contribute/join
                    fr: Cotiser/adhérer
                ") }}</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/membres/profil">{{ _("
                    en: My association account
                    fr: Mon compte associatif
                ") }}</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/page/418348-faq">Questions fréquentes</a>
                <a role="button"
                   class="btn btn-outline-primary"
                   href="https://asso.roglo.eu/page/365469-charte-des-amis">Charte des amis</a>
                {% if ( roglo and wizard ) %}
                    <a role="button"
                       class="btn btn-outline-success"
                       href="https://asso.roglo.eu/page/358694-charte-des-magiciens">Chartes des Magiciens</a>
                    <a role="button"
                       class="btn btn-outline-success"
                       href="https://asso.roglo.eu/page/358695-charte-des-lieux">Chartes des lieux</a>
                    <a role="button"
                       class="btn btn-outline-success"
                       href="https://asso.roglo.eu/page/1409612-charte-des-sources">Chartes des sources</a>
                    <a role="button"
                       class="btn btn-outline-success"
                       href="https://roglo.eu/wizard_w?lang=fr;m=NOTES;f=GeneWeb:Trucs">Trucs et astuces</a>
                    <a role="button"
                       class="btn btn-outline-success"
                       href="https://roglo.eu/wizard_w?lang=fr;m=NOTES;f=Admin:anoma">Anomalies</a>
                {% endif %}
            </div>
        </div>
    {% endif %}
    {% if ( ( ( ( not roglo ) and wizard ) or ( roglo and ( ( user.ident != "" ) and ( user.ident in b.superwizard ) ) ) ) and ( nb_persons.v != 0 ) ) %}
        <div class="d-flex flex-column justify-content-start justify-content-md-center mt-3 col-12 col-md-8 mx-auto">
            <div class="h4 text-md-center">
                <i class="fas fa-book fa-sm fa-fw text-success mr-1"></i>{{ _("book/books", variant='1') |capitalize }}
            </div>
            <div class="d-flex flex-wrap justify-content-md-center">
                {{ book_button('fn', 'first name/first names', 'child') }}{{ book_button('sn', 'surname/surnames', 'signature') }}{{ book_button('pubn', 'public name/public names', 'pen') }}{{ book_button('qual', 'qualifier/qualifiers', 'comment') }}{{ book_button('alias', 'alias/aliases', 'mask') }}{{ book_button('occu', 'occupation/occupations', 'user-doctor') }}{{ book_button('place', 'place/places', 'map-location-dot') }}{{ book_button('src', 'source/sources', 'box-archive') }}{{ book_button('title', 'title/titles', 'crown') }}{{ book_button('domain', 'domain/domains', 'chess-rook') }}<a href="/m=CHK_DATA"
   class="btn btn-outline-success ml-2"
   title="{{ _("data typographic checker") |capitalize }}"><i class="fas fa-spell-check"></i>
            </a>
        </div>
    </div>
{% endif %}
<div class="d-flex mt-3">
    <div class="col-11 col-md-auto mx-auto">
        {% if ( b.counter != "no" ) %}
            {{ interp(_("
                        af: Daar was %nb_accesses; besoeke, %nb_accesses_to_welcome; van hulle
                        aan hierdie blad, sedert %start_date;.
                        bg: От %start_date; насам е имало %nb_accesses; посещения, от които
                        %nb_accesses_to_welcome; са на настоящата страница.
                        br: gweladennoù a zo bet : %nb_accesses;, er bajenn-mañ :
                        %nb_accesses_to_welcome;, abaoe an deiz-mañ : %start_date;.
                        ca: Hi ha hagut %nb_accesses; consultes, de les quals
                        %nb_accesses_to_welcome; en aquesta pàgina, des del %start_date;.
                        co: Ci hè statu %nb_accesses; cunsultazioni, è %nb_accesses_to_welcome; di
                        i quale à sta pagina dapoi u %start_date;.
                        cs: %nb_accesses; přístupů, z toho %nb_accesses_to_welcome; na tuto
                        stránku, od %start_date;.
                        da: Der har været %nb_accesses; opslag, %nb_accesses_to_welcome; af
                        dem på denne side, siden %start_date;.
                        de: Seit dem %start_date; gab es %nb_accesses; Zugriffe, davon
                        %nb_accesses_to_welcome; auf diese Seite.
                        en: There has been %nb_accesses; accesses, %nb_accesses_to_welcome; of
                        them to this page, since %start_date;.
                        eo: Estis %nb_accesses; alirejoj, el kiuj %nb_accesses_to_welcome; al
                        ĉi tiu paĝo, ekde la %start_date;.
                        es: Ha habido %nb_accesses; consultas, de las cuales
                        %nb_accesses_to_welcome; corresponden a esta página, desde
                        el %start_date;.
                        et: Alates andmebaasi loomise päevast (%start_date;) on selle poole
                        pöördutud %nb_accesses; korda, neist %nb_accesses_to_welcome; korda
                        sellele lehele.
                        fi: Tähän mennessä %nb_accesses; tapahtumaa, joista
                        %nb_accesses_to_welcome; tälle sivulle %start_date; jälkeen.
                        fr: Il y a eu %nb_accesses; consultations, dont %nb_accesses_to_welcome; à
                        cette page, depuis le %start_date;.
                        he: היו %nb_accesses; כניסות, כולל %nb_accesses_to_welcome;
                        כניסות לעמוד זה, מאז %start_date;.
                        is: Það hafa verið %nb_accesses; heimsóknir, %nb_accesses_to_welcome; af
                        þeim á þessa síðu, síðan %start_date;.
                        it: Dal %start_date; ci sono stati %nb_accesses; accessi,
                        %nb_accesses_to_welcome; dei quali a questa pagina.
                        lt: Iš viso prisijungimų - %nb_accesses; lankyta kartų -
                        %nb_accesses_to_welcome; iš jų šis puslapis, nuo %start_date;.
                        lv: Kopš %D datu bāze ir apmeklēta %nb_accesses; reizes,
                        %nb_accesses_to_welcome; no tiem ir bijuši šinī lappusē.
                        nl: Deze paginas zijn sinds %start_date; reeds %nb_accesses; maal
                        bezocht, waaronder %nb_accesses_to_welcome; maal deze verwelkomingspagina.
                        no: Det har vært %nb_accesses; aksesser, %nb_accesses_to_welcome; av
                        dem til denne siden, siden %start_date;.
                        pl: Baza została od %start_date; odwiedzona %nb_accesses; razy (w tym
                        %nb_accesses_to_welcome; razy strona tytułowa).
                        pt: Houve %nb_accesses; consultas, das quais %nb_accesses_to_welcome; foram
                        a esta página, desde %start_date;.
                        ro: Au avut loc %nb_accesses; accese din care %nb_accesses_to_welcome; pe
                        aceatsa pagina din %start_date;
                        ru: Всего было %nb_accesses; обращений, из них %nb_accesses_to_welcome; к
                        этой странице, начиная с %start_date;.
                        sl: %nb_accesses; dostopov, %nb_accesses_to_welcome; od teh na to stran,
                        od %start_date;.
                        sv: Det har varit %nb_accesses; åtkomster, %nb_accesses_to_welcome; av
                        dem till den här sidan, sedan %start_date;.
                        tr: %nb_accesses var; erişimler, %nb_accesses_to_welcome;
                        %start_date'den beri bu sayfaya;.
                        zh: 已经有 %nb_accesses; 次访问数据库，其中 %nb_accesses_to_welcome; 次访问本主页，
                        自从 %start_date;。
                        ") ) }}
        {% endif %}
    </div>
</div>
{% include 'trl.html.j2' %}
{% include 'copyr.html.j2' %}
</div>
{% include 'js.html.j2' %}
{{ query_time }}
</body>
</html>
{% endwith %}

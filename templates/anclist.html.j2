{# 
  Generated by JinjaGenerator for template 'anclist'
    at 2025-10-26T20:24:30.628057

  Used macros:
  - ancestors_by_list(xx, nnn)
  - anc_row_hr(pp, vv, zz, ss1, ss2, ss3)
  - input(xx)
  - definecujus(pp, nn)

  Used includes:
  - css
  - hed
  - perso_utils
  - menubar
  - buttons
  - trl
  - copyr
  - js

  Used variables:
  - lang (x1)
  - e.t (x15)
  - e.wide (x1)
  - e.v (x8)
  - e.same (x5)
  - e.iz (x3)
  - e.pz (x2)
  - e.nz (x2)
  - e.ocz (x3)
  - e.izb (x2)
  - e.pzb (x3)
  - e.nzb (x3)
  - e.oczb (x2)
  - e.sort (x6)
  - e.oc (x2)
  - e.sosab (x2)
  - public_name (x8)
  - first_name (x4)
  - qualifier (x6)
  - sp (x3)
  - surname (x4)
  - body_prop (x1)
  - message_to_wizard (x1)
  - cancel_links (x8)
  - b.max_anc_level (x2)
  - b.access_by_key (x2)
  - max_anc_level (x4)
  - alias (x2)
  - pvar[1] (x1)
  - lvl (x5)
  - has_parents (x1)
  - reset_count (x2)
  - count (x4)
  - xx.has_parents (x1)
  - xx.father.access (x1)
  - xx.father (x1)
  - xx.father.title (x1)
  - xx.father.dates (x1)
  - xx.mother.access (x1)
  - xx.mother (x1)
  - xx.mother.title (x1)
  - xx.mother.dates (x1)
  - xx (x2)
  - nnn (x3)
  - nl (x2)
  - vv (x3)
  - pp.has_parents (x2)
  - pp.sosa.v (x7)
  - pp.surname (x1)
  - pp.access (x1)
  - pp (x2)
  - pp.title (x1)
  - pp.dates (x1)
  - pp.sosa (x1)
  - zz (x6)
  - nn (x2)
  - sosa.v (x2)
  - self (x3)
  - sosa_ref (x2)
  - sosa_v (x1)
  - implexcnt (x2)
  - index (x2)
  - first_name_key (x3)
  - surname_key (x3)
  - occ (x2)
  - pnocz_old (x1)
  - url_set.iz_pz_nz_ocz_izb_pzb_nzb_oczb_same (x1)
  - url_set.sort (x1)
  - url_set.sort.plc (x1)
  - url_set.sort.date (x1)
  - url_set.sort.ind (x1)
  - url_set.sort.evt (x1)
  - empty_sorted_list (x2)
  - query_time (x1)
#}
<!DOCTYPE html>
<html lang="{{ lang }}">
    <head>
        <!-- $Id: anclist.txt v7.1 04/03/2023 09:51:04 $ -->
        <title>
            {% if ( e.t == "F" ) %}
                - {{ _("surnames branch") |capitalize }} -
            {% else %}
                {{ a_of_b((_("missing ancestors") |capitalize) if (( e.t == "M" )) else (_("ancestor/ancestors", variant='1')|capitalize), (public_name) if (( public_name != "" )) else (first_name)(" "qualifier) if (( qualifier != "" ))spsurname) }}
            {% endif %}
        </title>
        <meta name="robots" content="none">
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon"
              href="{{ url_for('static', path='images/favicon_gwd.png') }}">
        {% include 'css.html.j2' %}
    </head>
    <body {{ body_prop }}>
        {% include 'hed.html.j2' %}
        {{ message_to_wizard }}
        <div class="container{% if ( e.wide == "on" ) %}-fluid{% endif %}">
            {% include 'perso_utils.html.j2' %}
            {% if ( not cancel_links ) %}
                {% include 'menubar.html.j2' %}
                {% include 'buttons.html.j2' %}
            {% endif %}
            {% with %}
                {% set lvl = (min(e.v, max_anc_level, 7)) if (( b.max_anc_level == "" )) else (min(e.v, max_anc_level, b.max_anc_level)) %}
                <h3 class="mt-2 ml-3">
                    {% if ( e.t == "F" ) %}
                        {{ a_of_b(_("surnames branch") |capitalize, (public_name) if (( public_name != "" )) else (first_name)(" <em>"qualifier"</em>") if (( qualifier != "" ))spsurname(" <em>("alias")</em>") if (( alias != "" ))"<br>    ") }}
                    {% else %}
                        {% if ( e.t == "E" ) %}
                            {{ a_of_b(_("list eclair") |capitalize, (public_name) if (( public_name != "" )) else (first_name)(" <em>"qualifier"</em>") if (( qualifier != "" ))spsurname) }}
                        {% else %}
                            {{ a_of_b(_("ancestor/ancestors", variant='1') |capitalize, (public_name) if (( public_name != "" )) else (first_name)" "surname" ") }}
                            {% if ( e.t == "D" ) %}{{ _("up to") }} {{ pvar[1] }}{% endif %}
                        {% endif %}
                    {% endif %}
                    {% if ( ( e.t == "H" ) or ( ( e.t == "F" ) or ( e.t == "E" ) ) ) %}{{ togena(lvl) }}{% endif %}
                </h3>
                {% if has_parents %}{{ reset_count }}{# foreach not implemented yet #}{% endif %}
                {% with %}
                    {% set implexcnt = 0 %}
                    {% macro ancestors_by_list(xx, nnn) %}
                        {% if ( xx.has_parents and ( nnn > 0 ) ) %}
                            <ul class="fa-ul">
                                <li>
                                    <span class="fa-li"><i class="fa fa-person male fa-fw mr-1"></i></span><a href="/{{ xx.father.access }}">{{ xx.father }}</a>{{ xx.father.title }}{{ xx.father.dates }}{{ nl }}{{ ancestors_by_list("xx.father", ( nnn - 1) ) }}
                                </li>
                                <li>
                                    <span class="fa-li"><i class="fa fa-person-dress female fa-fw mr-1"></i></span><a href="/{{ xx.mother.access }}">{{ xx.mother }}</a>{{ xx.mother.title }}{{ xx.mother.dates }}{{ nl }}{{ ancestors_by_list("xx.mother", ( nnn - 1) ) }}
                                </li>
                            </ul>
                        {% endif %}
                    {% endmacro %}
                    {% macro anc_row_hr(pp, vv, zz, ss1, ss2, ss3) %}
                        {% if ( vv >= 0 ) %}
                            {% if ( pp.has_parents or ( ( pp.sosa.v != zz ) and ( e.same != "" ) ) ) %}
                                {{ anc_row_hr("pp.father", ( vv - 1) , ( zz * 2 ), "ss1     ", "ss1 ┌──╴", "ss1 |   ") }}
                            {% endif %}
                            <span data-surname="_{{ pp.surname }}">
                                <span>ss2</span><span>
                                    {% if ( not cancel_links ) %}
                                        <a href="/{{ pp.access }}"
                                           class="sosa_{% if ( pp.sosa.v != zz ) %}implex_{% endif %}{{ pp.sosa.v }}"
                                           role="button">{{ pp }}</a>
                                    {% else %}
                                        {{ pp }}
                                    {% endif %}
                                {{ pp.title }}{{ pp.dates }}</span>
                                {% if ( ( pp.sosa.v != "" ) and ( pp.sosa.v != zz ) ) %}
                                    {% if ( not cancel_links ) %}
                                        <a role="button"
                                           onclick="implex('{{ pp.sosa.v }}')"
                                           title="{{ _("implex/implexes", variant='0') |capitalize }}, {{ _("see above") }} {{ _("Sosa") |capitalize }} {{ pp.sosa }}">
                                        {% endif %}
                                        <i class="fa fa-shuffle fa-fw fa-sm mx-1" aria-hidden="true"></i>
                                        <span class="sr-only">(==)</span>
                                        {% if ( not cancel_links ) %}</a>{% endif %}
                                {% endif %}
                                <br>
                            </span>
                            {% if ( pp.has_parents or ( ( e.same != "" ) and ( pp.sosa.v != zz ) ) ) %}
                                {{ anc_row_hr("pp.mother", ( vv - 1) , ( ( zz * 2 ) + 1 ), "ss3 |   ", "ss3 └──╴", "ss3     ") }}
                            {% endif %}
                        {% endif %}
                    {% endmacro %}
                    {% macro input(xx) %}
                        <label class="sr-only mt-2" for="inputxx">Filtre xx</label>
                        <input type="text"
                               id="inputxx"
                               placeholder="{{ _("surname/surnames", variant='0') }}xx"
                               title="{{ _("filter by::surname/surnames", variant='0') }}xx"
                               class="filter{% if ( xx > 1 ) %} extrafilter{% endif %} form-control ml-1{% if ( xx != 1 ) %} d-none{% endif %}"
                               disabled>
                    {% endmacro %}
                    {% macro definecujus(pp, nn) %}
                        {% if ( nn == 0 ) %}
                            {{ _("define Cujus:::pp", variant='0') |capitalize }}
                        {% else %}
                            {% if ( nn == 1 ) %}{{ _("define Cujus:::pp", variant='1') |capitalize }}{% endif %}
                        {% endif %}
                    {% endmacro %}
                    {% if ( ( e.v == "" ) and ( e.v == 0 ) ) %}
                        {{ _("specify::generation/generations", variant='0') |capitalize }}.
                    {% else %}
                        {% if ( e.t == "L" ) %}
                            <p>{{ togena(lvl) }}.</p>
                            {{ ancestors_by_list("self", lvl) }}
                        {% else %}
                            {% if ( e.t == "H" ) %}
                                <form id="filterbysurname" class="form-inline mt-2 d-none">
                                    <div class="form-control px-0 border-0">{{ _("filter by") |capitalize }}</div>
                                    <div>{{ input(1) }}{{ input(2) }}{{ input(3) }}{{ input(4) }}</div>
                                    <button id="btnplus"
                                            type="button"
                                            class="btn btn-primary ml-2"
                                            title="{{ _("add filter") |capitalize }} (max 4)">
                                        <i class="fa fa-plus fa-fw"></i>
                                    </button>
                                    <button id="btnclear"
                                            type="button"
                                            class="btn btn-danger ml-1"
                                            title="{{ _("clear filters") |capitalize }}">
                                        <i class="fa fa-xmark fa-fw"></i>
                                    </button>
                                </form>
                                <div class="text-monospace anclist_hr mt-2">
                                    {% with %}
                                        {% set sosa_v = (sosa.v) if (( sosa.v != "" )) else ("1") %}
                                        {% if ( ( ( e.same == "" ) or ( e.same == 0 ) ) and ( self == sosa_ref ) ) %}
                                            {{ anc_row_hr("self", lvl, 1, "   ", "──╴", "   ") }}
                                        {% else %}
                                            {{ anc_row_hr("self", lvl, sosa_v, "   ", "──╴", "   ") }}
                                        {% endif %}
                                    </div>
                                    {% with %}
                                        {% set pnocz_old = ("izb="e.iz) if (( e.iz != "" )) else (("pzb="e.pz"&nzb="e.nz("&oczb="e.ocz) if (( ( e.ocz != "" ) and ( e.ocz != "0" ) ))) if (( ( e.pz != "" ) or ( e.nz != "" ) ))) %}
                                        {% if ( not cancel_links ) %}
                                            {% if ( ( implexcnt > 0 ) and ( not ( ( e.iz == index ) or ( self == sosa_ref ) ) ) ) %}
                                                <i class="far fa-circle-dot fa-fw text-success"></i><a role="button"
   class="mt-3"
   href="{% if ( b.access_by_key == "yes" ) %}{{ url_set("pz/nz/ocz", first_name_key"/"surname_key"/"(occ) if (( occ != 0 ))) }}{% else %}{{ url_set("iz/same", index"/"implexcnt) }}{% endif %}&{{ pnocz_old }}">{{ definecujus(self, 0) }}</a>
                                            {% endif %}
                                            {% if ( ( e.same != "" ) and ( ( e.izb != "" ) or ( ( e.pzb != "" ) and ( e.nzb != "" ) ) ) ) %}
                                                <i class="far fa-circle-stop fa-fw text-danger"></i><a role="button"
   class="mt-3"
   href="{{ url_set.iz_pz_nz_ocz_izb_pzb_nzb_oczb_same }}{% if ( b.access_by_key == "yes" ) %}&pz={{ e.pzb }}&nz={{ e.nzb }}{% if ( e.oczb != "" ) %}&ocz={{ e.oczb }}{% endif %}{% else %}&iz={{ e.izb }}{% endif %}">
                                            {{ definecujus(capitalize(e.pzb) " "capitalize(e.nzb), "1") }}</a>
                                        {% endif %}
                                    {% endif %}
                                {% endwith %}
                            {% endwith %}
                        {% else %}
                            {% if ( e.t == "E" ) %}
                                {{ empty_sorted_list }}{# foreach not implemented yet #}
                                <div class="not_printable">
                                    {% if ( not cancel_links ) %}
                                        <div class="d-inline-flex align-items-center">
                                            {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='0') |capitalize }}
                                            <a role="button"
                                               href="{{ url_set.sort }}"
                                               class="ml-1 btn btn-link{% if ( e.sort == "" ) %} disabled" aria-disabled="true{% endif %}">
                                                <i class="fa-solid fa-arrow-down-a-z mr-1"></i>
                                            {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='2') }}</a>
                                            <a role="button"
                                               href="{{ url_set.sort.plc }}"
                                               class="btn btn-link{% if ( e.sort == "plc" ) %} disabled" aria-disabled="true{% endif %}">
                                                <i class="fa-solid fa-arrow-down-a-z mr-1"></i>{{ _("place/places", variant='1') }}</a>
                                            <a role="button"
                                               href="{{ url_set.sort.date }}"
                                               class="btn btn-link{% if ( e.sort == "date" ) %} disabled" aria-disabled="true{% endif %}">
                                                <i class="fa-regular fa-calendar-days mr-1"></i>
                                            {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='1') }}</a>
                                            <a role="button"
                                               href="{{ url_set.sort.ind }}"
                                               class="btn btn-link{% if ( e.sort == "ind" ) %} disabled" aria-disabled="true{% endif %}">
                                                <i class="fa-solid fa-arrow-down-wide-short mr-1"></i>
                                            {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='3') }}</a>
                                            <a role="button"
                                               href="{{ url_set.sort.evt }}"
                                               class="btn btn-link{% if ( e.sort == "evt" ) %} disabled" aria-disabled="true{% endif %}">
                                                <i class="fa-solid fa-arrow-down-wide-short mr-1"></i>
                                            {{ _("sort by/date begin/alphabetic order/nb individuals/nb events", variant='4') }}</a>
                                        </div>
                                    {% endif %}
                                </div>
                                <table class="list_eclair_table table table-bordered table-hover mt-2">
                                    <thead>
                                        <tr class="list_eclair_table_header">
                                            <th>{{ _("surname/surnames", variant='0') |capitalize }}</th>
                                            <th>{{ _("place/places", variant='0') |capitalize }}</th>
                                            <th class="text-center">{{ _("date begin") |capitalize }}</th>
                                            <th class="text-center">{{ _("date end") |capitalize }}</th>
                                            <th class="text-center" title="{{ _("nb individuals") }}">#{{ _("person/persons", variant='1') |capitalize }}</th>
                                            <th class="text-center" title="{{ _("nb events") }}">#{{ _("event/events", variant='1') |capitalize }}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {# foreach not implemented yet #}
                                    </tbody>
                                </table>
                            {% else %}
                                {% if ( ( e.t == "F" ) and ( e.sort == "on" ) ) %}
                                    {{ empty_sorted_list }}{{ reset_count }}{# foreach not implemented yet #}
                                    {% with %}
                                        {% set nb_gen = min(e.v, max_anc_level) %}
                                        {% if ( count > 100 ) %}
                                            <p>
                                                <span>{{ _("number of branches") |capitalize }} :</span>
                                                {# foreach not implemented yet #}
                                            </p>
                                        {% endif %}
                                        {% if ( not cancel_links ) %}
                                            <div class="">{{ _("help surname branch") |capitalize }}.</div>
                                            <table class="display_search border-0">
                                                <tr>
                                                    <td>
                                                        <b>{{ _("sort by/branch/alphabetic order", variant='0') |capitalize }}</b>
                                                    </td>
                                                    <td>
                                                        <img src="{{ url_for('static', path='images/picto_branch.png') }}">
                                                    </td>
                                                    <td>{{ _("sort by/branch/alphabetic order", variant='1') }}</td>
                                                    <td>
                                                        <i class="fa-solid fa-arrow-down-a-z ml-2"></i>
                                                    </td>
                                                    <td>
                                                        <a href="/m=A&p={{ first_name_key }}&n={{ surname_key }}&oc={{ e.oc }}&sosab={{ e.sosab }}&t={{ e.t }}&v={{ e.v }}">
                                                            {{ _("sort by/branch/alphabetic order", variant='2') }}
                                                        </a>
                                                    </td>
                                                </tr>
                                            </table>
                                        {% endif %}
                                        <ul class="surname_branch_sort">
                                            {% if ( count <= 100 ) %}
                                                <li>
                                                    <table class="table table-sm w-auto asc-desc-table mt-2">
                                                        <thead>
                                                            <tr>
                                                                <th>{{ _("surname/surnames", variant='0') |capitalize }}</th>
                                                                <th>{{ _("nb branches") |capitalize }}</th>
                                                                <th>{{ _("place/places", variant='0') |capitalize }}</th>
                                                                <th>{{ _("date/dates", variant='0') |capitalize }}</th>
                                                            </tr>
                                                        </thead>
                                                    {% endif %}
                                                    {# foreach not implemented yet #}
                                                    {% if ( count <= 100 ) %}
                                                    </table>
                                                </li>
                                            {% endif %}
                                        </ul>
                                        <p style="clear:both"></p>
                                    {% endwith %}
                                {% else %}
                                    {% if ( e.t == "F" ) %}
                                        {% with %}
                                            {% set nb_gen = min(e.v, max_anc_level) %}
                                            {% if ( not cancel_links ) %}
                                                <div>{{ _("help surname branch") |capitalize }}.</div>
                                                <table class="display_search border-0">
                                                    <tr>
                                                        <td>
                                                            <b>{{ _("sort by/branch/alphabetic order", variant='0') |capitalize }}</b>
                                                        </td>
                                                        <td>
                                                            <img src="{{ url_for('static', path='images/picto_branch.png') }}">
                                                        </td>
                                                        <td>
                                                            <a href="/m=A&p={{ first_name_key }}&n={{ surname_key }}&oc={{ e.oc }}&sosab={{ e.sosab }}&t={{ e.t }}&v={{ e.v }}&sort=on">
                                                                {{ _("sort by/branch/alphabetic order", variant='1') }}
                                                            </a>
                                                        </td>
                                                        <td>
                                                            <i class="fa-solid fa-arrow-down-a-z ml-2"></i>
                                                        </td>
                                                        <td>{{ _("sort by/branch/alphabetic order", variant='2') }}</td>
                                                    </tr>
                                                </table>
                                            {% endif %}
                                            <table class="table table-sm w-auto asc-desc-table mt-2">
                                                <thead>
                                                    <tr>
                                                        <th>{{ _("surname/surnames", variant='0') |capitalize }}</th>
                                                        <th>{{ _("nb branches") |capitalize }}</th>
                                                        <th>{{ _("place/places", variant='0') |capitalize }}</th>
                                                        <th>{{ _("date/dates", variant='0') |capitalize }}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {# foreach not implemented yet #}
                                                </tbody>
                                            </table>
                                        {% endwith %}
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% endif %}
                {% include 'trl.html.j2' %}
                {% include 'copyr.html.j2' %}
            </div>
            {% include 'js.html.j2' %}
            {{ query_time }}
        </body>
    </html>
{% endwith %}
{% endwith %}

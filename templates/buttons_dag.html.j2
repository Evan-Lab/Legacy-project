{# 
  Generated by JinjaGenerator for template 'buttons_dag'
    at 2025-10-26T20:24:35.063948

  Used macros:
  - setvar(nnn, vvv)
  - getvar(nnn)

  Used includes:
  None

  Used variables:
  - e.v (x14)
  - e.m (x26)
  - e.t (x19)
  - e.em (x1)
  - e.dag (x15)
  - e.mf (x9)
  - e.im (x6)
  - e.ma (x3)
  - e.sp (x6)
  - b.max_anc_tree (x2)
  - b.max_anc_level (x2)
  - b.max_desc_tree (x2)
  - b.max_desc_level (x2)
  - static_max_anc_level (x1)
  - static_max_desc_level (x1)
  - maxlev (x17)
  - evarv (x16)
  - maxv (x2)
  - set_var.nnn.vvv (x1)
  - get_var.nnn (x1)
  - get_var.fatheraccess (x1)
  - get_var.motheraccess (x1)
  - get_var.prevsiblingaccess (x1)
  - get_var.nextsiblingaccess (x1)
  - get_var.prevsiblingname (x1)
  - get_var.nextsiblingname (x1)
  - dtree (x5)
  - has_parents (x3)
  - father.access (x1)
  - father.has_parents (x1)
  - father.first_name (x1)
  - father.surname (x1)
  - mother.access (x1)
  - mother.has_parents (x1)
  - mother.first_name (x1)
  - mother.surname (x1)
  - mother_access (x4)
  - father_access (x4)
  - cancel_links (x2)
  - prefix_base_password (x10)
  - withparents (x3)
  - url_set.mf[1] (x1)
  - url_set.mf (x1)
  - url_set.dag.on (x1)
  - url_set.dag (x1)
  - url_set.im[0] (x2)
  - url_set.im (x2)
  - url_set.ma[0] (x1)
  - url_set.ma (x1)
  - url_set.sp[0] (x2)
  - url_set.sp (x2)
  - url_set.cgl.on (x2)
  - prev_sibling_access (x4)
  - next_sibling_access (x4)
  - minv (x1)
  - i (x10)
  - sp (x1)
#}
<!-- $Id: buttons_dag.txt v7.1 02/09/2023 02:36:09 $ -->
<!-- Copyright (c) 1998-2007 INRIA -->
{% with %}
    {% set evarv = (e.v) if (( e.v != "" )) else ("3") %}
    {% with %}
        {% set maxlev = (min((b.max_anc_tree) if (( b.max_anc_tree != "" )), (b.max_anc_level) if (( b.max_anc_level != "" )), static_max_anc_level)) if (( e.m == "A" )) else ((min((b.max_desc_tree) if (( b.max_desc_tree != "" )), (b.max_desc_level) if (( b.max_desc_level != "" )), static_max_desc_level)) if (( e.m == "D" )) else (12)) %}
        {% with %}
            {% set maxv = (( maxlev + 1 )) if (( ( maxlev < 10 ) or ( maxlev < ( evarv + 5 ) ) )) else ((( evarv + 5 )) if (( ( maxlev >= ( evarv + 5 ) ) and ( evarv > 5 ) )) else ("10")) %}
            {% with %}
                {% set minv = (( maxv - 9 )) if (( ( maxlev > 9 ) and ( maxlev < ( evarv + 5 ) ) )) else ((( evarv - 4 )) if (( ( maxlev > 9 ) and ( evarv > 5 ) )) else ("1")) %}
                {% macro setvar(nnn, vvv) %}
                    {{ set_var.nnn.vvv }}
                {% endmacro %}
                {% macro getvar(nnn) %}
                    {{ get_var.nnn }}
                {% endmacro %}
                {% with %}
                    {% set dtree = ("1") if (( ( e.m == "D" ) and ( ( e.t == "T" ) or ( e.t == "TV" ) ) )) %}
                    {% if ( dtree == 1 ) %}
                        {# foreach not implemented yet #}{% else %}{% if ( ( e.em != "R" ) and ( ( e.m != "RLM" ) and ( ( e.m != "RL" ) and ( e.dag != "on" ) ) ) ) %}{% if has_parents %}{# foreach not implemented yet #}
                    {% endif %}
                {% endif %}
            {% endif %}
            {% with %}
                {% set father_access = (get_var.fatheraccess) if (( dtree == 1 )) else (((father.access) if (has_parents)) if (( e.dag != "on" ))) %}
                {% with %}
                    {% set mother_access = (get_var.motheraccess) if (( dtree == 1 )) else (((mother.access) if (has_parents)) if (( e.dag != "on" ))) %}
                    {% with %}
                        {% set withparents = ("1") if (( ( mother_access != "" ) or ( father_access != "" ) )) %}
                        {% with %}
                            {% set prev_sibling_access = get_var.prevsiblingaccess %}
                            {% with %}
                                {% set next_sibling_access = get_var.nextsiblingaccess %}
                                {% if ( ( not cancel_links ) and ( ( e.m == "A" ) or ( e.m == "D" ) ) ) %}
                                    <nav class="navbar fixed-bottom navbar-light bg-light justify-content-center py-0">
                                        <div class="btn-toolbar align-items-center{% if ( ( e.m == "D" ) or ( e.dag == "on" ) ) %} mt-1{% endif %}"
                                             role="toolbar"
                                             arial-label="asc/dsc button group">
                                            <div class="btn-group border rounded mr-1"
                                                 role="group"
                                                 aria-label="ascendant tree button group">
                                            <a role="button"
                                               href="{{ prefix_base_password }}m=A&t=A{# foreach not implemented yet #}"
                                               class="btn btn-outline-primary border-{% if ( e.t != "A" ) %}0{% else %}2 disabled font-weight-bold{% endif %}{% if ( withparents != 1 ) %} disabled{% endif %} px-2 pt-1 h-100"
                                               title="{{ _("male line/female line", variant='0') |capitalize }}"><i class="fas fa-mars fa-lg"></i>
                                            <br>
                                        Agna.</a>
                                    <a role="button"
                                       href="{{ prefix_base_password }}m=A&t=T{# foreach not implemented yet #}"
                                       class="btn btn-outline-primary border-{% if ( ( e.m == "A" ) and ( e.t == "T" ) ) %}2 disabled font-weight-bold{% else %}0{% endif %}{% if ( withparents != 1 ) %} disabled{% endif %} px-3 pt-1 h-100"
                                       title="{{ _("ascendants tree") |capitalize }}"><i class="fas fa-code-fork fa-lg"></i>
                                    <br>
                                Asc.</a>
                            <a role="button"
                               href="{{ prefix_base_password }}m=A&t=C{# foreach not implemented yet #}"
                               class="btn btn-outline-primary border-{% if ( e.t != "C" ) %}0{% else %}2 disabled font-weight-bold{% endif %}{% if ( withparents != 1 ) %} disabled{% endif %} px-2 pt-1 h-100"
                               title="{{ _("male line/female line", variant='1') |capitalize }}"><i class="fas fa-venus fa-lg"></i>
                            <br>
                        Cogn.</a>
                    </div>
                    <div class="btn-group border rounded mr-1">
                    <a role="button"
                       href="{{ prefix_base_password }}m=D&t=T{# foreach not implemented yet #}"
                       class="btn btn-outline-primary border-{% if ( ( e.m == "D" ) and ( e.t == "T" ) ) %}2 disabled font-weight-bold{% else %}0{% endif %} pt-1"
                       title="{{ _("descendants tree") |capitalize }}"><i class="fas fa-sitemap fa-lg"></i>
                    <br>
                Desc.</a>
            <a role="button"
               href="{{ prefix_base_password }}m=D&t=V{# foreach not implemented yet #}"
               class="btn btn-outline-primary border-{% if ( ( e.m == "D" ) and ( e.t == "V" ) ) %}2 disabled font-weight-bold{% else %}0{% endif %} pt-1"
               title="{{ _("descendants tree") |capitalize }}"><i class="fas fa-sitemap fa-sm"></i>
            <br>
        V</a>
    <a role="button"
       class="btn btn-outline-primary border-{% if ( ( e.m == "D" ) and ( e.t == "TV" ) ) %}2 disabled font-weight-bold{% else %}0{% endif %} pt-1"
       href="{{ prefix_base_password }}m=D&t=TV{# foreach not implemented yet #}"
       title="{% if ( e.t != "TV" ) %}{{ _("visualize/show/hide/summary", variant='1') |capitalize }} {{ _("compact form") }}{% endif %}"><i class="fas fa-code-fork fa-rotate-180 fa-lg"></i>
    <br>
Short</a>
</div>
<div class="d-flex flex-column justify-content-center mr-1">
    <div class="d-flex flex-nowrap justify-content-center mx-1">
        <div class="border rounded order-{% if ( e.mf == 1 ) %}1{% else %}3{% endif %}">
            <a role="button"
               class="d-flex btn btn-sm btn-outline-{% if ( ( e.dag == "on" ) or ( ( ( e.dag != "on" ) and ( mother_access == "" ) ) or ( ( e.dag != "on" ) and ( ( e.m == "A" ) and ( not mother.has_parents ) ) ) ) ) %}dark disabled{% else %}primary{% endif %} border-0"
               href="{{ prefix_base_password }}m={{ e.m }}&t={{ e.t }}&{{ mother_access }}&{# foreach not implemented yet #}v={% if ( ( e.m == "D" ) and ( e.v < maxlev ) ) %}{{ e.v + 1 }}{% else %}{{ e.v }}{% endif %}"
               title="{{ _("navigate on tree") |capitalize }} {{ _("with") }} {% if ( e.m == "D" ) %}{{ _("father/mother", variant='1') }}{{ _(":") }}&#10;{{ mother_access }}&#10;v={% if ( e.v < maxlev ) %}{{ e.v + 1 }}{% else %}{{ e.v }} (max){% endif %}{% else %}{{ _("the father/the mother/a parent", variant='1') }} {{ mother.first_name }} {{ mother.surname }}{% endif %}"><span {% if ( e.mf == 1 ) %}class="order-2"{% endif %}>{{ _("father/mother", variant='1') |capitalize }}</span><i class="fas fa-arrow-turn-up fa-sm{% if ( e.mf == 1 ) %} fa-flip-horizontal order-1 mr{% else %} ml{% endif %}-2 align-self-center"></i></a>
        </div>
        <div class="border rounded mx-1 order-2">
            <a role="button"
               class="btn btn-sm btn-outline-{% if ( ( e.m == "A" ) and ( ( e.t == "T" ) and ( e.dag != "on" ) ) ) %}primary{% else %}dark disabled{% endif %} border-{% if ( ( e.m == "A" ) and ( e.mf == 1 ) ) %}2{% else %}0{% endif %}"
               href="{% if ( e.mf != 1 ) %}{{ url_set.mf[1] }}{% else %}{{ url_set.mf }}{% endif %}"
               title="{{ _("invert") |capitalize }} {% if ( e.mf == 1 ) %}{{ _("father/mother", variant='1') }}/{{ _("father/mother", variant='0') }}{% else %}{{ _("father/mother", variant='0') }}/{{ _("father/mother", variant='1') }}{% endif %}"><i class="fas fa-arrow-right-arrow-left fa-sm"></i></a>
        </div>
        <div class="border rounded order-{% if ( e.mf == 1 ) %}3{% else %}1{% endif %}">
            <a role="button"
               class="d-flex btn btn-sm btn-outline-{% if ( ( e.dag == "on" ) or ( ( ( e.dag != "on" ) and ( father_access == "" ) ) or ( ( e.dag != "on" ) and ( ( e.m == "A" ) and ( not father.has_parents ) ) ) ) ) %}dark disabled{% else %}primary{% endif %} border-0"
               href="{{ prefix_base_password }}m={{ e.m }}&t={{ e.t }}&{{ father_access }}&{# foreach not implemented yet #}v={% if ( ( e.m == "D" ) and ( e.v < maxlev ) ) %}{{ e.v + 1 }}{% else %}{{ e.v }}{% endif %}"
               title="{{ _("navigate on tree") |capitalize }} {{ _("with") }} {% if ( e.m == "D" ) %}{{ _("father/mother", variant='0') }}{{ _(":") }}&#10;{{ father_access }}&#10;v={% if ( e.v < maxlev ) %}{{ e.v + 1 }}{% else %}{{ e.v }} (max){% endif %}{% else %}{{ _("the father/the mother/a parent", variant='0') }} {{ father.first_name }} {{ father.surname }}{% endif %}"><i class="fas fa-arrow-turn-up fa-sm{% if ( e.mf == 1 ) %} order-2 ml{% else %} fa-flip-horizontal mr{% endif %}-2 align-self-center"></i><span {% if ( e.mf == 1 ) %}class="order-1"{% endif %}>{{ _("father/mother", variant='0') |capitalize }}</span></a>
        </div>
    </div>
    <div class="d-inline-flex flex-nowrap justify-content-around align-items-center my-1">
        <a role="button" class="btn btn-sm btn-outline-{% if ( ( prev_sibling_access == "" ) or ( "%" in prev_sibling_access ) ) %}dark disabled
        {% else %}
            primary
        {% endif %}
    border rounded" href="{{ prefix_base_password }}{{ prev_sibling_access }}&{# foreach not implemented yet #}" title="{{ _("navigate on tree") |capitalize }} {{ _("with") }} {{ _("previous sibling", variant='2') }} {% if ( dtree == 1 ) %}{{ prev_sibling_access }}{% else %}{{ get_var.prevsiblingname }}{% endif %}"><i class="fas fa-angle-left"></i></a>
    <span class="user-select-none small">{{ _("siblings") |capitalize }}</span>
    <a role="button" class="btn btn-sm btn-outline-{% if ( ( next_sibling_access == "" ) or ( "%" in next_sibling_access ) ) %}dark disabled
    {% else %}
        primary
    {% endif %}
border rounded" href="{{ prefix_base_password }}{{ next_sibling_access }}&{# foreach not implemented yet #}" title="{{ _("navigate on tree") |capitalize }} {{ _("with") }} {{ _("next sibling", variant='2') }} {% if ( dtree == 1 ) %}{{ next_sibling_access }}{% else %}{{ get_var.nextsiblingname }}{% endif %}"><i class="fas fa-angle-right"></i></a>
</div>
</div>
<div>
    <div class="btn-group border rounded"
         role="group"
         aria-label="generation pickup buttons group">
        <span class="btn btn-sm btn-primary disabled border border-info rounded-left mt-0 w-100 h-100">{{ _("generation/generations", variant='0') |capitalize }}</span>
        {% if ( ( maxlev > 9 ) and ( evarv > 5 ) ) %}
            <a role="button"
               href="{{ url_set("v", ( evarv - 1) ) }}"
               class="btn btn-sm btn-outline-primary font-weight-bold border-0 px-2"
               title="(-1) {{ _("visualize/show/hide/summary", variant='1') }} {{ evarv - 1 }} {{ _("generation/generations", variant='1') }} (max {{ maxlev }})">−</a>
        {% endif %}
        {% for i in minv..maxv %}
            <a role="button"
               id="v{{ i }}"
               class="btn btn-sm px-{% if ( i < 10 ) %}2{% else %}1{% endif %} btn-outline-primary border-{% if ( evarv == i ) %}2 rounded disabled font-weight-bold{% else %}0{% endif %}"
               {% if ( evarv != i ) %}href="{{ url_set("v", i) }}"{% endif %}
               {{ sp }}
               title="{% if ( evarv != i ) %}{{ _("visualize/show/hide/summary", variant='1') |capitalize }} {{ i }} {% if ( i == 1 ) %}{{ _("generation/generations", variant='0') }}{% else %}{{ _("generation/generations", variant='1') }}{% endif %}{% endif %} {% if ( i == maxlev ) %}(max){% endif %}">{{ i }}</a>
        {% endfor %}
        {% if ( ( maxlev > 9 ) and ( ( maxlev - evarv ) >= 5 ) ) %}
            <a role="button"
               href="{{ url_set("v", ( evarv + 1) ) }}"
               class="btn btn-sm btn-outline-primary font-weight-bold border-0 px-2"
               title="(+1) {{ _("visualize/show/hide/summary", variant='1') }} {{ evarv + 1 }} {{ _("generation/generations", variant='1') }} (max {{ maxlev }})">+</a>
        {% endif %}
    </div>
    <div class="d-flex align-self-center my-1">
        <div class="border rounded mr-1">
            <a role="button"
               class="btn btn-sm btn-outline-{% if ( e.dag == "on" ) %}primary border-2{% else %}{% if ( ( e.t == "C" ) or ( ( e.t == "A" ) or ( ( e.t == "V" ) or ( e.t == "TV" ) ) ) ) %}dark disabled border-0{% else %}primary border-0{% endif %}{% endif %}"
               href="{% if ( e.dag != "on" ) %}{{ url_set.dag.on }}{% else %}{{ url_set.dag }}{% endif %}"
               title="{% if ( e.dag != "on" ) %}{{ _("dag on/dag off", variant='0') |capitalize }}{% else %}{{ _("dag on/dag off", variant='1') |capitalize }}{% endif %} ({{ _("dag") }})">
                <i class="fa fa-shuffle fa-fw fa-lg"></i>Dag</a>
        </div>
        <div class="border rounded mr-1">
            <a role="button"
               class="btn btn-sm btn-outline-primary border-{% if ( e.im != 0 ) %}2{% else %}0{% endif %} h-100"
               href="{% if ( e.im != 0 ) %}{{ url_set.im[0] }}{% else %}{{ url_set.im }}{% endif %}"
               title="{% if ( e.im != 0 ) %}{{ _("visualize/show/hide/summary", variant='2') |capitalize }}{% else %}{{ _("visualize/show/hide/summary", variant='1') |capitalize }}{% endif %} {{ _("image/images", variant='1') }}">
                <i class="fa fa-image fa-sm mr-1"></i>{{ _("image/images", variant='1') |capitalize }}
            </a>
        </div>
        <div class="border rounded mr-1">
            <a role="button"
               class="btn btn-sm btn-outline-{% if ( ( e.dag == "on" ) or ( ( e.t == "A" ) or ( ( e.t == "C" ) or ( e.t == "V" ) ) ) ) %}dark disabled border-0{% else %}primary{% endif %} border-{% if ( e.ma != 0 ) %}2{% else %}0{% endif %} w-100 h-100"
               href="{% if ( e.ma != 0 ) %}{{ url_set.ma[0] }}{% else %}{{ url_set.ma }}{% endif %}"
               title="{% if ( e.ma != 0 ) %}{{ _("visualize/show/hide/summary", variant='2') |capitalize }}{% else %}{{ _("visualize/show/hide/summary", variant='1') |capitalize }}{% endif %} {{ _("date of marriage") }}">
                <i class="fa fa-venus-mars fa-sm mr-1"></i>{{ _("marriage/marriages", variant='1') |capitalize }}
            </a>
        </div>
        <div class="border rounded mr-1">
            <a role="button"
               class="btn btn-sm btn-outline-{% if ( e.m == "A" ) %}dark disabled border-0{% else %}primary {% endif %} border-{% if ( e.sp != 0 ) %}2{% else %}0{% endif %} w-100 h-100"
               href="{% if ( e.sp != 0 ) %}{{ url_set.sp[0] }}{% else %}{{ url_set.sp }}{% endif %}"
               title="{% if ( e.sp != 0 ) %}{{ _("visualize/show/hide/summary", variant='2') |capitalize }}{% else %}{{ _("visualize/show/hide/summary", variant='1') |capitalize }}{% endif %} {{ _("spouse/spouses", variant='1') }}">
                <i class="fa fa-user-plus fa-sm mr-1"></i>{{ _("spouse/spouses", variant='1') |capitalize }}
            </a>
        </div>
        <div class="border rounded mr-1">
            <a role="button"
               class="btn btn-sm btn-outline-primary mr-2 border-0 w-100 h-100"
               href="{{ url_set.cgl.on }}"
               target="_blank">
                <i class="fa fa-link-slash fa-sm mr-1"
                   title="{{ _("cancel GeneWeb links") |capitalize }}"></i>Cgl</a>
        </div>
    </div>
</div>
</div>
</div>
</nav>
{% else %}
{% if ( ( not cancel_links ) and ( e.m == "RLM" ) ) %}
    <div class="btn-group ml-auto align-items-center mr-5"
         role="group"
         arial-label="RLM button group">
        <a class="btn btn-outline-primary border-0"
           title="{{ _("add/clear/show/edit the graph", variant='3') |capitalize }}"
           href="{{ url_set("m/v", "TP/upd"e.m) }}">
            <i class="far fa-pen-to-square fa-lg fa-fw"></i> {{ _("modify") |capitalize }}</a>
        <a role="button"
           class="btn btn-outline-{% if ( e.im == 0 ) %}primary{% else %}danger{% endif %} ml-1 border-0"
           href="{% if ( e.im != 0 ) %}{{ url_set.im[0] }}{% else %}{{ url_set.im }}{% endif %}"
           title="{% if ( e.im != 0 ) %}{{ _("visualize/show/hide/summary", variant='2') |capitalize }}{% else %}{{ _("visualize/show/hide/summary", variant='1') |capitalize }}{% endif %} {{ _("image/images", variant='1') }}">
            <i class="fa fa-image fa-lg fa-fw"></i> {{ _("image/images", variant='1') |capitalize }}</a>
        <a role="button"
           class="btn btn-sm btn-outline-{% if ( e.m == "A" ) %}dark disabled border-0{% else %}primary {% endif %} border-{% if ( e.sp != 0 ) %}2{% else %}0{% endif %} w-100 h-100"
           href="{% if ( e.sp != 0 ) %}{{ url_set.sp[0] }}{% else %}{{ url_set.sp }}{% endif %}"
           title="{% if ( e.sp != 0 ) %}{{ _("visualize/show/hide/summary", variant='2') |capitalize }}{% else %}{{ _("visualize/show/hide/summary", variant='1') |capitalize }}{% endif %} {{ _("spouse/spouses", variant='1') }}">
            <i class="fa fa-user-plus fa-sm mr-1"></i>{{ _("spouse/spouses", variant='1') |capitalize }}</a>
        <a role="button"
           class="btn btn-outline-primary ml-1 border-0"
           href="{{ url_set.cgl.on }}"
           title="{{ _("cancel links") }}"><i class="fa fa-link-slash fa-lg fa-fw"></i> Cgl</a>
    </div>
{% endif %}
{% endif %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
{% endwith %}
